<svg xmlns="http://www.w3.org/2000/svg" version="1.1">

  <title>Testcase for opacity on elements referencing a gradient</title>

  <defs>
    <linearGradient id="g">
      <stop stop-color="red"/>
    </linearGradient>
    <pattern id="p" width="100%" height="100%">
      <rect width="100%" height="100%" fill="red"/>
    </pattern>
  </defs>

  <rect width="100%" height="100%" fill="lime"/>

  <!-- test gradient -->
  <rect         width="25%" height="100%" fill="url(#g)" opacity="0"/>
  <rect x="25%" width="25%" height="100%" fill="url(#g)" fill-opacity="0"/>

  <!-- test pattern as a bonus -->
  <rect x="50%" width="25%" height="100%" fill="url(#p)" opacity="0"/>
  <rect x="75%" width="25%" height="100%" fill="url(#p)" fill-opacity="0"/>

</svg>
