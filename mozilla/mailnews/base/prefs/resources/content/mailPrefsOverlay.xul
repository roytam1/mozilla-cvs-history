<?xml version="1.0"?>

<!DOCTYPE window [
<!ENTITY % brandDTD SYSTEM "chrome://global/locale/brand.dtd" >
%brandDTD;
<!ENTITY % mailPrefsOverlayDTD SYSTEM "chrome://messenger/locale/mailPrefsOverlay.dtd" >
%mailPrefsOverlayDTD;
]>

<overlay id="mailPrefsOverlay"
         xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

  <script type="application/x-javascript">
  <![CDATA[
    var panel;
    if (panel != undefined) {
      switch(panel) 
      {
      case "chrome://communicator/content/pref/pref-advanced.xul":
        _elementIDs.push("javascriptAllowMailNews");
        break;
      case "chrome://communicator/content/pref/pref-appearance.xul":
        _elementIDs.push("generalStartupMail");
        break;
      }
    }
  ]]>
  </script>         

  <!-- javascript toggle for mail/news -->
  <groupbox id="advancedSettings">
    <checkbox id="javascriptAllowMailNews" position="3"
              label="&enbJsCheckMailNews.label;" accesskey="&enbJsCheckMailNews.accesskey;"
              pref="true" preftype="bool" prefstring="javascript.allow.mailnews"
              prefattribute="checked"/>
  </groupbox>

  <!-- mail startup toggle -->
  <groupbox id="generalStartupPreferences">           
    <checkbox id="generalStartupMail" wsm_persist="true" position="3"
              label="&mesCheck.label;" accesskey="&mesCheck.accesskey;"
              pref="true" preftype="bool" prefstring="general.startup.mail"
              prefattribute="checked"/>         
  </groupbox>

  <!-- category tree entries for mail/news -->
  <outlinerchildren id="panelChildren">
    <outlineritem container="true" id="mailnews" position="3">
      <outlinerrow>       
        <outlinercell url="chrome://messenger/content/pref-mailnews.xul" label="&mail.label;"/> 
      </outlinerrow>
      <outlinerchildren id="messengerChildren">
        <outlineritem>
          <outlinerrow>
            <outlinercell url="chrome://messenger/content/pref-viewing_messages.xul" label="&viewingMessages.label;"/> 
          </outlinerrow>
        </outlineritem>
        <outlineritem>
          <outlinerrow>
            <outlinercell url="chrome://messenger/content/messengercompose/pref-composing_messages.xul" label="&composingMessages.label;"/> 
          </outlinerrow>
        </outlineritem>
        <outlineritem>
          <outlinerrow>
            <outlinercell url="chrome://messenger/content/messengercompose/pref-formatting.xul" label="&format.label;"/> 
          </outlinerrow>
        </outlineritem>
        <outlineritem>
          <outlinerrow>
            <outlinercell url="chrome://messenger/content/addressbook/pref-addressing.xul" label="&address.label;"/> 
          </outlinerrow>
        </outlineritem>
        <outlineritem>
          <outlinerrow>
            <outlinercell url="chrome://messenger/content/pref-labels.xul" label="&labels.label;"/>
          </outlinerrow>
        </outlineritem>
      </outlinerchildren>
    </outlineritem>
  </outlinerchildren>
           
</overlay>         
