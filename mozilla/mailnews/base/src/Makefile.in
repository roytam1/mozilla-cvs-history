#
# The contents of this file are subject to the Netscape Public
# License Version 1.1 (the "License"); you may not use this file
# except in compliance with the License. You may obtain a copy of
# the License at http://www.mozilla.org/NPL/
#
# Software distributed under the License is distributed on an "AS
# IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
# implied. See the License for the specific language governing
# rights and limitations under the License.
#
# The Original Code is mozilla.org code.
#
# The Initial Developer of the Original Code is Netscape
# Communications Corporation.  Portions created by Netscape are
# Copyright (C) 1998 Netscape Communications Corporation. All
# Rights Reserved.
#
# Contributor(s): 
#

DEPTH		= ../../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

MODULE		= msgbase
LIBRARY_NAME	= msgbase_s
REQUIRES	= xpcom necko dom js appshell appcomps uconv intl htmlparser widget docshell rdf mime editor layout mailnews locale msgbaseutil webshell txmgr view msgcompose msgdb uriloader pref profile msglocal msgimap msgsearch timer mork msgnews addrbook prefmigr chrome

CPPSRCS		= \
		nsMessenger.cpp \
		nsMessengerBootstrap.cpp \
		nsMsgKeyArray.cpp \
		nsUrlListenerManager.cpp \
		nsMsgMailSession.cpp \
		nsMsgMD5.cpp \
		nsMsgAccountManager.cpp \
		nsMsgAccount.cpp \
		nsCopyMessageStreamListener.cpp \
		nsMsgRDFDataSource.cpp \
		nsMsgFolderDataSource.cpp \
		nsMsgMessageDataSource.cpp \
		nsMsgAccountManagerDS.cpp \
		nsMsgRDFUtils.cpp \
		nsMsgBiffManager.cpp \
		nsMsgNotificationManager.cpp \
		nsMsgCopyService.cpp \
		nsMsgFolderCache.cpp \
		nsMsgFolderCacheElement.cpp \
		nsMsgFolderCompactor.cpp \
		nsMsgStatusFeedback.cpp \
		nsMessageView.cpp \
		nsMsgWindow.cpp \
		nsMessengerMigrator.cpp \
		nsMsgViewNavigationService.cpp \
		nsMsgServiceProvider.cpp	\
		nsSubscribeDataSource.cpp	\
		nsSubscribableServer.cpp \
		nsMsgPrintEngine.cpp	\
		nsStatusBarBiffManager.cpp \
		nsMsgDBView.cpp \
		nsMsgThreadedDBView.cpp \
		nsMsgSpecialViews.cpp \
		nsMsgSearchDBView.cpp \
    nsMsgOfflineManager \
		$(NULL)

EXPORTS		= \
		nsMessenger.h \
		nsMessengerBootstrap.h \
		nsMsgKeyArray.h \
		nsUrlListenerManager.h \
		nsMsgMailSession.h \
		nsMsgAccountManager.h \
		nsMsgAccount.h \
		nsMsgFolderDataSource.h \
		nsMsgFolderCache.h \
		nsMsgMessageDataSource.h \
		nsMsgAccountManagerDS.h \
		nsMsgRDFDataSource.h \
		nsMsgRDFUtils.h \
		nsMsgBiffManager.h \
		nsMsgNotificationManager.h \
		nsCopyMessageStreamListener.h \
		nsMsgCopyService.h \
		nsMsgStatusFeedback.h \
		nsMessageView.h \
		nsMsgWindow.h \
		nsMessengerMigrator.h \
		nsMsgViewNavigationService.h \
		nsMsgServiceProvider.h \
		nsSubscribeDataSource.h \
		nsSubscribableServer.h \
		nsMsgPrintEngine.h \
		nsStatusBarBiffManager.h \
		$(NULL)

# we don't want the shared lib, but we want to force the creation of a static lib.
override NO_SHARED_LIB=1
override NO_STATIC_LIB=

include $(topsrcdir)/config/rules.mk

