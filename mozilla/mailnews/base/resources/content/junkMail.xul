<?xml version="1.0"?>

<?xml-stylesheet href="chrome://messenger/skin/accountManage.css" type="text/css"?>

<?xul-overlay href="chrome://global/content/dialogOverlay.xul"?>

<?xul-overlay href="chrome://messenger/content/msgFolderPickerOverlay.xul"?>

<!DOCTYPE window SYSTEM "chrome://messenger/locale/junkMail.dtd">

<dialog id="junkMail"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        xmlns:nc="http://home.netscape.com/NC-rdf#"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
        windowtype="mailnews:junk"
        title="&window.title;"
        onload="onJunkMailLoad()"
        buttons="accept,cancel,help"
        ondialogaccept="return onAccept();"
        ondialoghelp="return doHelpButton();"
        persist="screenX screenY width height">

<stringbundleset id="stringbundleset">
  <stringbundle id="bundle_messenger" src="chrome://messenger/locale/messenger.properties"/>
</stringbundleset>

<script type="application/x-javascript" src="chrome://messenger/content/junkMail.js"/>
<script type="application/x-javascript" src="chrome://messenger/content/widgetglue.js"/>

<vbox>
  <hbox align="center">
    <label value="&account.label;" accesskey="&account.accesskey;"/>
    <menulist oncommand="onServerClick(event);" id="server">
      <menupopup datasources="rdf:msgaccountmanager rdf:mailnewsfolders"
                   containment="http://home.netscape.com/NC-rdf#child" ref="msgaccounts:/">
        <template>
          <rule nc:CanGetIncomingMessages="true">
            <menuitem uri="..." value="..."
                 class="folderMenuItem menuitem-iconic"
                 IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                 IsSecure="rdf:http://home.netscape.com/NC-rdf#IsSecure"
                 ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"
                 label="rdf:http://home.netscape.com/NC-rdf#Name"/>
          </rule>
        </template>
      </menupopup>
    </menulist>

    <spacer flex="1"/>
    <button label="&viewLog.label;" accesskey="&viewLog.accesskey;" oncommand="junkLog()"/>
  </hbox>

  <separator/>
  <description>&info1.label;</description>
  <separator/>
  <description>&info2.label;</description>
  <separator/>

  <hbox>
    <radiogroup flex="1" id="level" orient="horizontal">
      <!-- using 0 - 100, in case we ever do a slider or add more levels.  
           this way, the exist pref value will migrate nice. -->
      <radio flex="1" id="level0" value="0" accesskey="&off.accesskey;" label="&off.label;"/>
      <radio flex="1" id="level20" value="20" accesskey="&lowest.accesskey;" label="&lowest.label;"/>
      <radio flex="1" id="level40" value="40" accesskey="&low.accesskey;" label="&low.label;"/>
      <radio flex="1" id="level60" value="60" accesskey="&medium.accesskey;" label="&medium.label;"/>
      <radio flex="1" id="level80" value="80" accesskey="&high.accesskey;" label="&high.label;"/>
      <radio flex="1" id="level100" value="100" accesskey="&highest.accesskey;" label="&highest.label;"/>
    </radiogroup>
  </hbox>

  <separator/>

  <vbox align="start">
    <label value="&action.label;"/>

    <checkbox id="moveOnSpam" oncommand="conditionallyEnableUI('moveOnSpam')" label="&move.label;"/>

    <radiogroup id="moveTargetMode">
      <grid class="specialFolderPickerGrid">
        <columns>
          <column flex="1"/>
          <column flex="2"/>
        </columns>
        <rows>
          <row align="center">
            <radio id="moveTargetMode0" oncommand="conditionallyEnableUI('moveOnSpam')"
                   value="0" label="&junkFolderOn.label;"/> 
  	        <menulist id="actionTargetAccount" flex="1"/>
          </row> 
          <row align="center">
            <radio id="moveTargetMode1" oncommand="conditionallyEnableUI('moveOnSpam')"
	           value="1" label="&otherFolder.label;"/>
  	        <menulist id="actionTargetFolder"/>
          </row>
        </rows>
      </grid>
    </radiogroup>
  </vbox>

  <hbox autostretch="never" align="center">
    <checkbox id="purge" oncommand="conditionallyEnableUI('purge')" accesskey="&purge1.accesskey;" label="&purge1.label;"/>
    <textbox size="3" id="purgeInterval" />
    <label id="purgeLabel" value="&purge2.label;"/>
  </hbox>

  <hbox align="center">
    <checkbox id="useWhiteList" oncommand="conditionallyEnableUI('useWhiteList')" accesskey="&whitelist.accesskey;" label="&whitelist.label;"/>
    <menulist id="whiteListAbURI">
     <menupopup id="abPopup-menupopup" ref="moz-abdirectory://"
        datasources="rdf:addressdirectory">
        <template>
        <rule nc:IsWriteable="false"/>
        <rule nc:IsMailList="false">
          <menuitem uri="..."
                    label="rdf:http://home.netscape.com/NC-rdf#DirName"
                    value="rdf:http://home.netscape.com/NC-rdf#DirUri"/>
        </rule>
        </template>
      </menupopup>
    </menulist>
  </hbox>
</vbox>

</dialog>
