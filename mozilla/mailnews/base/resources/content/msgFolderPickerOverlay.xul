<?xml version="1.0"?>
<?xml-stylesheet href="chrome://messenger/skin/" type="text/css"?>

<!DOCTYPE window SYSTEM "chrome://messenger/locale/msgFolderPickerOverlay.dtd">

<overlay id="msgFolderPicker"
                 xmlns:html="http://www.w3.org/TR/REC-html40"
		 xmlns:nc="http://home.netscape.com/NC-rdf#"
                 xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<html:script language="JavaScript" src="chrome://messenger/content/msgFolderPickerOverlay.js"/>

	<menu style="border: thin solid black;" value="&subscribeclickhere.label;" uri="" id="msgSubscribeFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
<!-- since we only do news subscribe (and not imap subscribe)
	and we aren't supporting news categories yet,
 	we can comment out this rule, since only news servers 
	should appear in the subscribe dialog

          <rule nc:CanSubscribe="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgSubscribeFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&subscribechoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgSubscribeFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
-->
          <rule nc:CanSubscribe="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgSubscribeFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>

	<menu style="border: thin solid red;" value="&newfolderclickhere.label;" uri="" id="msgNewFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
          <rule nc:CanCreateSubfolders="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgNewFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&newfolderchoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgNewFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
	  <!-- prevent news servers with no newsgroups from showing up -->
	  <rule nc:CanCreateSubfolders="false" iscontainer="true" isempty="true" nc:ServerType="nntp">
	  </rule>
	  <!-- no subfolders for some inboxes -->	
	  <rule nc:CanCreateSubfolders="false" iscontainer="true" isempty="true">
            <menupopup>
                        <menuitem disabled="true" uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name"
                                oncommand="PickedMsgFolder(event.target,'msgNewFolderPicker')"
                                SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
	  </rule>
          <rule nc:CanCreateSubfolders="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgNewFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>

	<menu style="border: thin solid blue;" value="&renamefolderclickhere.label;" uri="" id="msgRenameFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
          <rule nc:CanRename="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgRenameFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&renamefolderchoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgRenameFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
          <rule nc:CanRename="false" nc:ServerType="nntp">
		<!-- don't show nntp servers in the rename dialog -->
          </rule>
	  <rule nc:CanRename="false" iscontainer="true" isempty="false">
	    <!-- note, there is no "file here" -->
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name"
                                oncommand="PickedMsgFolder(event.target,'msgRenameFolderPicker')"
                                SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
              </menu>
            </menupopup>
          </rule>
          <rule nc:CanRename="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgRenameFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>

	<menu style="border: thin solid green;" value="&filemessagesclickhere.label;" uri="" id="msgFccFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
          <rule nc:CanFileMessages="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgFccFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&filemessageschoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgFccFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
	  <rule nc:CanRename="false" nc:ServerType="nntp">
                <!-- don't show nntp servers in the file picker -->
          </rule>
	  <rule nc:CanFileMessages="false" iscontainer="true" isempty="false">
	    <!-- note, there is no "file here" -->
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name"
                                oncommand="PickedMsgFolder(event.target,'msgFccFolderPicker')"
                                SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
              </menu>
            </menupopup>
          </rule>
          <rule nc:CanFileMessages="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgFccFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>
	<menu style="border: thin solid green;" value="&filemessagesclickhere.label;" uri="" id="msgDraftsFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
          <rule nc:CanFileMessages="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgDraftsFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&filemessageschoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgDraftsFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
	  <rule nc:CanRename="false" nc:ServerType="nntp">
                <!-- don't show nntp servers in the file picker -->
          </rule>
	  <rule nc:CanFileMessages="false" iscontainer="true" isempty="false">
	    <!-- note, there is no "file here" -->
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name"
                                oncommand="PickedMsgFolder(event.target,'msgDraftsFolderPicker')"
                                SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
              </menu>
            </menupopup>
          </rule>
          <rule nc:CanFileMessages="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgDraftsFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>
	<menu style="border: thin solid green;" value="&filemessagesclickhere.label;" uri="" id="msgStationeryFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
          <rule nc:CanFileMessages="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgStationeryFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&filemessageschoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgStationeryFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
	  <rule nc:CanRename="false" nc:ServerType="nntp">
                <!-- don't show nntp servers in the file picker -->
          </rule>
	  <rule nc:CanFileMessages="false" iscontainer="true" isempty="false">
	    <!-- note, there is no "file here" -->
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name"
                                oncommand="PickedMsgFolder(event.target,'msgStationeryFolderPicker')"
                                SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
              </menu>
            </menupopup>
          </rule>
          <rule nc:CanFileMessages="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgStationeryFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>
	<menu style="border: thin solid green;" value="&filemessagesclickhere.label;" uri="" id="msgJunkMailFolderPicker" datasources="rdf:msgaccountmanager rdf:mailnewsfolders" rdf:ignore="http://home.netscape.com/NC-rdf#MessageChild"
		ref="msgaccounts:/">
        <template>
          <rule nc:CanFileMessages="true" iscontainer="true" isempty="false">
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgJunkMailFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
                <menupopup>
                  <menuitem uri="..." value="&filemessageschoosethis.label;"
                                oncommand="PickedMsgFolder(event.target,'msgJunkMailFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType" />
                  <menuseparator/>
                </menupopup>
              </menu>
            </menupopup>
          </rule>
	  <rule nc:CanRename="false" nc:ServerType="nntp">
                <!-- don't show nntp servers in the file picker -->
          </rule>
	  <rule nc:CanFileMessages="false" iscontainer="true" isempty="false">
	    <!-- note, there is no "file here" -->
            <menupopup>
              <menu uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name"
                                oncommand="PickedMsgFolder(event.target,'msgJunkMailFolderPicker')"
                                SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType">
              </menu>
            </menupopup>
          </rule>
          <rule nc:CanFileMessages="true">
            <menupopup>
                        <menuitem uri="..." class="folderMenuItem" value="rdf:http://home.netscape.com/NC-rdf#Name" 
                                oncommand="PickedMsgFolder(event.target,'msgJunkMailFolderPicker')"
				SpecialFolder="rdf:http://home.netscape.com/NC-rdf#SpecialFolder"
                                BiffState="rdf:http://home.netscape.com/NC-rdf#BiffState"
                                IsServer="rdf:http://home.netscape.com/NC-rdf#IsServer"
                                ServerType="rdf:http://home.netscape.com/NC-rdf#ServerType"/>
            </menupopup>
          </rule>
	</template>
	</menu>
</overlay>
