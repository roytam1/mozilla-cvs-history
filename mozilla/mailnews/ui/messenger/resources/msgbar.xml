<?xml version="1.0"?> 
<?xml-stylesheet href="xul.css" type="text/css"?> 
<!DOCTYPE window> 

<xul:window xmlns:html="http://www.w3.org/TR/REC-html40"
			xmlns:xul ="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<html:script language="JavaScript">
function StartUp()
{
	dump("StartUp: MsgAppCore\n");
   var appCore = XPAppCoresManager.Find("MsgAppCore");
   if (appCore == null) {
	 dump("StartUp: Creating AppCore\n");
     appCore = new MsgAppCore();
   }
   dump("AppCore probably found\n");
   if (appCore != null) {
	  dump("Initializing AppCore and setting Window\n");
      appCore.Init("MsgAppCore");
      appCore.SetWindow(window);
   }
}

function OpenURL(url)
{
	dump("\n\nOpenURL from XUL\n\n\n");
	var appCore = new MsgAppCore();
	if (appCore != null) {
	  dump("Initializing AppCore and setting Window\n");
      appCore.Init("MsgAppCore");
      appCore.SetWindow(window);
	  appCore.OpenURL(url);
   }
}

</html:script>

  <xul:commands>
    <xul:command name="nsCmd:StartUp" onCommand="StartUp();"/>
    <xul:command name="nsCmd:GetMessage" onCommand="window.getmessage();"/>
    <xul:command name="nsCmd:NewMessage" onCommand="window.newmessage();"/>
    <xul:command name="nsCmd:ReplyMessage" onCommand="window.replymessage();"/>
    <xul:command name="nsCmd:ForwardMessage" onCommand="window.forwardmessage();"/>
    <xul:command name="nsCmd:DeleteMessage" onCommand="window.deletemessage();"/>
    <xul:command name="nsCmd:LoadURL1" onCommand="OpenURL('news://news.mcom.com:119/35BE6AB1.55A14AE4@netscape.com');"/>
    <xul:command name="nsCmd:LoadURL2" onCommand="OpenURL('news://news.mozilla.org:119/36BC8178.5BE93104@netscape.com');"/>
    <xul:command name="nsCmd:LoadURL3" onCommand="OpenURL();"/>
    <xul:command name="nsCmd:LoadURL4" onCommand="OpenURL();"/>
  </xul:commands>
  <xul:menubar>
    <xul:menu name="File">
      <xul:menuitem name="New Message" cmd="nsCmd:NewMessage"/>
      <separator/>
      <xul:menuitem name="Get New Message" cmd="nsCmd:GetMessage"/>
      <xul:menuitem name="Subscribe" cmd="nsCmd:Subscribe"/>
      <separator/>
      <xul:menuitem name="Rename Folder.." cmd="nsCmd:RenameFolder"/>
      <xul:menuitem name="Empty Trash" cmd="nsCmd:EmptyTrash"/>
      <separator/>
      <xul:menuitem name="Print" cmd="nsCmd:Print"/>
      <separator/>
      <xul:menuitem name="Close" cmd="nsCmd:Close"/>
      <xul:menuitem name="Exit" cmd="nsCmd:Exit"/>
    </xul:menu>
    <xul:menu name="Edit">
      <xul:menuitem name="Delete Message" cmd="nsCmd:DeleteMessage"/>
    </xul:menu>
    <xul:menu name="View">
      <xul:menuitem name="View Attachments Inline" cmd="nsCmd:ViewAttachInline"/>
      <xul:menuitem name="Wrap Long Lines" cmd="nsCmd:WrapLongLines"/>
      <separator/>
      <xul:menuitem name="Page Source" cmd="nsCmd:ViewPageSource"/>
      <xul:menuitem name="Page Info" cmd="nsCmd:ViewPageInfo"/>
    </xul:menu>
    <xul:menu name="Go">
      <xul:menuitem name="Next Message" cmd="nsCmd:NextMessage"/>
      <xul:menuitem name="Next Unread Message" cmd="nsCmd:NextUnreadMessage"/>
    </xul:menu>
    <xul:menu name="Message">
      <xul:menuitem name="New Message" cmd="nsCmd:NewMessage"/>
      <xul:menuitem name="Reply" cmd="nsCmd:ReplyMessage"/>
      <xul:menuitem name="Forward" cmd="nsCmd:ForwardMessage"/>
     </xul:menu>
    <xul:menu name="Demo">
      <xul:menuitem name="News Message 1" cmd="nsCmd:LoadURL1"/>
      <xul:menuitem name="News Message 2" cmd="nsCmd:LoadURL2"/>
      <xul:menuitem name="News Message 3" cmd="nsCmd:LoadURL3"/>
      <xul:menuitem name="News Message 4" cmd="nsCmd:LoadURL4"/>
    </xul:menu>
  </xul:menubar>

    <xul:toolbar>
          <html:button cmd="nsCmd:GetMessage" style="background-color:rgb(192,192,192);">
                          <html:img src="getmsg.gif"/><html:BR/>Get Msg
          </html:button>
          <html:button cmd="nsCmd:NewMessage" style="background-color:rgb(192,192,192);">
                          <html:img src="newmsg.gif"/><html:BR/>New Msg
          </html:button>
          <html:button cmd="nsCmd:ReplyMessage" style="background-color:rgb(192,192,192);">
                          <html:img src="replymsg.gif"/><html:BR/>Reply
          </html:button>
          <html:button cmd="nsCmd:ForwardMessage" style="background-color:rgb(192,192,192);">
                          <html:img src="fwdmsg.gif"/><html:BR/>Forward
          </html:button>
          <html:button cmd="nsCmd:DeleteMessage" style="background-color:rgb(192,192,192);">
                          <html:img src="delmsg.gif"/><html:BR/>Delete
          </html:button>
          <html:button cmd="nsCmd:LoadURL1" style="background-color:rgb(100,0,100);">
                          <html:img src="delmsg.gif"/><html:BR/>Delete
          </html:button>
          <html:a style="position:relative; direction:rtl; right:3; top: 2px;" href="http://www.netscape.com">
                  <html:img alt="Throbber!" border=0 src="resource:/res/throbber/anims00.gif"/>
          </html:a>
    </xul:toolbar>
    
</xul:window>

