<?xml version="1.0"?>
<?xml-stylesheet href="chrome://communicator/skin/" type="text/css"?>

<?xul-overlay href="chrome://pyxultest/content/js_overlay.xul"?>
<?xul-overlay href="chrome://pyxultest/content/python_overlay.xul"?>
  
<window
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  id="main-window" orient="vertical"
  screenX="100" screenY="100"
  height="300" width="500"
  script-type="application/x-python"
  onload="print 'hello from the window load event'"
  >
  <script type="application/x-python" src="chrome://pyxultest/content/pyxultest.py"/>
  <script>
    <![CDATA[

print "Scrollbar visible =", this.scrollbars.visible
#this.alert('hi from Python');
import xpcom
print "Window location is", this.window.location.href

#promptService =  xpcom.components.classes["@mozilla.org/embedcomp/prompt-service;1"].getService(xpcom.components.interfaces.nsIPromptService)
#promptService.alert(this.window, "title", "Hello from Python");

    ]]>
  </script>
  <vbox flex="1">
    <textbox id="input-box" style="width:100%" value = "hello there"
             rows="5" multiline="true" flex="1"
    />
    <button id="button1" label="open dialog"
            oncommand="on_button_click()"/>
  </vbox>
  <!-- A box from our overlay - it will have one button using js events
       and another using Python events -->
  <hbox id="language_box"/>
  
  <button id="but_multi" label="click for both"/>
  <!-- Here we have a script element defined at a parent node -->
  <hbox oncommand="print 'You clicked on a', event.target.tagName">
    <button label = "click here"/>
    <button label = "or here"/>
    <button id="test_error" label="test error event" oncommand="test_error_event()"/>

  </hbox>
</window>

