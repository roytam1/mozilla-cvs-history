<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<!-- ----------------------------------------------------------------   -->
<!-- $Id$             -->
<!--                                                                    -->

<HEAD>
   <META http-equiv="Content-Type" CONTENT="text/html; charset=iso-8859-1">
   <META name="Author" CONTENT="Leif Hedstrom">
</HEAD>

<BODY bgcolor="white">

<TABLE>
  <TR>
  <TD rowspan="3">
  <BLOCKQUOTE>
    <A href="http://www.mozilla.org/">
    <IMG src="http://www.mozilla.org/images/logo-star.gif" border=0
    width=197 height=200></A>
  </BLOCKQUOTE>
  </TD>

  <TD>
  <CENTER>
    <B><FONT size=+3>Future directions for PerLDAP,</FONT></B>
  </CENTER>
  </TD>
  </TR>

  <TR>
  <TD>
  <CENTER>
    <B><FONT size=+3>v1.1, v1.5 and beyond!</FONT></B>
  </CENTER>
  </TD>
  </TR>

  <TR>
  <TD>
  <CENTER>
    $Revision$<BR>
    $Date$<BR>
    Leif Hedstrom, Netscape Communications Corp.
  </CENTER>
  </TD>
  </TR>

</TABLE>

<H2> <HR size=1 noshade width="100%"></H2>

<CENTER>
  <TABLE cellpadding=3 cols=1 width="95%" bgcolor="#ffff00" nosave>
    <TR nosave>
      <TD nosave><B><FONT size=+2>Introduction</FONT></B></TD>
    </TR>
  </TABLE>
</CENTER>

<BLOCKQUOTE>
<P>
This memo is an outline of where I think PerLDAP should evolve in the near
future. I'm dividing this into three phases, the next bug fix release
(v1.1), the next minor release (v1.5?), and the next major release
(v2.0). This doesn't mean we'll actually end up doing exactly those
releases, but I'm considering them to be the three important milestones in
this products foresable future.
</P>

<P>
This document is work in progress, and will be updated regularly. It will
be also used (at least for now) to track outstanding issues, and things
that needs to be done. I hope to collect feedback and bug reports from the
Open Source community, and this document will be the "live" document for
this effort.
</P>
<P>
Where there is a name in square brackets after an item, it means that it's
already been assigned to a person. It also contains the status, e.g. if
it's fixed, or being worked on etc.
</P>
</BLOCKQUOTE>

<CENTER>
  <TABLE cellpadding=3 cols=1 width="95%" bgcolor="#FFFF00" nosave>
    <TR NOSAVE>
      <TD nosave><B><FONT size=+2>Current status</FONT></B></TD>
    </TR>
  </TABLE>
</CENTER>

<BLOCKQUOTE>
<P>
PerLDAP v1.0 was release on August 18, with a set of known problems. This
was done intentionally, to meet the deadline for the Perl conference in
San Jose, August 1998. There's been very few bug reports this far, the one
oustanding issue (which I already knew about before RTM) is the
incompatibility with the C SDK from mozilla.org. Code to handle this will
be added asap, we have the bulk already written in the previous (in-house)
LDAP module.
</P>
</BLOCKQUOTE>

<CENTER>
  <TABLE cellpadding=3 cols=1 width="95%" bgcolor="#FFFF00" nosave>
    <TR>
      <TD><B><FONT size=+2>Bug fix release (v1.1)</FONT></B></TD>
    </TR>
  </TABLE>
</CENTER>

<BLOCKQUOTE>
<P>
The next release, which we should aim to have finished by no later than
September 30, is primarily a bug fix release. It shouldn't add any new
features, unless they can be considered "bugs" (i.e. a features so
important that a module or method doesn't work without it). The oustanding
(known) problems we must address are:
</P>

<UL>
  <LI><FONT size=+1>Bugs and problems</FONT>
  <UL>
    <LI>Memory usage is very high, for some reason it's more memory
    intensive than my old code (why?). <B><I>[leif]</I></B>

    <LI><B>Makefile.PL</B>: We must to support both DevEdge and
    mozilla.org SDK libraries. I think the library "find" function should
    be version independant, i.e. it should find the "best" libraries
    available. The more that's hardcoded, the more problems in the
    future. <B><I>[clayton, fixed 09/23]</I></B>

    <LI><B>Conn.pm</B>: The delete() method does not work as documented,
    it should handle taking an Entry:: object as argument. Reported by 
    Thomas Lockney <tlockney@tivoli.com>.
    <B><I>[leif, fixed 09/25]</I></B>

    <LI><B>Conn.pm</B>: On line 399, the "$del = 1 if ..." needs to check if
    $del is defined or not, or the strict parsing will complain. Reported
    by James Briggs <briggsja@netscape.com>. There's a few of these in the
    code, I tried to fix as many as possible before shipping v1.0, some
    were still left... <B><I>[leif, fixed 09/12]</I></B>

    <LI><B>Conn.pm</B>: Bug fix for case sensitivity on searches for
    specific attributes. <B><I>[leif, fixed 09/03]</I></B>

    <LI><B>Conn.pm</B>: Case is not preserved in modifyRDN().
    <B><I>[leif, fixed 09/11]</I></B>

    <LI><B>Makefile.PL</B>: Change all "reads" from STDIN to explictly use
    <STDIN>. This is necessary so the user can give extra command line
    arguments to pass to MakeMaker. We might want to consider a major
    rewrite of this on the overhaul of Makefile.PL. <B><I>[leif, fixed
    09/07]</I></B>

    <LI>Strange 'Out of Memory' bug in PerLDAP, as reported by
    richard_jones@my-dejanews.com. Could this be a problem in API.xs, as
    suggested by Clayton (in string conversion code)?
    <B><I>[clayton, fixed 09/20]</I></B>

    <LI><B>Makefile.PL</B>: The version "check" isn't done properly, it
    needs to do string compare (using eq) instead of numerical. Reported
    by david d zuhn <dzuhn@netscape.com>. <B><I>[clayton, fixed 9/12]</I></B>

    <LI><B>Makefile.PL</B>: Include/merge patch from ActiveState, to fix
    problems with Perl-5.005 and Win/NT. We need to verify that this
    builds and runs with both the ActiveState port, and a native Perl/NT
    build. <B><I>[clayton, added 9/12]</I></B>

    <LI>Remove all error print statements in the library modules
    (*.pm). <B><I>[leif, fixed 9/24]</I></B>

    <LI>Problems reported using SSL on NT, giving a Dr Watson. Could this
    be related to the bug in API.xs? [clayton]

  </UL>

  <LI><FONT size=+1>Additional methods, changes to methods, or new
  features to existing modules</FONT>
  <UL>
    <LI><B>Conn.pm</B>: Method(s) for binding/rebinding multiple times,
    this is needed when writing code for (primarily) authentication,
    e.g. in a Web server. This method is now named simpleAuth(), since it
    will only accept simple authentication. <B><I>[leif, added/tested
    09/08]</I></B>

    <LI><B>Makefile.PL</B>: Add build targets for creating HTML docs, and
    to produce binary distributions. We already have the source
    distribution target, but we need one that can prepare a CVS compatible
    source dist as well. <B><I>[clayton]</I></B>

    <LI><B>Entry.pm</B>: Add a setValue() method, to make it easier to set
    an entire value set for a single attribute.
    <B><I>[leif, fixed 09/25]</I></B>

    <LI><B>LDIF.pm</B>: Add documentation! [leif]
  </UL>

  <LI><FONT size=+1>New modules or architectural changes</FONT>
  <UL>
    <LI>Nada, this is a bug-fix release...
  </UL>

  <LI><FONT size=+1>Testing, scripts and tools</FONT>
  <UL>
    <LI>Test all LDAPv3 calls more thoroughly.

    <LI>Windows NT testing, with Perl v5.004, v5.005 and ActiveState.

    <LI>Test and build binaries on all tier 1 Unix platforms.

    <LI>More tests of the LDIF.pm module, and add an example script. One
    test would be to read an LDIF file, write it out, and do a byte level
    compare to see that they are identical. This requires the changes
    proposed earlier to the write() methods.
  </UL>

</UL>
</BLOCKQUOTE>

<CENTER>
  <TABLE cellpadding=3 cols=1 width="95%" bgcolor="#FFFF00" nosave>
    <TR>
      <TD><B><FONT size=+2>Enhancement release (v1.5)</FONT></B></TD>
    </TR>
  </TABLE>
</CENTER>

<BLOCKQUOTE>
<P>
Following the first bug fix release, we should do a minor enhancement
release. This would incorporate important missing features that we know of
today, and new features requested by peers. This should be done without
major rewrite of any existing code, i.e. we'd only add a feature if it can
be done without affecting the overall stability and architecture of the
software. I see this as the incremental evolvement of the v1.0 release.
</P>

<P>
It might be to optmistic, but I think we should aim for a v1.5 release no
later than Q1 of 1999. We might also have to do a v1.6 bug fix release, as
a followup on new features etc.
</P>

<UL>
  <LI><FONT size=+1>Bugs and problems</FONT>
  <UL>
    <LI><B>Conn.pm</B>: Apparently ldap_explode_dn() can fail, as used in
    the modifyRDN() method. This is reported by LHOIR Sébastien"
    <lhoir@smd.ucl.ac.be>. Update: This is not a bug in the PerLDAP
    module, except that the error codes are perhaps
    confusing. If anything, we should understand why it behaves so weird
    when the user changes both the RDN, and the sub-tree of the
    entry. <B><I>[leif]</I></B>

  </UL>

  <LI><FONT size=+1>Additional methods, changes to methods, or new
  features to existing modules</FONT>
  <UL>
    <LI><B>LDIF.pm</B>: Two methods to generate LDIF "update" files as
    well (from changes made to an ::Entry object). <B><I>[leif]</I></B>

    <LI><B>LDIF.pm</B>: The write() methods needs to support Base64
    encoding, as well as continuation lines (if opted). <B><I>[leif]</I></B>

    <LI>Update API with whatever changes are made to the C SDK in the
    final RTM release (SDK v3.0 is still beta).

    <LI>Can't compile with CygWin tools on Win/NT.

    <LI>Go trough some of the commonly used options and arguments used
    with the OO methods, and see what can be made easier. For instance, a
    very typical search is to set the DN to a base-DN, and search for
    (objectclass=*). This should be simplified, perhaps even have it's own
    method.

    <LI><B>Conn.pm</B>: Support for the "none" search attribute list,
    i.e. ("1.1"). We should also add support for an "all" list.

    <LI><B>Conn.pm</B>: Support for the manageDSAIT control mechanism, to make
    it possible to modify smart referrals for instance.

    <LI><B>Conn.pm</B>: Support for the compare functionality in LDAP, in
    the OO layer that is. <B><I>[leif]</I></B>
  </UL>

  <LI><FONT size=+1>New modules or architectural changes</FONT>
  <UL>
    <LI>Examine the possibility to use asynchronous LDAP, which should
    reduce the memory usage as well (particularly for large
    databases/searches). If this is too complicated, it will have
    to wait until v2.0. <B><I>[leif]</I></B>

    <LI><B>Conf.pm</B>: Add a global configuration module, which (once
    configured) will make it easier to get default LDAP parameters
    (e.g. base-DN, server, port etc).

    <LI><B>Conn.pm</B>: Add support for SASL. This might require a
    complete rewrite/update of all authentication methods, to make them
    flexible but still backward compatible.
  </UL>

  <LI><FONT size=+1>Testing, scripts and tools</FONT>
  <UL>
    <LI>Test all LDAPv3 calls again, to make sure they work as specified
    in the latest C SDK.
  </UL>

</UL>

</BLOCKQUOTE>

<CENTER>
  <TABLE cellpadding=3 Cols=1 width="95%" bgcolor="#FFFF00" nosave>
    <TR>
      <TD><B><FONT size=+2>PerLDAP, the Next Generation</FONT></B></TD>
    </TR>
  </TABLE>
</CENTER>

<BLOCKQUOTE>
<P>
I have no clear idea right now where the next version should go. For now,
I'm using this mostly as a place holder for features, enhancments and
extensions that I don't think we can finish in the v1.5 time frame.
</P>

<UL>
  <LI><FONT size=+1>Bugs and problems</FONT>
  <UL>
  </UL>

  <LI><FONT size=+1>Additional methods, changes to methods, or new
  features to existing modules</FONT>
  <UL>
  </UL>

  <LI><FONT size=+1>New modules or architectural changes</FONT>
  <UL>
    <LI>Convert and incorporate all our Unix and NT synchronization tools
    to the new module. Some of this might be done for v1.5, I hope...

    <LI><B>Controls.pm</B>: Frame work for LDAP v3 controls, with at least
    one "example" implementation (for password controls).

    <LI><B>DBSync.pm</B>: Oracle/SQL/DBI <-> LDAP synchronization module,
    with example. This is a project headed by ???.

    <LI>Make the OO layer work with Graham Barr's Net::LDAP API, as well
    as the Mozilla::LDAP::API SDK implementation.
  </UL>

  <LI><FONT size=+1>Testing, scripts and tools</FONT>
  <UL>
  </UL>

</UL>

</BLOCKQUOTE>
</BODY>
</HTML>
