[%# ***** BEGIN LICENSE BLOCK *****
  # Version: MPL 1.1
  #
  # The contents of this file are subject to the Mozilla Public License Version
  # 1.1 (the "License"); you may not use this file except in compliance with
  # the License. You may obtain a copy of the License at
  # http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS IS" basis,
  # WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
  # for the specific language governing rights and limitations under the
  # License.
  #
  # The Original Code is Litmus.
  #
  # The Initial Developer of the Original Code is
  # The Mozilla Corporation.
  # Portions created by the Initial Developer are Copyright (C) 2006
  # the Initial Developer. All Rights Reserved.
  #
  # Contributor(s):
  #   Chris Cooper <ccooper@deadsquid.com>
  #   Zach Lipton <zach@zachlipton.com>
  #
  # ***** END LICENSE BLOCK *****
#%]

[%# INTERFACE:
  # $product - the product under test
  # $testcount (optional) - the number of test results submitted
  # %resultcounts (optional) - a summary of how many results were submitted
  #     from each status where the key is the result name and the value is 
  #     the number of results submitted. 
  # @changedlist (optional) - an array of testcase_ids that were edited
  # $testgroup (optional) - the group the tests were from
  # $return (optional) - a url to return to. the default is to run more tests
  #                         from the current group
#%]

[% INCLUDE global/html_header.tmpl %] 
[% INCLUDE global/litmus_header.tmpl %] 

<div id="page">

[% INCLUDE sidebar/sidebar.tmpl %]

  <div id="content">

    <h1 class="firstHeading">[% title | html %]</h1>

<div class="section-full">
  <div class="section-header">
Results submitted
  </div>
  <div class="section-content">

<p>Thank you for your testing efforts.</p>

[% IF testcount %]
    [% IF testcount > 1 %] [% plural = 's' %] [% END %]
    <p>You have submitted <strong>[% testcount FILTER html %]</strong> 
      test result[% plural | html %].</p>
[% END %]

[% IF resultcounts.keys.0 %]
    <p><strong>Result Summary:</strong></p>
    <table class="testresults-submitted">
    [% FOREACH curresult = resultcounts.keys %]
        [% IF resultcounts.$curresult %]
            [% count = resultcounts.$curresult %]
        [% ELSE %]
            [% count = 0 %]
        [% END %]
        <tr class="[% curresult.search('unclear') ? 'unclear' : curresult FILTER lower %]">
        <td><strong>[% curresult FILTER html %]:</strong></td>
        <td>[% count FILTER html %]</td>
        </tr>
    [% END %]
    </table>
[% END %]

[% IF changedlist %]
    <table border="1">
    [% FOREACH curchange=changedlist %]
        <tr><td>
            <strong>Changes recorded for Test [% curchange FILTER html %]</strong>
        </td></tr>
    [% END %]
    </table>
[% END %]

<p>
  [% IF return %]
    <a href="[% return | html | uri %]">Go Back</a> or 
  [% END %]
    <a href="run_tests.cgi?product=[% product.productid | html | uri %]&continuetesting=1[% IF testgroup %]&defaulttestgroup=[% testgroup.testgroup_id | html | uri %][% END %]">Run Some More Tests</a>
</p>

      </div> <!--END section-content-->

    </div> <!--END section-full-->

  </div> <!--END content-->

</div> <!--END page-->

[% INCLUDE global/litmus_footer.tmpl %]
[% INCLUDE global/html_footer.tmpl %]








