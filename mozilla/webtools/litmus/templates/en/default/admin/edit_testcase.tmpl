[%# ***** BEGIN LICENSE BLOCK *****
  # Version: MPL 1.1
  #
  # The contents of this file are subject to the Mozilla Public License Version
  # 1.1 (the "License"); you may not use this file except in compliance with
  # the License. You may obtain a copy of the License at
  # http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS IS" basis,
  # WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
  # for the specific language governing rights and limitations under the
  # License.
  #
  # The Original Code is Litmus.
  #
  # The Initial Developer of the Original Code is
  # The Mozilla Corporation.
  # Portions created by the Initial Developer are Copyright (C) 2006
  # the Initial Developer. All Rights Reserved.
  #
  # Contributor(s):
  #   Chris Cooper <ccooper@deadsquid.com>
  #   Zach Lipton <zach@zachlipton.com>
  #
  # ***** END LICENSE BLOCK *****
#%]

[%# INTERFACE:
  # $testcase   - the testcase object to show
#%]

[% INCLUDE test/formattingHelp.js.tmpl %]

      <form id="edit_testcase_form" name="edit_testcase_form" method="post" action="manage_testcases.cgi" onSubmit="return checkFormContents(this);">
      <input id="mode" name="mode" type="hidden" value="edit">
      <input id="editform_testcase_id" name="editform_testcase_id" type="hidden" value="">

      <table class="manage">
	<tr>
	<td class="headerleft">Testcase ID#:</td>
	<td name="testcase_id_display" id="testcase_id_display_edit"></td>
	</tr>
	<tr>
	<td class="headerleft">Summary:</td>
	<td colspan="2"><input name="summary"
                   id="summary"
                   value=""
                   size="55"/ disabled></td>
	</tr>
        <tr>
        <td colspan="3">

	  <table border="0" cellspacing="0" cellpadding="0">
            <tr>
            <td width="50%" class="headerleft">Steps to Perform:<br/>
              <textarea name="steps"
                        id="steps"
                        rows="10" cols="40" disabled></textarea>
            </td>
            <td width="50%" class="headerleft">Expected Results:<br/>
              <textarea name="results"
                        id="results"
                        rows="10" cols="40" disabled></textarea>
            </td>
            </tr>
	    <tr>
            <td align="right">&uArr;&nbsp;<a name="stepsPreview" onClick="var newwin = window.open('preview.cgi?preview=' + escape(document.getElementById('steps').value),'preview_window','height=400,width=400,resizeable=yes,scrollable=yes');newwin.focus();">Preview</a></td>
            <td align="right">&uArr;&nbsp;<a name="resultsPreview" onClick="var newwin = window.open('preview.cgi?preview=' + escape(document.getElementById('results').value),'preview_window','height=400,width=400,resizeable=yes,scrollable=yes');newwin.focus();">Preview</a></td>
            </tr>
            <tr>
            <td colspan="2" align="right">&uArr;&nbsp;<a name="showFormattingHelp" onclick="toggleHelp(formattingHelpTitle,formattingHelpText);">Formatting Help</a></td>
            </tr>
          </table>

        </td>
        </tr>

	<tr>
	<td class="headerleft">Product:</td>
	<td>[% INCLUDE form_widgets/select_product_id.tmpl name="product" placeholder=1 size=1 display_id=1  onchange="changeProduct();populateBranches(document.getElementById('branch'),document.getElementById('product'));" %]</td>
	</tr>
        <tr>
        <td class="headerleft">Branch:</td>
        <td>[% INCLUDE form_widgets/select_branch_id.tmpl name="branch" placeholder=1 size=1 display_id=1 %]</td>
	<tr>
	<td class="headerleft">Test Group(s):</td>
	<td colspan="2">
          <div id="testgroups_link_display">[% IF testgroups.size==0 %]<span class="errorHeading">This testcase does not belong to any testgroups that are currently enabled.</span>[% ELSE %][% FOREACH testgroup=testgroups %][% testgroup.name | html %][% UNLESS loop.last %], [% END %][% END %][% END %]</div>
        </td>
        </tr>
	<tr>
	<td class="headerleft">Subgroup(s):</td>
	<td colspan="2">
      <div id="subgroups_link_display">[% IF subgroups.size==0 %]<span class="errorHeading">This testcase does not belong to any subgroups that are currently enabled.</span>[% ELSE %][% FOREACH subgroup=subgroups %][% subgroup.name | html %][% UNLESS loop.last %], [% END %][% END %][% END %]</div>
       </td>
	</tr>
	</tr>
        <tr>
          <td class="headerleft">Enabled?</td>
          <td>
            <input name="enabled" 
                   type="checkbox"
                   id="enabled"
                   value="1" disabled
		   onchange="if (this.checked == false) {document.getElementById('communityenabled').checked =false;}">
          </td>
          <td>&lArr;&nbsp;Uncheck this to completely disable this testcase.</td>
        </tr>
        <tr>
          <td class="headerleft">Community Enabled?</td>
          <td>
            <input name="communityenabled" 
                   type="checkbox"
                   id="communityenabled"
                   value="1" disabled
		   onchange="if (this.checked == true) {document.getElementById('enabled').checked =true;}">
          </td>
          <td>&lArr;&nbsp;Uncheck this to disable this testcase for the community-at-large.<br/>Note: trusted testers will still be able to see and run this testcase.</td>
        </tr>
        <tr>
          <td class="headerleft">Regression Bug ID#:</td>
          <td><input name="regression_bug_id" 
                     type="text"
                     id="regression_bug_id"
                     value="" disabled>
          </td>
        </tr>
        <tr>
          <td class="headerleft">Author:</td>
	<td>[% INCLUDE form_widgets/select_author.tmpl name="author_id" disabled=1 placeholder=1 %]
        </tr>
        <tr>
          <td class="headerleft">Creation Date:</td>
          <td name="creation_date" id="creation_date"></td>
        </tr>
        <tr>
          <td class="headerleft">Last Updated:</td>
          <td name="last_updated" id="last_updated"></td>
        </tr>
        <tr>
          <td class="headerleft">Litmus Version:</td>
          <td name="litmus_version" id="litmus_version"></td>
        </tr>
        <tr>
          <td class="headerleft">Testrunner Case ID#:</td>
          <td name="testrunner_case_id" id="testrunner_case_id"></td>
        </tr>
        <tr>
          <td class="headerleft">Testrunner Case Version:</td>
          <td name="testrunner_case_version" id="testrunner_case_version"></td>
        </tr>
        <tr>
          <td colspan="3" align="right"><input id="reset" class="button" type="button" value="Reset" disabled onClick="resetTestcase();" />&nbsp;<input class="button" type="submit" id="submit" name="submit" value="Submit Edits" disabled /></div> 
          </td>
        </tr>	
      </table>

      </form>
