[%# 1.0@bugzilla.org %]
[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Test Runner System.
  #
  # The Initial Developer of the Original Code is Maciej Maczynski.
  # Portions created by Maciej Maczynski are Copyright (C) 2001
  # Maciej Maczynski. All Rights Reserved.
  #
  # Contributor(s): Ed Fuentetaja <efuentetaja@acm.org>
  #%]

[%# INTERFACE:
  # ...
  #%]

<div style="vertical-align:middle;font-size:10px;width:102px;position:relative">
<span style="width:82px;float:left;" id="bar_[% run.id FILTER none %]">
  <span style="float:left;width:1px;height:13px;background-color:black;"></span>
  [%# IFs needed for Opera browser #%] 
  <span style="float:left;"><img src="testopia/img/green_bar.gif" style="width:[% run.percent_of_total(2) * 0.8 %]px;height:13px;padding:0px;margin:0px;border-width:0px;"/></span>
  <span style="float:left;"><img src="testopia/img/red_bar.gif" style="width:[% run.percent_of_total(3) * 0.8 %]px;height:13px;padding:0px;margin:0px;border-width:0px;"/></span>
  <span style="float:left;"><img src="testopia/img/orange_bar.gif" style="width:[% run.percent_of_total(6) * 0.8 %]px;height:13px;padding:0px;margin:0px;border-width:0px;"/></span>
  <span style="float:left;"><img src="testopia/img/pg.gif" style="width:[% 80 - run.percent_complete * 0.8 %]px;height:13px;"/></span>
  <span style="float:left;width:1px;height:13px;background-color:black;"></span>
</span>
<div style="position:absolute;left:0;margin-left:35px;text-align:center;width:20px;font-family:Arial;font-size:11px;">[% run.percent_complete %]%</div>
</div>
<span dojoType="toolTip" connectId="bar_[% run.id FILTER none %]" id="tip_[% run.id FILTER none %]" style="display:none"> 
<table>
  <tr><th style="color:green" align="right">Passed:</th><td>[% run.case_run_count(2) %]</td><td align="right" style="border: 1px solid #000">[% run.percent_of_finished(2) %]%</td></tr>
  <tr><th style="color:red" align="right">Failed:</th><td>[% run.case_run_count(3) %]</td><td align="right" style="border: 1px solid #000">[% run.percent_of_finished(3) %]%</td></tr>
  <tr><th style="color:orange" align="right">Blocked:</th><td>[% run.case_run_count(6) %]</td><td align="right" style="border: 1px solid #000">[% run.percent_of_finished(6) %]%</td></tr>
  <tr><th style="color:blue" align="right">Total Run:</th><th colspan="2">[% run.finished_count %] out of [% run.case_run_count %]</td align="right"></tr>
</table> 
</span>