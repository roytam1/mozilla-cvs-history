<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>TestCaseRun.pm</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:feedback@suse.de" />
</head>

<body style="background-color: white">

<p><a name="__index__"></a></p>
<!-- INDEX BEGIN -->

<ul>

	<li><a href="#name">NAME</a></li>
	<li><a href="#extends">EXTENDS</a></li>
	<li><a href="#description">DESCRIPTION</a></li>
	<li><a href="#synopsis">SYNOPSIS</a></li>
	<li><a href="#methods">METHODS</a></li>
	<li><a href="#see_also">SEE ALSO</a></li>
	<li><a href="#author">AUTHOR</a></li>
</ul>
<!-- INDEX END -->

<hr />
<p>
</p>
<h1><a name="name">NAME</a></h1>
<p>Bugzilla::Testopia::Webservice::TestCaseRun</p>
<p>
</p>
<hr />
<h1><a name="extends">EXTENDS</a></h1>
<p>Bugzilla::Webservice</p>
<p>
</p>
<hr />
<h1><a name="description">DESCRIPTION</a></h1>
<p>Provides methods for automated scripts to manipulate Testopia TestCaseRuns.</p>
<p>
</p>
<hr />
<h1><a name="synopsis">SYNOPSIS</a></h1>
<p>Test case-runs are the mapping of a test case in a given run for a particular 
build and environment. There are therefore two ways to refer to a given 
case-run:</p>
<pre>
    By ID: The unique case_run_id
    By Combination: $run_id, $case_id, $build_id, $environment_id</pre>
<p>TestCaseRun methods are therefore overloaded to support either of these two
methods of looking up the case-run you are interested in.</p>
<p><strong>EXAMPLE:</strong></p>
<p>TestCaseRun-&gt;<a href="#item_get"><code>get($caserun_id)</code></a>
TestCaseRun-&gt;get($run_id, $case_id, $build_id, $environment_id)</p>
<p>
</p>
<hr />
<h1><a name="methods">METHODS</a></h1>
<dl>
<dt><strong><a name="item_attach_bug"><code>attach_bug($caserun_id, $bug_ids)</code></a></strong>

<dd>
<pre>
 Description: Add one or more bugs to the selected test case-runs.</pre>
</dd>
<dd>
<pre>
 Params:      $case_run_id - Integer: An integer representing the ID in the database.</pre>
</dd>
<dd>
<pre>
              $bug_ids - Integer/Array/String: An integer or alias representing the ID in the database,
                  an array of bug_ids or aliases, or a string of comma separated bug_ids.</pre>
</dd>
<dd>
<pre>
 Returns:     undef.</pre>
</dd>
<dt><strong><code>attach_bug($run_id, $case_id, $build_id, $environment_id, $bug_ids)</code></strong>

<dd>
<pre>
 Description: Add one or more bugs to the selected test case-runs.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.</pre>
</dd>
<dd>
<pre>
              $bug_ids - Integer/Array/String: An integer or alias representing the ID in the database,
                  an array of bug_ids or aliases, or a string of comma separated bug_ids.</pre>
</dd>
<dd>
<pre>
 Returns:     undef.</pre>
</dd>
<dt><strong><a name="item_create"><code>create($values)</code></a></strong>

<dd>
<pre>
 Description: Creates a new Test Case Run object and stores it in the database.</pre>
</dd>
<dd>
<pre>
 Params:      $values - Hash: A reference to a hash with keys and values  
              matching the fields of the test case to be created. 
  +--------------------+----------------+-----------+------------------------------------------------+
  | Field              | Type           | Null      | Description                                    |
  +--------------------+----------------+-----------+------------------------------------------------+
  | run_id             | Integer        | Required  | Test Run Number                                |
  | case_id            | Integer/String | Required  | ID or alias of test case                       |
  | build              | Integer/String | Required  | ID or name of a Build in plan's product        |
  | environment        | Integer/String | Required  | ID or name of an Environment in plan's product |
  | assignee           | Integer/String | Optional  | Defaults to test case default tester           |
  | status             | String         | Optional  | Defaults to &quot;IDLE&quot;                             |
  | case_text_version  | Integer        | Optional  |                                                |
  | notes              | String         | Optional  |                                                |
  | sortkey            | Integer        | Optional  | a.k.a. Index                                   |
  +--------------------+----------------+-----------+------------------------------------------------+
    Valid statuses include: IDLE, PASSED, FAILED, RUNNING, PAUSED, BLOCKED</pre>
</dd>
<dd>
<pre>
 Returns:     The newly created object hash.</pre>
</dd>
<dt><strong><a name="item_detach_bug"><code>detach_bug($caserun_id, $bug_id)</code></a></strong>

<dd>
<pre>
 Description: Remove a bug from a test case-run.</pre>
</dd>
<dd>
<pre>
 Params:      $caserun_id - Integer: An integer representing the ID in the database.</pre>
</dd>
<dd>
<pre>
              $bug_ids - Integer/Array/String: An integer or alias representing the ID in the database,
                  an array of bug_ids or aliases, or a string of comma separated bug_ids.</pre>
</dd>
<dd>
<pre>
 Returns:     undef.</pre>
</dd>
<dt><strong><code>detach_bug($run_id, $case_id, $build_id, $environment_id, $bug_id)</code></strong>

<dd>
<pre>
 Description: Remove a bug from a test case-run.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.</pre>
</dd>
<dd>
<pre>
              $bug_id - Integer: An integer or alias representing the ID of 
                  the bug in the database,</pre>
</dd>
<dd>
<pre>
 Returns:     undef.</pre>
</dd>
<dt><strong><a name="item_get"><code>get($caserun_id)</code></a></strong>

<dd>
<pre>
 Description: Used to load an existing test case-run from the database.</pre>
</dd>
<dd>
<pre>
 Params:      $caserun_id - Integer: An integer representing the ID in
                  the database for this case-run.</pre>
</dd>
<dd>
<pre>
 Returns:     A blessed Bugzilla::Testopia::TestCase object hash</pre>
</dd>
<dt><strong><code>get($run_id, $case_id, $build_id, $environment_id)</code></strong>

<dd>
<pre>
 Description: Used to load an existing test case from the database.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.</pre>
</dd>
<dd>
<pre>
 Returns:     A blessed Bugzilla::Testopia::TestCase object hash</pre>
</dd>
<dt><strong><a name="item_get_bugs"><code>get_bugs($caserun_id)</code></a></strong>

<dd>
<pre>
 Description: Get the list of bugs that are associated with this test case.</pre>
</dd>
<dd>
<pre>
 Params:      $caserun_id - Integer: An integer representing the ID in
                  the database for this case-run.</pre>
</dd>
<dd>
<pre>
 Returns:     Array: An array of bug object hashes.</pre>
</dd>
<dt><strong><code>get_bugs($run_id, $case_id, $build_id, $environment_id)</code></strong>

<dd>
<pre>
 Description: Get the list of bugs that are associated with this test case.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.</pre>
</dd>
<dd>
<pre>
 Returns:     Array: An array of bug object hashes.</pre>
</dd>
<dt><strong><a name="item_get_completion_time"><code>get_completion_time($caserun_id)</code></a></strong>

<dd>
<pre>
 Description: Get the list of components attached to this case.</pre>
</dd>
<dd>
<pre>
 Params:      $caserun_id - Integer: An integer representing the ID in
                  the database for this case-run.</pre>
</dd>
<dd>
<pre>
 Returns:     Array: An array of component object hashes.</pre>
</dd>
<dt><strong><code>get_completion_time($run_id, $case_id, $build_id, $environment_id)</code></strong>

<dd>
<pre>
 Description: Get the list of components attached to this case.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.</pre>
</dd>
<dd>
<pre>
 Returns:     Array: An array of component object hashes.</pre>
</dd>
<dt><strong><a name="item_get_history"><code>get_history($caserun_id)</code></a></strong>

<dd>
<pre>
 Description: Get the list of case-runs for all runs this case appears in.
              To limit this list by build or other attribute, see TestCaseRun::list.</pre>
</dd>
<dd>
<pre>
 Params:      $caserun_id - Integer: An integer representing the ID in
                  the database for this case-run.</pre>
</dd>
<dd>
<pre>
 Returns:     Array: An array of case-run object hashes.</pre>
</dd>
<dt><strong><code>get_history($run_id, $case_id, $build_id, $environment_id)</code></strong>

<dd>
<pre>
 Description: Get the list of case-runs for all runs this case appears in.
              To limit this list by build or other attribute, see TestCaseRun::list.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.</pre>
</dd>
<dd>
<pre>
 Returns:     Array: An array of case-run object hashes.</pre>
</dd>
<dt><strong><a name="item_list"><code>list($query)</code></a></strong>

<dd>
<pre>
 Description: Performs a search and returns the resulting list of test cases.</pre>
</dd>
<dd>
<pre>
 Params:      $query - Hash: keys must match valid search fields.</pre>
</dd>
<dd>
<pre>
    +--------------------------------------------------------+
    |               Case-Run Search Parameters               |
    +--------------------------------------------------------+
    |        Key          |          Valid Values            |
    | andor               | 1: Author AND tester, 0: OR      |
    | assignee            | A bugzilla login (email address) |
    | assignee_type       | (select from email_variants)     |
    | build               | String                           |
    | build_id            | Integer                          |
    | case_id             | comma separated integers         |
    | case_run_status     | String: Status                   |
    | case_run_status_id  | Integer: Status                  |
    | case_summary        | String: Requirement              |
    | case_summary_type   | (select from query_variants)     |
    | category            | String: Category Name            |
    | category_id         | Integer                          |
    | component           | String: Component Name           |
    | environment         | String                           |
    | environment_id      | Integer                          |
    | isactive            | 0: Only show current 1: show all |
    | isautomated         | 1: true 0: false                 |
    | milestone           | String                           |
    | notes               | String                           |
    | notes_type          | (select from query_variants)     |
    | plan_id             | comma separated integers         |
    | priority            | String: Priority                 |
    | priority_id         | Integer                          |
    | product             | String                           |
    | product_id          | Integer                          |
    | requirement         | String: Requirement              |
    | requirement_type    | (select from query_variants)     |
    | run_id              | comma separated integers         |
    | run_product_version | String                           |
    | run_status          | 1: RUNNING 0: STOPPED            |
    | tags                | String                           |
    | tags_type           | (select from tag_variants)       |
    | testedby            | A bugzilla login (email address) |
    | testedby_type       | (select from email_variants)     |
    +--------------------------------------------------------+</pre>
</dd>
<dd>
<pre>
    +---------------------------------------------------+
    |                Paging and Sorting                 |
    +---------------------------------------------------+
    |      Key       |            Description           |
    | dir            | &quot;ASC&quot; or &quot;DESC&quot;                  |
    | order          | field to sort by                 |
    +---------------------------------------------------+
    | page_size      | integer: how many per page       |
    | page           | integer: page number             |
    |            +++++++ OR +++++++                     |
    | start          | integer: Start with which record |
    | limit          | integer: limit to how many       |
    +---------------------------------------------------+
    | viewall        | 1: returns all records           |
    +---------------------------------------------------+</pre>
</dd>
<dd>
<pre>
    +----------------------------------------------------+
    |                 query_variants                     |
    +----------------+-----------------------------------+
    |      Key       |            Description            |
    | allwordssubstr | contains all of the words/strings |
    | anywordssubstr | contains any of the words/strings |
    | substring      | contains the string               |
    | casesubstring  | contains the string (exact case)  |
    | allwords       | contains all of the words         |
    | anywords       | contains any of the words         |
    | regexp         | matches the regexp                |
    | notregexp      | doesn't match the regexp          |
    +----------------+-----------------------------------+</pre>
</dd>
<dd>
<pre>
            +-------------------------------------+
            |            email_variants           |
            +--------------+----------------------+
            |      Key     |      Description     |
            | substring    | contains             |
            | exact        | is                   |
            | regexp       | matches regexp       |
            | notregexp    | doesn't match regexp |
            +--------------+----------------------+</pre>
</dd>
<dd>
<pre>
    +----------------------------------------------------+
    |                    tag_variants                    |
    +----------------+-----------------------------------+
    |      Key       |            Description            |
    | anyexact       | is tagged with                    |
    | allwordssubstr | contains all of the words/strings |
    | anywordssubstr | contains any of the words/strings |
    | substring      | contains the string               |
    | casesubstring  | contains the string (exact case)  |
    | regexp         | matches the regexp                |
    | notregexp      | doesn't match the regexp          |
    | allwords       | contains all of the words         |
    | anywords       | contains any of the words         |
    | nowords        | contains none of the words        | 
    +----------------------------------------------------+</pre>
</dd>
<dd>
<pre>
 Returns:     Array: Matching test cases are retuned in a list of hashes.</pre>
</dd>
<dt><strong><a name="item_lookup_status_name_by_id"><code>lookup_status_name_by_id</code></a></strong>

<dd>
<pre>
 Params:      $id - Integer: ID of the case status to return</pre>
</dd>
<dd>
<pre>
 Returns:     String: the status name.</pre>
</dd>
<dt><strong><a name="item_lookup_status_id_by_name"><code>lookup_status_id_by_name</code></a></strong>

<dd>
<pre>
 Params:      $name - String: the status name.</pre>
</dd>
<dd>
<pre>
 Returns:     Integer: ID of the case status.</pre>
</dd>
<dt><strong><a name="item_update"><code>update($caserun_ids, $values)</code></a></strong>

<dd>
<pre>
 Description: Updates the fields of the selected case-runs.</pre>
</dd>
<dd>
<pre>
 Params:      $caserun_ids - Integer/String/Array
                     Integer: A single TestCaseRun ID.
                     String:  A comma separates string of TestCaseRun IDs for batch
                              processing.
                     Array:   An array of TestCaseRun IDs for batch mode processing</pre>
</dd>
<dd>
<pre>
              $values - Hash of keys matching TestCaseRun fields and the new values 
              to set each field to.
                      +--------------------+----------------+
                      | Field              | Type           |
                      +--------------------+----------------+
                      | build              | Integer/String |
                      | environment        | Integer/String |
                      | assignee           | Integer/String |
                      | status             | String         |
                      | notes              | String         |
                      | sortkey            | Integer        |
                      | update_bugs        | Boolean        | 1: Reopen bugs on FAILED 0: Don't change bug status 
                      +--------------------+----------------+</pre>
</dd>
<dd>
<pre>
 Returns:     Hash/Array: In the case of a single object, it is returned. If a 
              list was passed, it returns an array of object hashes. If the
              update on any particular object failed, the hash will contain a 
              ERROR key and the message as to why it failed.</pre>
</dd>
<dt><strong><code>update($run_id, $case_id, $build_id, $environment_id, $values)</code></strong>

<dd>
<pre>
 Description: Updates the fields of the selected case-run.</pre>
</dd>
<dd>
<pre>
 Params:      $case_id - Integer: An integer representing the ID of the test case in the database.
              $run_id - Integer: An integer representing the ID of the test run in the database.
              $build_id - Integer: An integer representing the ID of the test build in the database.
              $environment_id - Integer: An integer representing the ID of the environment in the database.

</pre>
</dd>
<dd>
<pre>
              $values - Hash of keys matching TestCaseRun fields and the new values 
              to set each field to. See above.

</pre>
</dd>
<dd>
<pre>
 Returns:     Hash/Array: In the case of a single object, it is returned. If a 
              list was passed, it returns an array of object hashes. If the
              update on any particular object failed, the hash will contain a 
              ERROR key and the message as to why it failed.

</pre>
</dd>
</dl>
<p>
</p>
<hr />
<h1><a name="see_also">SEE ALSO</a></h1>
<p><a href="/Bugzilla/Testopia/TestCaseRun.html">the Bugzilla::Testopia::TestCaseRun manpage</a>
<a href="/Bugzilla/Webservice.html">the Bugzilla::Webservice manpage</a> 

</p>
<p>
</p>
<hr />
<h1><a name="author">AUTHOR</a></h1>
<p>Greg Hendricks &lt;<a href="mailto:ghendricks@novell.com">ghendricks@novell.com</a>&gt;</p>

</body>

</html>
