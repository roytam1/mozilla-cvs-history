<HTML
><HEAD
><TITLE
>Command-line Bugzilla Queries</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="The Bugzilla Guide"
HREF="index.html"><LINK
REL="UP"
TITLE="Useful Patches and Utilities for Bugzilla"
HREF="patches.html"><LINK
REL="PREVIOUS"
TITLE="Apache 
    mod_rewrite

    magic"
HREF="rewrite.html"><LINK
REL="NEXT"
TITLE="Bugzilla Variants and Competitors"
HREF="variants.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Bugzilla Guide</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="rewrite.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix C. Useful Patches and Utilities for Bugzilla</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="variants.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="cmdline">C.2. Command-line Bugzilla Queries</H1
><P
>There are a suite of utilities for querying Bugzilla from the 
    command line. Although there's no particular reason why they
    shouldn't work, they have not been tested with 2.16.</P
><DIV
CLASS="procedure"
><OL
TYPE="1"
><LI
><P
>Download three files:</P
><OL
CLASS="SUBSTEPS"
TYPE="a"
><LI
><P
>&#13;              <TT
CLASS="computeroutput"
>&#13;                <TT
CLASS="prompt"
>bash$</TT
>

                <B
CLASS="command"
>wget -O query.conf
                'http://bugzilla.mozilla.org/showattachment.cgi?attach_id=26157'</B
>
              </TT
>
            </P
></LI
><LI
><P
>&#13;              <TT
CLASS="computeroutput"
>&#13;                <TT
CLASS="prompt"
>bash$</TT
>

                <B
CLASS="command"
>wget -O buglist
                'http://bugzilla.mozilla.org/showattachment.cgi?attach_id=26944'</B
>
              </TT
>
            </P
></LI
><LI
><P
>&#13;              <TT
CLASS="computeroutput"
>&#13;                <TT
CLASS="prompt"
>bash#</TT
>

                <B
CLASS="command"
>wget -O bugs
                'http://bugzilla.mozilla.org/showattachment.cgi?attach_id=26215'</B
>
              </TT
>
            </P
></LI
></OL
></LI
><LI
><P
>Make your utilities executable: 
        <TT
CLASS="computeroutput"
>&#13;          <TT
CLASS="prompt"
>bash$</TT
>

          <B
CLASS="command"
>chmod u+x buglist bugs</B
>
        </TT
>
        </P
></LI
></OL
></DIV
><P
>The query.conf file contains the mapping from options to field
    names and comparison types. Quoted option names are "grepped" for, so it
    should be easy to edit this file. Comments (#) have no effect; you must
    make sure these lines do not contain any quoted "option".</P
><P
>buglist is a shell script which submits a Bugzilla query and writes
    the resulting HTML page to stdout. It supports both short options, (such
    as "-Afoo" or "-Rbar") and long options (such as "--assignedto=foo" or
    "--reporter=bar"). If the first character of an option is not "-", it is
    treated as if it were prefixed with "--default=".</P
><P
>The columlist is taken from the COLUMNLIST environment variable.
    This is equivalent to the "Change Columns" option when you list bugs in
    buglist.cgi. If you have already used Bugzilla, use 
    <B
CLASS="command"
>grep COLUMLIST ~/.netscape/cookies</B
>

    to see your current COLUMNLIST setting.</P
><P
>bugs is a simple shell script which calls buglist and extracts the
    bug numbers from the output. Adding the prefix
    "http://bugzilla.mozilla.org/buglist.cgi?bug_id=" turns the bug list into
    a working link if any bugs are found. Counting bugs is easy. Pipe the
    results through 
    <B
CLASS="command"
>sed -e 's/,/ /g' | wc | awk '{printf $2 "\n"}'</B
>
    </P
><P
>Akkana says she has good results piping buglist output through 
    <B
CLASS="command"
>w3m -T text/html -dump</B
>
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="rewrite.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="variants.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Apache 
    <TT
CLASS="filename"
>mod_rewrite</TT
>

    magic</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="patches.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Bugzilla Variants and Competitors</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>