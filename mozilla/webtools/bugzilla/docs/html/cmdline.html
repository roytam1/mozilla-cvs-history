<HTML
><HEAD
><TITLE
>Command-line Search Interface</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="The Bugzilla Guide - 2.17.5 
    Development Release"
HREF="index.html"><LINK
REL="UP"
TITLE="Contrib"
HREF="patches.html"><LINK
REL="PREVIOUS"
TITLE="Contrib"
HREF="patches.html"><LINK
REL="NEXT"
TITLE="GNU Free Documentation License"
HREF="gfdl.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The Bugzilla Guide - 2.17.5 
    Development Release</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="patches.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Appendix B. Contrib</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="gfdl.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="cmdline"
></A
>B.1. Command-line Search Interface</H1
><P
>There are a suite of Unix utilities for searching Bugzilla from the 
    command line. They live in the 
    <TT
CLASS="filename"
>contrib/cmdline</TT
> 
    directory. However, they
    have not yet been updated to work with 2.16 (post-templatisation.).
    There are three files - <TT
CLASS="filename"
>query.conf</TT
>, 
    <TT
CLASS="filename"
>buglist</TT
> and <TT
CLASS="filename"
>bugs</TT
>.</P
><P
><TT
CLASS="filename"
>query.conf</TT
> 
    contains the mapping from options to field
    names and comparison types. Quoted option names are "grepped" for, so it
    should be easy to edit this file. Comments (#) have no effect; you must
    make sure these lines do not contain any quoted "option".</P
><P
><TT
CLASS="filename"
>buglist</TT
>
    is a shell script which submits a Bugzilla query and writes
    the resulting HTML page to stdout. It supports both short options, (such
    as "-Afoo" or "-Rbar") and long options (such as "--assignedto=foo" or
    "--reporter=bar"). If the first character of an option is not "-", it is
    treated as if it were prefixed with "--default=".</P
><P
>The column list is taken from the COLUMNLIST environment variable.
    This is equivalent to the "Change Columns" option when you list bugs in
    buglist.cgi. If you have already used Bugzilla, grep for COLUMNLIST
    in your cookies file to see your current COLUMNLIST setting.</P
><P
><TT
CLASS="filename"
>bugs</TT
> is a simple shell script which calls
    <TT
CLASS="filename"
>buglist</TT
> and extracts the
    bug numbers from the output. Adding the prefix
    "http://bugzilla.mozilla.org/buglist.cgi?bug_id=" turns the bug list into
    a working link if any bugs are found. Counting bugs is easy. Pipe the
    results through 
    <B
CLASS="command"
>sed -e 's/,/ /g' | wc | awk '{printf $2 "\n"}'</B
>
    </P
><P
>Akkana Peck says she has good results piping 
    <TT
CLASS="filename"
>buglist</TT
> output through 
    <B
CLASS="command"
>w3m -T text/html -dump</B
>
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="patches.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="gfdl.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Contrib</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="patches.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>GNU Free Documentation License</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>