<!-- 1.0@bugzilla.org -->
[%# The contents of this file are subject to the Mozilla Public
  # License Version 1.1 (the "License"); you may not use this file
  # except in compliance with the License. You may obtain a copy of
  # the License at http://www.mozilla.org/MPL/
  #
  # Software distributed under the License is distributed on an "AS
  # IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
  # implied. See the License for the specific language governing
  # rights and limitations under the License.
  #
  # The Original Code is the Bugzilla Bug Tracking System.
  #
  # The Initial Developer of the Original Code is Netscape Communications
  # Corporation. Portions created by Netscape are
  # Copyright (C) 1998 Netscape Communications Corporation. All
  # Rights Reserved.
  #
  # Contributor(s): Gervase Markham <gerv@gerv.net>
  #%]

[%# INTERFACE:
  # header_done: boolean. True if the header has already been printed.
  # error: string. The tag of the error.
  # variables: hash. Useful data about the problem. The keys are the variable
  #  names, and the values the variable values.
  #%]
  
[%# This is a list of all the possible code errors. Please keep them in
  # alphabetical order by error tag, and leave a blank line between errors.
  #%]  

[% DEFAULT title = "Internal Error" %]
  
[% error_message = BLOCK %]
  [% IF    error == "aaa_example_error_tag" %]
    [% title = "Example Error" %]    
    This is an example error. The title is set above. This text is the body
    of the error. It can contain arbitrary <b>HTML</b>, and also references
    to any [% parameters %] which you may have set before calling
    ThrowCodeError.

  [% ELSIF error == "attachment_already_obsolete" %]
    Attachment #[% attachid FILTER html %] ([% description FILTER html %]) 
    is already obsolete.
    
  [% ELSIF error == "field_type_mismatch" %]
    Cannot seem to handle <code>[% field %]</code>
    and <code>[% type %]</code> together.
 
  [% ELSIF error == "group_bit_invalid" %]
    One of the group bits submitted was invalid.

  [% ELSIF error == "illegal_content_type_method" %]
    Your form submission got corrupted somehow.  The <em>content
    method</em> field, which specifies how the content type gets determined,
    should have been either <em>autodetect</em>, <em>list</em>, 
    or <em>manual</em>, but was instead 
    <em>[% contenttypemethod FILTER html %]</em>.
        
  [% ELSIF error == "illegal_field" %]
    A legal [% field FILTER html %] was not set.
    
  [% ELSIF error == "inactive_group" %]
    Attempted to add bug to an inactive group, identified by the bit 
    '[% bit FILTER html %]'.
    
  [% ELSIF error == "invalid_attach_id_to_obsolete" %]
     The attachment number of one of the attachments you wanted to obsolete,
     [% attach_id FILTER html %], is invalid.
          
  [% ELSIF error == "mismatched_bug_ids_on_obsolete" %]
    Attachment [% attach_id FILTER html %] ([% description FILTER html %]) 
    is attached to bug [% attach_bug_id FILTER html %], but you tried to 
    flag it as obsolete while creating a new attachment to bug 
    [% my_bug_id FILTER html %].
        
  [% ELSIF error == "no_bug_data" %]
    No data when fetching bug [% bug_id %].
    
  [% ELSIF error == "no_y_axis_defined" %]
    No Y axis was defined when creating report. The X axis is optional,
    but the Y axis is compulsory.
    
  [% ELSIF error == "template_error" %]
    [% template_error_msg %]

  [% ELSIF error == "undefined_field" %]
    [% field FILTER html %] was not defined; [% Param('browserbugmessage') %]

  [% ELSIF error == "unknown_action" %]
    Unknown action [% action FILTER html %]!
    
  [% ELSE %]
    [%# Give sensible error if error functions are used incorrectly.
      #%]        
    You are using Bugzilla's ThrowCodeError() function incorrectly. You
    passed in the string '[% error %]'. The correct use is to pass
    in a tag, and define that tag in the file code-error.html.tmpl.<br>
    <br>
    If you are a Bugzilla end-user seeing this message, please save this
    page and send it to [% Param('maintainer') %].
  [% END %]
[% END %]

[% UNLESS header_done %]
  [% PROCESS global/header.html.tmpl %]
[% END %]

<tt>
  <p>
    Bugzilla has suffered an internal error. Please save this page and send
    it to [% Param("maintainer") %] with details of what you were doing at 
    the time this message appeared.
  </p>
  <script type="text/javascript"> <!--
    document.write("<p>URL: " + document.location + "</p>");
  // -->
  </script>
</tt>

<table cellpadding="20">
  <tr>
    <td bgcolor="#ff0000">
      <font size="+2">
        [% error_message %]
      </font>
    </td>
  </tr>
</table>

[% IF variables %]
  <pre>
Variables:
  [% FOREACH key = variables.keys %]
    [%+ key %]: [%+ variables.$key %]
  [% END %]
  </pre>
[% END %]

[% PROCESS global/footer.html.tmpl %]
