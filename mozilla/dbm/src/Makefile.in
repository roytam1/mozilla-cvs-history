#! gmake

DEPTH = ../..
topsrcdir	= @top_srcdir@
VPATH		= @srcdir@
srcdir		= @srcdir@

include $(DEPTH)/config/autoconf.mk

MODULE = dbm

CSRCS = db.c	   \
	h_bigkey.c \
	h_func.c   \
	h_log2.c   \
	h_page.c   \
	hash.c	   \
	hash_buf.c \
	hsearch.c  \
	memmove.c  \
	mktemp.c   \
	ndbm.c	   \
	snprintf.c \
	strerror.c \
	nsres.c	   \
	$(NULL)

LIBRARY_NAME = $(MOZ_LIB_DBM_PREFIX)dbm

LOCAL_INCLUDES = -I$(srcdir)/../include

include $(topsrcdir)/config/rules.mk

DEFINES += -DMEMMOVE -D__DBINTERFACE_PRIVATE $(SECURITY_FLAG)

ifeq ($(OS_ARCH),AIX)
	OS_LIBS += -lc_r
endif
