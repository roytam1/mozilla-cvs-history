<?xml version="1.0"?>
<?xml-stylesheet href="DOMDataSourceViewer.css" type="text/css"?>

<window
  xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
  xmlns:html="http://www.w3.org/1999/xhtml"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  class="dialog"
  onload="onSrcLoaded();"
  title="DOM Viewer">

<script type="application/x-javascript" src="DOMDataSourceViewer.js"/>
<vbox flex="30%">
  <textbox value="chrome://communicator/content/domviewer/domviewer.html"
           type="text" name="url" id="url"
           onkeypress="if (event.keyCode == 13) loadUrl();"/>
  <hbox>
    <text value="Show:"/>
    <checkbox oncommand="setMode('content', event.target.checked);" label="Content"/>
    <checkbox oncommand="setMode('dom', event.target.checked);" label="DOM"/>
    <checkbox oncommand="setMode('frame', event.target.checked);" label="Frames"/>
    <checkbox oncommand="setMode('leaf', event.target.checked);" label="OOB data"/>
    
  </hbox>
  <hbox>
    <button onclick="loadUrl();" label="Load"/>
    <button onclick="refreshTree();" label="Refresh"/>
  </hbox>
<tree
  datasources="rdf:domds"
  id="dataSourceTree">

  <template>
    <rule>
      <treechildren>
        <treeitem uri="..."
          Type="rdf:http://home.netscape.com/NC-rdf#Type">
          <treerow>
            <treecell indent="true" label="rdf:http://home.netscape.com/NC-rdf#Name"/>
            <treecell label="rdf:http://home.netscape.com/NC-rdf#Value"/>
          </treerow>
        </treeitem>
      </treechildren>
    </rule>
  <treechildren>
    <treeitem   id="NC:DOMRoot"/>
  </treechildren>
  </template>

  <treecol style="width: 50%" id="NameColumn" resource="http://home.netscape.com/NC-rdf#Name"/>
  <treecol style="width: 50%" id="ValueColumn" resource="http://home.netscape.com/NC-rdf#Value"/>
  <treehead>
    <treerow>
      <treecell label="Name"/>
      <treecell label="Value"/>
    </treerow>
  </treehead>
</tree>

</vbox>
<splitter collapse="before" persist="state hidden" chromeclass="extrachrome"/>
<iframe onload="onSrcLoaded();" name="srcdoc" src="chrome://communicator/content/domviewer/domviewer.html" flex="73%"/>

</window>
