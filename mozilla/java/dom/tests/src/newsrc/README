This document describes steps required to run the Test Suite for JavaDOM API
throught a PLUGLET.
You have to build PLUGLETS before building this
( see http://www.mozilla.org/projects/blackwood/java-plugins )

For Solaris
===========
  1)  open mozilla.csh

  2)  make changes to variables
          MOZILLA_FIVE_HOME           - Absolute path where mozilla-bin 
                                        executable is located.
          JAVA_HOME                   - Absolute Path to J2SE1.3 dir.
          TEST_PATH                   - Absolute Directory Path where file 
                                        BWTestClass.lst is located.
	  PLUGLET                     - Absolute dir. where DOMPLUGLET.jar
                                        is located

  3)  source mozilla.csh 
      this will set up the environment

  4)  Edit BWProperties file and change the locations for variables
          BW_TESTDIR    (Absolute Directory Path where file BWTestClass.lst is 
                         located)
          BW_LOGDIR     (Absolute Directory Path where  log files need to be 
                         created)
          BW_THREADMODE (Execute tests in single thread [S] or 
                         multi-thread [M] mode. Takes values S/M.)

  5)  Set PLUGLET enviornment to point to classes dir.
           setenv PLUGLET /opt/mozilla/java/dom/tests/classes

  6)  Set LD_PRELOAD to point to libXm.so
          setenv LD_PRELOAD libXm.so

  7)  Invoke autorun.sh from command prompt.
       sh autorun.sh

  8)  The results are recorded in HTML file BWTest.html
      and in log file BWTest.log
      Individual test Log files are also found in 'log' directory.

  
---------------------------------------------------------------------------

To Invoke a specific test case 
   sh autorun.sh -t org.mozilla.dom.test.AttrImpl_getName

NOTE: All TestCase list is recorded in file BWTestClass.lst.ORIG
      If your machine is slow and loading time of mozilla is high then
      accordingly increase DELAY_FACTOR to a higher value in autorun.sh.
     


=============================================================================

For WIN32
===========
Assumes you have installed PERL and the following variables are set in your environment:
  MOZILLA_HOME - top directory in mozilla's tree
  JAVA_HOME    - path to JDK

  1)  open mozilla.bat

  2)  make changes to variables
          MOZILLA_BIN                 - Mozilla's executable file name 
                                        (e.g. mozilla.exe or viewer.exe)
          TEST_PATH                   - path to the current directory 
                                        (where mozilla.bat is)
	  PLUGLET                     - Absolute dir. where DOMPLUGLET.jar
                                        is located

  3)  execute mozilla.bat from command prompt
      this will create new console and set up the environment for this 
      command prompt 

  4)  Edit BWProperties file and change the locations for variables
           BW_TESTDIR    (Absolute Directory Path where file BWTestClass.lst is 
                          located)
           BW_LOGDIR     (Absolute Directory Path where  log files need to be 
                          created)
           BW_THREADMODE (Execute tests in single thread [S] or 
                          multi-thread [M] mode. Takes values S/M.)
  
     
      NOTE: Since on Windows file separator is a `\`, it should be escaped 
            by another '\'. So if a file is in c:\mozilla\tests then it
            would be written as c:\\mozilla\\tests.
      

  5)  Invoke autorun.pl from command prompt.
         perl autorun.pl

  6)  The results are recorded in HTML file BWTest.html
      and in log file BWTest.log
      Individual test Log files are also found in 'log' directory.

  
---------------------------------------------------------------------------

To Invoke a specific test case 
   perl autorun.pl -t org.mozilla.dom.test.AttrImpl_getName

NOTE: All Test Cases are recorded in file BWTestClass.lst.ORIG

---------------------------------------------------------------------------


BUGS:

 Currently a bug is filed against getDocumentType method of object Document.
 for XML (see Bugzilla ID: 15118).
 Hence all the tests which depend on the same will fail, namely
   DocumentTypeImpl->getEntities
   DocumentTypeImpl->getInternalSubset
   DocumentTypeImpl->getName
   DocumentTypeImpl->getNotations
   DocumentTypeImpl->getPublicId
   DocumentTypeImpl->getSystemId
   DocumentImpl->getDoctype_xml
 
