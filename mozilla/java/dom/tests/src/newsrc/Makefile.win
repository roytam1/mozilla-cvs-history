#!nmake
#
# The contents of this file are subject to the Mozilla Public
# License Version 1.1 (the "License"); you may not use this file
# except in compliance with the License. You may obtain a copy of
# the License at http://www.mozilla.org/MPL/
#
# Software distributed under the License is distributed on an "AS
# IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
# implied. See the License for the specific language governing
# rights and limitations under the License.
#
# The Original Code is mozilla.org code.
#
# The Initial Developer of the Original Code is Sun Microsystems,
# Inc. Portions created by Sun are
# Copyright (C) 1999 Sun Microsystems, Inc. All
# Rights Reserved.
#
# Contributor(s):


HOMEDIR=..\..
SRCDIR=$(HOMEDIR)\src\newsrc
CLASSDIR=$(HOMEDIR)\classes

JAVAC=javac
TESTPACKAGE=org\mozilla\dom\test
DOMPACKAGE=org\mozilla\dom
DOMPLUGLET_JAR=DOMPLUGLET.jar


JAVAFILES=DOMViewerFactory.java


all: testloader
	@echo done
	@cd $(CLASSDIR); jar cvfm $(DOMPLUGLET_JAR) manifest org
	@cd $(CLASSDIR); cp $(DOMPLUGLET_JAR) $(MOZILLA_FIVE_HOME)\..\classes; del /f/q  *.class

testloader:
	@echo "******************************************************"
	@echo "Make changes to $(SRCDIR)\mozilla.bat"
	@echo "and execute it else it may not compile..."
	@echo "******************************************************"
	@echo ""
	@echo Building test accessory classes ...		
	@$(JAVAC) -d $(CLASSDIR) $(JAVAFILES) 
	@cp manifest $(CLASSDIR)


clean:
	del /f/q $(CLASSDIR)\$(TESTPACKAGE)\*.class
	del /f/q $(CLASSDIR)\$(DOMPACKAGE)\*.class  

	
	
	
