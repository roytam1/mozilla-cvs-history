#
# The contents of this file are subject to the Netscape Public License
# Version 1.0 (the "NPL"); you may not use this file except in
# compliance with the NPL.  You may obtain a copy of the NPL at
# http://www.mozilla.org/NPL/
#
# Software distributed under the NPL is distributed on an "AS IS" basis,
# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the NPL
# for the specific language governing rights and limitations under the
# NPL.
#
# The Initial Developer of this code under the NPL is Netscape
# Communications Corporation.  Portions created by Netscape are
# Copyright (C) 1998 Netscape Communications Corporation.  All Rights
# Reserved.
#

DEPTH		= .
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

# The list of directories that need to be built to build the standalone
# nglayout test program. The order is important.
DIRS =				\
  config			\
  build				\
  $(NULL)

ifndef MOZ_NATIVE_NSPR
DIRS += $(topsrcdir)/nsprpub
endif

DIRS +=				\
  dbm				\
  modules/libreg		\
  xpcom				\
  $(NULL)

ifndef MOZ_NATIVE_ZLIB
DIRS += modules/zlib
endif

ifndef MOZ_NATIVE_JPEG
DIRS += jpeg
endif

ifdef NECKO
DIRS += netwerk
else
DIRS += network		\
  lib/libpwcac			\
  $(NULL)
endif

DIRS +=				\
  modules/libutil		\
  lib/xp			\
  intl				\
  js				\
  modules/security/freenav	\
  modules/libpref		\
  modules/libimg		\
  modules/oji			\
  modules/plugin		\
  modules/libjar		\
  caps				\
  htmlparser			\
  expat             \
  gfx				\
  dom				\
  view				\
  widget			\
  layout			\
  rdf				\
  webshell			\
  editor			\
  silentdl			\
  xpinstall			\
  sun-java			\
  profile			\
  $(NULL)

ifdef MOZ_BUILD_XPFE
DIRS += xpfe extensions
endif

ifdef MOZ_MAIL_NEWS
DIRS += mailnews
endif

include $(topsrcdir)/config/rules.mk

real_all: all

real_export: export

real_libs: libs

real_install: install

real_clobber: clobber

real_depend: depend
