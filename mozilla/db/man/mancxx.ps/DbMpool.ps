%!PS-Adobe-3.0
%%Creator: groff version 1.11
%%CreationDate: Sun May 31 22:58:36 1998
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Roman
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.11 0
%%Pages: 7
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.11 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Bold@0 SF -.18(NA)72 28.8 S(ME).18 E/F1 10/Times-Roman@0 SF
(DbMpool \255 shared memory b)108 40.8 Q(uf)-.2 E(fer pool)-.25 E F0
(SYNOPSIS)72 57.6 Q/F2 10/Times-Bold@0 SF(#include <db_cxx.h>)108 69.6 Q
(static int)108 93.6 Q(DbMpool::open\(char *dir)108 105.6 Q(,)-.92 E
(u_int32_t \215ags, int mode, DbEn)158 117.6 Q 2.5(v*)-.4 G(dben)-2.5 E
1.1 -.55(v, D)-.4 H(bMpool **r).55 E(egionp\);)-.18 E(int)108 141.6 Q
(DbMpool::close\(\);)108 153.6 Q(static int)108 177.6 Q
(DbMpool::unlink\(const char *dir)108 189.6 Q 2.5(,i)-.92 G(nt f)-2.5 E
(or)-.25 E(ce, DbEn)-.18 E 2.5(v*)-.4 G(\);)-2.5 E(int)108 213.6 Q
(DbMpool::db_r)108 225.6 Q(egister\(int ftype,)-.18 E
(int \(*pgin\)\(db_pgno_t pgno, v)158 237.6 Q(oid *pgaddr)-.1 E 2.5(,D)
-.92 G(bt *pgcookie\),)-2.5 E(int \(*pgout\)\(db_pgno_t pgno, v)158
249.6 Q(oid *pgaddr)-.1 E 2.5(,D)-.92 G(bt *pgcookie\)\);)-2.5 E(int)108
273.6 Q(DbMpool::trickle\(int pct, int *nwr)108 285.6 Q(otep\);)-.18 E
(int)108 309.6 Q(DbMpool::sync\(LSN *lsn\);)108 321.6 Q(int)108 345.6 Q
(DbMpool::stat\(DB_MPOOL_ST)108 357.6 Q 1.9 -.95(AT *)-.9 H(*gsp,).95 E
(DB_MPOOL_FST)158 369.6 Q 1.9 -.95(AT *)-.9 H(\(*fsp\)[], v).95 E
(oid *\(*db_malloc\)\(size_t\)\);)-.1 E F0(DESCRIPTION)72 386.4 Q F1
1.02(The DB library is a f)108 398.4 R 1.019(amily of classes that pro)
-.1 F 1.019(vides a modular programming interf)-.15 F 1.019
(ace to transactions and)-.1 F 1.377(record-oriented \214le access.)108
410.4 R 1.378(The library includes support for transactions, locking, logging and \214le page)
6.377 F .443(caching, as well as v)108 422.4 R .443(arious inde)-.25 F
-.15(xe)-.15 G 2.943(da).15 G .442(ccess methods.)-2.943 F(Man)5.442 E
2.942(yo)-.15 G 2.942(ft)-2.942 G .442
(he classes \(e.g., the \214le page caching class\))-2.942 F .4(are useful independent of the other DB classes, although some classes are e)
108 434.4 R .4(xplicitly based on other classes)-.15 F
(\(e.g., transactions and logging\).)108 446.4 Q -.15(Fo)5 G 2.5(rag).15
G(eneral description of the DB package, see)-2.5 E/F3 10/Times-Italic@0
SF(db_intr)2.5 E(o)-.45 E F1(\(3\).).18 E(This manual page describes the speci\214c details of the memory pool interf)
108 463.2 Q(ace.)-.1 E(The)108 480 Q F3(DbMpool)2.7 E F1 .2(\(3\) and)
.51 F F3(DbMpoolF)2.7 E(ile)-.45 E F1 .2
(\(3\) classes are the library interf).18 F .2(ace intended to pro)-.1 F
.2(vide general-purpose,)-.15 F .46(page-oriented b)108 492 R(uf)-.2 E
.46(fer management of one or more \214les.)-.25 F .46
(While designed to w)5.46 F .46(ork with the other Db classes,)-.1 F
.563(this class is also useful for more general purposes.)108 504 R .563
(The memory pools \(DbMpool')5.563 F .563(s\) are referred to in this)
-.55 F .846(document as simply `)108 516 R(`pools')-.74 E 3.346
('. Pools)-.74 F .847(may be shared between processes.)3.346 F .847
(Pools are usually \214lled by pages)5.847 F .166
(from one or more \214les \(DbMpoolFile')108 528 R 2.665(s\). P)-.55 F
.165(ages in the pool are replaced in LR)-.15 F 2.665(U\()-.4 G .165
(least-recently-used\) order)-2.665 F(,)-.4 E 1.199(with each ne)108 540
R 3.699(wp)-.25 G 1.199
(age replacing the page that has been unused the longest.)-3.699 F -.15
(Pa)6.2 G 1.2(ges retrie).15 F -.15(ve)-.25 G 3.7(df).15 G 1.2
(rom the pool)-3.7 F(using)108 552 Q F3(DbMpoolF)3.258 E(ile::g)-.45 E
(et)-.1 E F1 .758(are `)3.258 F(`pinned')-.74 E 3.258('i)-.74 G 3.258
(nt)-3.258 G .758(he pool, by def)-3.258 F .757(ault, until the)-.1 F
3.257(ya)-.15 G .757(re returned to the pool')-3.257 F 3.257(sc)-.55 G
(ontrol)-3.257 E(using the)108 564 Q F3(DbMpoolF)2.5 E(ile::put)-.45 E
F1(method.)2.5 E F3(DbMpool::open)92 580.8 Q F1(The)108 592.8 Q F3
(DbMpool::open)3.035 E F1 .535(method copies a pointer)3.035 F 3.035(,t)
-.4 G 3.035(ot)-3.035 G .535(he memory pool identi\214ed by the)-3.035 F
F2(dir)3.035 E(ectory)-.18 E F3(dir)3.035 E F1 3.035(,i).73 G .535
(nto the)-3.035 F(memory location referenced by)108 604.8 Q F3 -.37(re)
2.5 G(gionp)-.03 E F1(.).19 E 2.668(If the)108 621.6 R F3(dben)5.168 E
(v)-.4 E F1(ar)5.168 E 2.668(gument to)-.18 F F3(DbMpool::open)5.168 E
F1 -.1(wa)5.168 G 5.168(si).1 G 2.668(nitialized using)-5.168 F F3(DbEn)
5.168 E(v::appinit)-.4 E F1(,).68 E F3(dir)5.167 E F1 2.667
(is interpreted as)5.167 F(described by)108 633.6 Q F3(DbEn)2.5 E(v)-.4
E F1(\(3\).).32 E .667(Otherwise, if)108 650.4 R F3(dir)3.167 E F1 .668
(is not NULL, it is interpreted relati)3.167 F .968 -.15(ve t)-.25 H
3.168(ot).15 G .668(he current w)-3.168 F .668
(orking directory of the process.)-.1 F(If)5.668 E F3(dir)108 662.4 Q F1
2.388(is NULL, the follo)4.888 F 2.388(wing en)-.25 F 2.388(vironment v)
-.4 F 2.388(ariables are check)-.25 F 2.387(ed in order: `)-.1 F
(`TMPDIR')-.74 E 2.387(', `)-.74 F(`TEMP')-.74 E 2.387(', and)-.74 F
-.74(``)108 674.4 S(TMP').74 E 2.545('. If)-.74 F .045
(one of them is set, memory pool \214les are created relati)2.545 F .346
-.15(ve t)-.25 H 2.546(ot).15 G .046(he directory it speci\214es.)-2.546
F .046(If none of)5.046 F 1.501
(them are set, the \214rst possible one of the follo)108 686.4 R 1.5
(wing directories is used:)-.25 F F3(/var/tmp)4 E F1(,).19 E F3
(/usr/tmp)4 E F1(,).19 E F3(/temp)4 E F1(,).19 E F3(/tmp)4 E F1(,).19 E
F3(C:/temp)108 698.4 Q F1(and)2.5 E F3(C:/tmp)2.5 E F1(.).19 E .942(All \214les associated with the memory pool are created in this directory)
108 715.2 R 5.943(.T)-.65 G .943(his directory must already e)-5.943 F
(xist)-.15 E 1.133(when DbMpool::open is called.)108 727.2 R 1.133
(If the memory pool already e)6.133 F 1.132(xists, the process must ha)
-.15 F 1.432 -.15(ve p)-.2 H 1.132(ermission to).15 F(1)535 768 Q EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R .27
(read and write the e)108 84 R .27(xisting \214les.)-.15 F .27
(If the memory pool does not already e)5.27 F .27
(xist, it is optionally created and ini-)-.15 F(tialized.)108 96 Q(The)
108 112.8 Q/F1 10/Times-Italic@0 SF<8d61>3.761 E(gs)-.1 E F0(and)3.761 E
F1(mode)3.761 E F0(ar)3.761 E 1.261(guments specify ho)-.18 F 3.761
<778c>-.25 G 1.26(les will be opened and/or created when the)-3.761 F
3.76(yd)-.15 G(on')-3.76 E 3.76(ta)-.18 G(lready)-3.76 E -.15(ex)108
124.8 S 2.5(ist. The).15 F(\215ags v)2.5 E(alue is speci\214ed by)-.25 E
/F2 10/Times-Bold@0 SF(or)2.5 E F0
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E
(DB_CREA)108 141.6 Q(TE)-1.11 E .483(Create an)133 153.6 R 2.983(yu)-.15
G .483(nderlying \214les, as necessary)-2.983 F 5.483(.I)-.65 G 2.983
(ft)-5.483 G .483(he \214les do not already e)-2.983 F .483
(xist and the DB_CREA)-.15 F .484(TE \215ag)-1.11 F
(is not speci\214ed, the call will f)133 165.6 Q(ail.)-.1 E
(DB_MPOOL_PRIV)108 182.4 Q -1.11(AT)-1.35 G(E)1.11 E .83(Create a pri)
133 194.4 R -.25(va)-.25 G .83(te MPOOL that is not shared with an).25 F
3.329(yo)-.15 G .829(ther process \(although it may be shared with)
-3.329 F(other threads\).)133 206.4 Q(DB_NOMMAP)108 223.2 Q(Al)133 235.2
Q -.1(wa)-.1 G 1.256(ys cop).1 F 3.756<798c>-.1 G 1.257(les in this memory pool into the local cache instead of mapping them into process)
-3.756 F(memory \(see the description of the)133 247.2 Q F1(mp_mmapsize)
2.5 E F0(\214eld of the DbEn)2.5 E 2.5(vo)-.4 G
(bject for further information\).)-2.5 E(DB_THREAD)108 276 Q .028
(Cause the DbMpool handle returned by the)133 288 R F1(DbMpool::open)
2.528 E F0 .028(method to be useable by multiple threads)2.528 F
(within a single address space, i.e., to be `)133 300 Q(`free-threaded')
-.74 E('.)-.74 E .111(All \214les created by the memory pool subsystem \(other than \214les created by the)
108 316.8 R F1(memp_fopen)2.612 E F0 .112(method, which)2.612 F .545
(are separately speci\214ed\) are created with mode)108 328.8 R F1(mode)
3.045 E F0 .545(\(as described in)3.045 F F1 -.15(ch)3.045 G(mod).15 E
F0 .545(\(2\)\) and modi\214ed by the pro-).77 F .323(cess' umask v)108
340.8 R .323(alue at the time of creation \(see)-.25 F F1(umask)2.823 E
F0 2.823(\(2\)\). The).67 F .323(group o)2.823 F .324
(wnership of created \214les is based on)-.25 F
(the system and directory def)108 352.8 Q
(aults, and is not further speci\214ed by DB.)-.1 E .33(The memory pool subsystem is con\214gured based on which set methods ha)
108 369.6 R .63 -.15(ve b)-.2 H .33(een used.).15 F .33(It is e)5.33 F
.33(xpected that)-.15 F .994(applications will use a single DbEn)108
381.6 R 3.494(vo)-.4 G .994(bject as the ar)-3.494 F .995
(gument to all of the subsystems in the DB package.)-.18 F .62
(The \214elds of the DbEn)108 393.6 R 3.12(vo)-.4 G .62(bject used by)
-3.12 F F1(DbMpool::open)3.119 E F0 .619(are described belo)3.119 F
4.419 -.65(w. A)-.25 H 3.119(sr).65 G .619(eferences to the DbEn)-3.119
F(v)-.4 E .829(object may be maintained by)108 405.6 R F1(DbMpool::open)
3.329 E F0 3.329(,i).24 G 3.329(ti)-3.329 G 3.329(sn)-3.329 G .829
(ecessary that the DbEn)-3.329 F 3.33(vo)-.4 G .83
(bject and memory it refer)-3.33 F(-)-.2 E .446(ences be v)108 417.6 R
.446(alid until the object is destro)-.25 F 2.946(yed. An)-.1 F 2.946
(yo)-.15 G 2.946(ft)-2.946 G .446(he DbEn)-2.946 F 2.946<768c>-.4 G .446
(elds that are not e)-2.946 F .445(xplicitly set will def)-.15 F(ault)
-.1 E(to appropriate v)108 429.6 Q(alues.)-.25 E .516(The follo)108
446.4 R .516(wing \214elds in the DbEn)-.25 F 3.016(vo)-.4 G .516(bject may be initialized, using the appropriate set method, before call-)
-3.016 F(ing)108 458.4 Q F1(DbMpool::open)2.5 E F0(:).24 E -.2(vo)108
487.2 S(id *\(*db_errcall\)\(char *db_errpfx, char *b).2 E(uf)-.2 E
(fer\);)-.25 E(FILE *db_err\214le;)108 499.2 Q(const char *db_errpfx;)
108 511.2 Q(class ostream *db_error_stream;)108 523.2 Q(int db_v)108
535.2 Q(erbose;)-.15 E(The error \214elds of the DbEn)133 547.2 Q 2.5
(vb)-.4 G(eha)-2.5 E .3 -.15(ve a)-.2 H 2.5(sd).15 G(escribed for)-2.5 E
F1(DbEn)2.5 E(v)-.4 E F0(\(3\).).32 E(size_t mp_mmapsize;)108 564 Q
1.631
(Files that are opened read-only in the pool \(and that satisfy a fe)133
576 R 4.13(wo)-.25 G 1.63(ther criteria\) are, by def)-4.13 F(ault,)-.1
E .04(mapped into the process address space instead of being copied into the local cache.)
133 588 R .041(This can result in)5.041 F(better)133 600 Q 1.331
(-than-usual performance, as a)-.2 F -.25(va)-.2 G 1.331
(ilable virtual memory is normally much lar).25 F 1.33
(ger than the local)-.18 F .85(cache, and page f)133 612 R .85
(aults are f)-.1 F .851(aster than page cop)-.1 F .851(ying on man)-.1 F
3.351(ys)-.15 G 3.351(ystems. Ho)-3.351 F(we)-.25 E -.15(ve)-.25 G 1.651
-.4(r, i).15 H 3.351(nt).4 G .851(he presence of)-3.351 F .262
(limited virtual memory it can cause resource starv)133 624 R .262
(ation, and in the presence of lar)-.25 F .261(ge databases, it can)-.18
F .636(result in immense process sizes.)133 636 R(If)5.636 E F1
(mp_mmapsize)3.136 E F0 .636
(is non-zero, it speci\214es the maximum \214le size, in)3.136 F
(bytes, for a \214le to be mapped into the process address space.)133
648 Q(By def)5 E(ault, it is set to 10Mb)-.1 E(.)-.4 E(size_t mp_size;)
108 664.8 Q .757(The suggested size of the pool, in bytes.)133 676.8 R
.756(This should be the size of the normal w)5.756 F .756
(orking data set of)-.1 F 1.501(the application, with some small amount of additional memory for unusual situations.)
133 688.8 R 1.502(\(Note, the)6.502 F -.1(wo)133 700.8 S .324(rking set is not the same as the number of simultaneously referenced pages, and should be quite a)
.1 F .548(bit lar)133 712.8 R 3.048(ger!\) The)-.18 F(def)3.048 E .548(ault cache size is 128K bytes \(16 8K byte pages\), and may not be less than 20K)
-.1 F(bytes.)133 724.8 Q(May 10, 1998)278.085 768 Q(2)201.085 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R(The)108
84 Q/F1 10/Times-Italic@0 SF(DbMpool::open)2.596 E F0 .096(method thro)
2.596 F .096(ws a)-.25 F F1(DbException)2.596 E F0 .095
(\(3\) or returns the v).24 F .095(alue of)-.25 F F1(errno)2.595 E F0
.095(on f)2.595 F .095(ailure and 0 on suc-)-.1 F(cess.)108 96 Q F1
(DbMpool::close)92 112.8 Q F0(The)108 124.8 Q F1(DbMpool::close)4.73 E
F0 2.231
(method closes the pool indicated by the DbMpool object, as returned by)
4.73 F F1(DbM-)4.731 E(pool::open)108 136.8 Q F0 6.749(.T).24 G 1.748
(his method does not imply a call to)-6.749 F F1(DbMpoolF)4.248 E
(ile::sync)-.45 E F0 4.248(,b).31 G 1.748(ut does imply a call to)-4.448
F F1(DbM-)4.248 E(poolF)108 148.8 Q(ile::close)-.45 E F0 1.578(for an)
4.078 F 4.078(yr)-.15 G 1.579
(emaining open DbMpoolFile objects returned to this process by calls to)
-4.078 F F1(DbM-)4.079 E(poolF)108 160.8 Q(ile::open)-.45 E F0(.).24 E
2.744(In addition, if the)108 177.6 R F1(dir)5.244 E F0(ar)5.244 E 2.744
(gument to)-.18 F F1(DbMpool::open)5.244 E F0 -.1(wa)5.244 G 5.244(sN).1
G 2.744(ULL and)-5.244 F F1(dben)5.244 E(v)-.4 E F0 -.1(wa)5.244 G 5.244
(sn).1 G 2.744(ot initialized using)-5.244 F F1(DbEn)108 189.6 Q
(v::appinit)-.4 E F0 2.724(,a).68 G .224
(ll \214les created for this shared re)-2.724 F .225(gion will be remo)
-.15 F -.15(ve)-.15 G .225(d, as if).15 F F1(DbMpool::unlink)2.725 E F0
.225(were called.)2.725 F .188
(When multiple threads are using the DbMpool handle concurrently)108
206.4 R 2.687(,o)-.65 G .187(nly a single thread may call the)-2.687 F
F1(DbM-)2.687 E(pool::close)108 218.4 Q F0(method.)2.5 E(The)108 235.2 Q
F1(DbMpool::close)2.53 E F0 .03(method thro)2.53 F .03(ws a)-.25 F F1
(DbException)2.53 E F0 .03(\(3\) or returns the v).24 F .03(alue of)-.25
F F1(errno)2.53 E F0 .03(on f)2.53 F .03(ailure and 0 on suc-)-.1 F
(cess.)108 247.2 Q F1(DbMpool::unlink)92 276 Q F0(The)108 288 Q F1
(DbMpool::unlink)3.147 E F0 .647(method destro)3.147 F .646
(ys the memory pool identi\214ed by the directory)-.1 F F1(dir)3.146 E
F0 3.146(,r).73 G(emo)-3.146 E .646(ving all \214les)-.15 F .732
(used to implement the memory pool.)108 300 R .732(\(The directory)5.732
F F1(dir)3.232 E F0 .732(is not remo)3.232 F -.15(ve)-.15 G 3.233
(d.\) If).15 F .733(there are processes that ha)3.233 F -.15(ve)-.2 G
(called)108 312 Q F1(DbMpool::open)3.207 E F0 .707(without calling)3.207
F F1(DbMpool::close)3.207 E F0 .706
(\(i.e., there are processes currently using the mem-)3.207 F .16
(ory pool\),)108 324 R F1(DbMpool::unlink)2.66 E F0 .16(will f)2.66 F
.16(ail without further action, unless the force \215ag is set, in which case)
-.1 F F1(DbM-)2.66 E(pool::unlink)108 336 Q F0 .377
(will attempt to remo)2.877 F .676 -.15(ve t)-.15 H .376
(he memory pool \214les re).15 F -.05(ga)-.15 G .376(rdless of an).05 F
2.876(yp)-.15 G .376(rocesses still using the mem-)-2.876 F(ory pool.)
108 348 Q .766(The result of attempting to forcibly destro)108 364.8 R
3.266(yt)-.1 G .766(he re)-3.266 F .766(gion when a process has the re)
-.15 F .766(gion open is unspeci\214ed.)-.15 F 1.232
(Processes using a shared memory re)108 376.8 R 1.232
(gion maintain an open \214le descriptor for it.)-.15 F 1.231
(On UNIX systems, the)6.232 F(re)108 388.8 Q .473(gion remo)-.15 F -.25
(va)-.15 G 2.973(ls).25 G .473(hould succeed and processes that ha)
-2.973 F .773 -.15(ve a)-.2 H .473(lready joined the re).15 F .473
(gion should continue to run in)-.15 F .098(the re)108 400.8 R .098
(gion without change, ho)-.15 F(we)-.25 E -.15(ve)-.25 G 2.598(rp).15 G
.097(rocesses attempting to join the memory pool will either f)-2.598 F
.097(ail or attempt)-.1 F .586(to create a ne)108 412.8 R 3.086(wr)-.25
G -.15(eg)-3.086 G 3.086(ion. On).15 F .586(other systems, e.g., WNT)
3.086 F 3.086(,w)-.74 G .586(here the)-3.086 F F1(unlink)3.086 E F0 .587
(\(2\) system call will f).67 F .587(ail if an)-.1 F 3.087(yp)-.15 G
(ro-)-3.087 E(cess has an open \214le descriptor for the \214le, the re)
108 424.8 Q(gion remo)-.15 E -.25(va)-.15 G 2.5(lw).25 G(ill f)-2.5 E
(ail.)-.1 E .93(In the case of catastrophic or system f)108 441.6 R .929
(ailure, database reco)-.1 F -.15(ve)-.15 G .929
(ry must be performed \(see).15 F F1(db_r)3.429 E(eco)-.37 E(ver)-.1 E
F0 .929(\(1\) or).73 F .439(the DB_RECO)108 453.6 R .439
(VER and DB_RECO)-.5 F(VER_F)-.5 E -1.21 -1.11(AT A)-.74 H 2.939<4c8d>
1.11 G .439(ags to)-2.939 F F1(DbEn)2.939 E(v::appinit)-.4 E F0 2.939
(\(3\)\). Alternati).68 F -.15(ve)-.25 G(ly).15 E 2.939(,i)-.65 G 2.939
(fr)-2.939 G(eco)-2.939 E -.15(ve)-.15 G .439(ry is).15 F 1.108
(not required because no database state is maintained across f)108 465.6
R 1.108(ailures, it is possible to clean up a memory)-.1 F .488
(pool by remo)108 477.6 R .488
(ving all of the \214les in the directory speci\214ed to the)-.15 F F1
(DbMpool::open)2.988 E F0 .489(method, as memory pool)2.989 F .252
(\214les are ne)108 489.6 R -.15(ve)-.25 G 2.752(rc).15 G .252
(reated in an)-2.752 F 2.751(yd)-.15 G .251
(irectory other than the one speci\214ed to)-2.751 F F1(DbMpool::open)
2.751 E F0 5.251(.N).24 G .251(ote, ho)-5.251 F(we)-.25 E -.15(ve)-.25 G
1.051 -.4(r, t).15 H(hat).4 E(this has the potential to remo)108 501.6 Q
.3 -.15(ve \214)-.15 H
(les created by the other DB subsystems in this database en).15 E
(vironment.)-.4 E(The)108 518.4 Q F1(DbMpool::unlink)3.451 E F0 .951
(method thro)3.451 F .951(ws a)-.25 F F1(DbException)3.451 E F0 .951
(\(3\) or returns the v).24 F .951(alue of)-.25 F F1(errno)3.451 E F0
.952(on f)3.451 F .952(ailure and 0 on)-.1 F(success.)108 530.4 Q F1
(DbMpool::db_r)92 547.2 Q -.4(eg)-.37 G(ister).4 E F0(The)108 559.2 Q F1
(DbMpool::db_r)3.745 E -.4(eg)-.37 G(ister).4 E F0 1.245(method re)3.745
F 1.245(gisters page-in and page-out functions for \214les of type)-.15
F F1(ftype)3.745 E F0 1.245(in the)3.745 F(speci\214ed pool.)108 571.2 Q
.434(If the)108 588 R F1(pgin)2.934 E F0 .435(function is non-NULL, it is called each time a page is read into the memory pool from a \214le of)
2.934 F(type)108 600 Q F1(ftype)3.361 E F0 3.361(,o).18 G 3.361(rap)
-3.361 G .861(age is created for a \214le of type)-3.361 F F1(ftype)3.36
E F0 .86(\(see the DB_MPOOL_CREA)3.36 F .86(TE \215ag for the)-1.11 F F1
(DbM-)3.36 E(poolF)108 612 Q(ile::g)-.45 E(et)-.1 E F0 2.987
(method\). If)2.987 F(the)2.988 E F1(pgout)2.988 E F0 .488(function is non-NULL, it is called each time a page is written to a \214le)
2.988 F(of type)108 624 Q F1(ftype)2.5 E F0(.).18 E .082(Both the)108
640.8 R F1(pgin)2.582 E F0(and)2.582 E F1(pgout)2.582 E F0 .082
(functions are called with the page number)2.582 F 2.582(,ap)-.4 G .082
(ointer to the page being read or writ-)-2.582 F 1.277(ten, and an)108
652.8 R 3.777(ya)-.15 G -.18(rg)-3.777 G(ument).18 E F1(pgcookie)3.777 E
F0 1.277(that w)3.777 F 1.277(as speci\214ed to the)-.1 F F1(DbMpoolF)
3.777 E(ile::open)-.45 E F0 1.278(method when the \214le w)3.778 F(as)
-.1 E 3.01(opened. The)108 664.8 R F1(pgin)3.01 E F0(and)3.01 E F1
(pgout)3.01 E F0 .51
(functions should return 0 on success, and an applicable non-zero)3.01 F
F1(errno)3.01 E F0 -.25(va)3.01 G(lue).25 E(on f)108 676.8 Q
(ailure, in which case the)-.1 E F1(DbMpool)2.5 E F0
(method calling it will also f)2.5 E(ail, returning that)-.1 E F1(errno)
2.5 E F0 -.25(va)2.5 G(lue.).25 E .448(The purpose of the)108 693.6 R F1
(DbMpool::db_r)2.948 E -.4(eg)-.37 G(ister).4 E F0 .449
(method is to support processing when pages are entered into, or)2.948 F
.274(\215ushed from, the pool.)108 705.6 R 2.774<418c>5.274 G .274
(le type must be speci\214ed to mak)-2.774 F 2.774(ei)-.1 G 2.774(tp)
-2.774 G .274(ossible for unrelated threads or processes,)-2.774 F 2.8
(that are sharing a pool, to e)108 717.6 R 2.801(vict each other')-.25 F
5.301(sp)-.55 G 2.801(ages from the pool.)-5.301 F 2.801
(Applications should call)7.801 F F1(DbM-)5.301 E(pool::db_r)108 729.6 Q
-.4(eg)-.37 G(ister).4 E F0 2.509(,d).73 G .009(uring initialization, for each type of \214le requiring input or output processing that will be)
-2.509 F(May 10, 1998)278.085 768 Q(3)201.085 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R .035
(sharing the underlying pool.)108 84 R .035(\(No re)5.035 F .036(gistry is necessary for the standard access method types, btree, hash and)
-.15 F(recno, as)108 96 Q/F1 10/Times-Italic@0 SF(Db::open)2.5 E F0
(\(3\) re).24 E(gisters them separately)-.15 E(.\))-.65 E .029
(If a thread or process does not call)108 112.8 R F1(DbMpool::db_r)2.529
E -.4(eg)-.37 G(ister).4 E F0 .029
(for a \214le type, it is impossible for it to e)2.529 F .029
(vict pages)-.25 F 1.63(for an)108 124.8 R 4.13<798c>-.15 G 1.631
(le requiring input or output processing from the pool.)-4.13 F -.15(Fo)
6.631 G 4.131(rt).15 G 1.631(his reason,)-4.131 F F1(DbMpool::db_r)4.131
E -.4(eg)-.37 G(ister).4 E F0 .044(should al)108 136.8 R -.1(wa)-.1 G
.043(ys be called by each application sharing a pool for each type of \214le included in the pool, re)
.1 F -.05(ga)-.15 G(rd-).05 E(less of whether or not the application itself uses \214les of that type.)
108 148.8 Q .375(There are no standard v)108 165.6 R .376(alues for)-.25
F F1(ftype)2.876 E F0(,).18 E F1(pgin)2.876 E F0(,).24 E F1(pgout)2.876
E F0(and)2.876 E F1(pgcookie)2.876 E F0 2.876(,e).18 G .376
(xcept that the)-3.026 F F1(ftype)2.876 E F0 -.25(va)2.876 G .376
(lue for a \214le must).25 F .047(be a non-zero positi)108 177.6 R .346
-.15(ve n)-.25 H(umber).15 E 2.546(,a)-.4 G 2.546(sn)-2.546 G -2.25 -.15
(eg a)-2.546 H(ti).15 E .346 -.15(ve n)-.25 H .046(umbers are reserv).15
F .046(ed for internal use by the DB library)-.15 F 5.046(.F)-.65 G .046
(or this)-5.196 F
(reason, applications sharing a pool must coordinate their v)108 189.6 Q
(alues amongst themselv)-.25 E(es.)-.15 E(The)108 206.4 Q F1
(DbMpool::db_r)2.992 E -.4(eg)-.37 G(ister).4 E F0 .492(method thro)
2.992 F .492(ws a)-.25 F F1(DbException)2.992 E F0 .492
(\(3\) or returns the v).24 F .492(alue of)-.25 F F1(errno)2.992 E F0
.492(on f)2.992 F .492(ailure and 0)-.1 F(on success.)108 218.4 Q F1
(DbMpool::tric)92 235.2 Q(kle)-.2 E F0(The)108 247.2 Q F1(DbMpool::tric)
3.011 E(kle)-.2 E F0 .511(method ensures that at least)3.011 F F1(pct)
3.011 E F0 .51(percent of the pages in the shared memory pool are)3.011
F .844(clean by writing dirty pages to their backing \214les.)108 259.2
R .844(If the)5.844 F F1(nwr)3.344 E(otep)-.45 E F0(ar)3.344 E .844
(gument is non-NULL, the number of)-.18 F(pages that were written to reach the correct percentage is returned in the memory location it references.)
108 271.2 Q .528(The purpose of the)108 288 R F1(DbMpool::tric)3.028 E
(kle)-.2 E F0 .528
(method is to enable a memory pool manager to ensure that a page is)
3.028 F(al)108 300 Q -.1(wa)-.1 G(ys a).1 E -.25(va)-.2 G
(ilable for reading in ne).25 E 2.5(wi)-.25 G(nformation without ha)-2.5
E(ving to w)-.2 E(ait for a write.)-.1 E(The)108 316.8 Q F1
(DbMpool::tric)3.429 E(kle)-.2 E F0 .929(method thro)3.429 F .929(ws a)
-.25 F F1(DbException)3.429 E F0 .929(\(3\) or returns the v).24 F .929
(alue of)-.25 F F1(errno)3.43 E F0 .93(on f)3.43 F .93(ailure and 0 on)
-.1 F(success.)108 328.8 Q F1(DbMpool::sync)92 345.6 Q F0(The)108 357.6
Q F1(DbMpool::sync)3.915 E F0 1.415(method ensures that all the modi\214ed pages in the pool with log sequence numbers)
3.915 F(\(LSNs\) less than the)108 369.6 Q F1(lsn)2.5 E F0(ar)2.5 E
(gument are written to disk.)-.18 E(The)108 386.4 Q F1(DbMpool::sync)
2.618 E F0 .118(method thro)2.618 F .118(ws a)-.25 F F1(DbException)
2.619 E F0 .119(\(3\) or returns the v).24 F .119(alue of)-.25 F F1
(errno)2.619 E F0 .119(on f)2.619 F .119(ailure, 0 on success,)-.1 F
1.996(and DB_INCOMPLETE if there were pages which need to be written b)
108 398.4 R 1.995(ut which)-.2 F F1(DbMpool::sync)4.495 E F0 -.1(wa)
4.495 G(s).1 E .668(unable to write immediately)108 410.4 R 5.668(.I)
-.65 G 3.168(na)-5.668 G .668(ddition, if)-3.168 F F1(DbMpool::sync)
3.168 E F0 .668(returns success, the v)3.168 F .668(alue of)-.25 F F1
(lsn)3.168 E F0 .669(will be o)3.168 F -.15(ve)-.15 G -.2(r-).15 G
(written with the lar)108 422.4 Q(gest LSN from an)-.18 E 2.5(yp)-.15 G
(age which w)-2.5 E(as written by)-.1 E F1(DbMpool::sync)2.5 E F0
(to satisfy this request.)2.5 E .195(The purpose of the)108 439.2 R F1
(DbMpool::sync)2.695 E F0 .194(method is to enable a transaction manager to ensure, as part of a check-)
2.695 F .601(point, that all pages modi\214ed by a certain time ha)108
451.2 R .902 -.15(ve b)-.2 H .602(een written to disk.).15 F -.15(Pa)
5.602 G .602(ges in the pool which cannot).15 F .459(be written back to disk immediately \(e.g., are currently pinned\) are written to disk as soon as it is possible)
108 463.2 R .306(to do so.)108 475.2 R .306(The e)5.306 F .306
(xpected beha)-.15 F .306
(vior of the transaction manager is to call the)-.2 F F1(DbMpool::sync)
2.807 E F0 .307(method and then,)2.807 F .112(if the return indicates that some pages could not be written immediately)
108 487.2 R 2.612(,t)-.65 G 2.612(ow)-2.612 G .112
(ait brie\215y and retry ag)-2.712 F .112(ain with)-.05 F
(the same LSN until the)108 499.2 Q F1(DbMpool::sync)2.5 E F0
(method returns that all pages ha)2.5 E .3 -.15(ve b)-.2 H(een written.)
.15 E 2.025 -.8(To s)108 516 T .425(upport the).8 F F1(DbMpool::sync)
2.925 E F0(functionality)2.925 E 2.925(,i)-.65 G 2.925(ti)-2.925 G 2.925
(sn)-2.925 G .425(ecessary that the pool methods kno)-2.925 F 2.925(wt)
-.25 G .425(he location of the)-2.925 F 1.146
(LSN on the page for each \214le type.)108 528 R 1.146(This location should be speci\214ed when the \214le is opened using the)
6.146 F F1(DbMpoolF)108 540 Q(ile::open)-.45 E F0 2.5(method. \(Note,)
2.5 F(it is not required that the LSN be aligned on the page in an)2.5 E
2.5(yw)-.15 G(ay)-2.6 E(.\))-.65 E F1(DbMpool::stat)92 556.8 Q F0(The)
108 580.8 Q F1(DbMpool::stat)4.308 E F0 1.808(method creates statistical structures and copies pointers to them into user)
4.308 F(-speci\214ed)-.2 E .83(memory locations.)108 592.8 R .829(The statistics include the number of \214les participating in the pool, the acti)
5.83 F 1.129 -.15(ve p)-.25 H .829(ages in).15 F
(the pool, and information as to ho)108 604.8 Q 2.5(we)-.25 G -.25(ff)
-2.5 G(ecti).25 E .3 -.15(ve t)-.25 H(he cache has been.).15 E .048
(Statistical structures are created in allocated memory)108 621.6 R
5.049(.I)-.65 G(f)-5.049 E F1(db_malloc)2.549 E F0 .049
(is non-NULL, it is called to allocate the)2.549 F(memory)108 633.6 Q
2.83(,o)-.65 G .33(therwise, the library function)-2.83 F F1(malloc)
2.829 E F0 .329(\(3\) is used.).31 F .329(The function)5.329 F F1
(db_malloc)2.829 E F0 .329(must match the calling)2.829 F(con)108 645.6
Q -.15(ve)-.4 G 2.03(ntions of the).15 F F1(malloc)4.53 E F0 2.031
(\(3\) library routine.).31 F(Re)7.031 E -.05(ga)-.15 G 2.031
(rdless, the caller is responsible for deallocating the).05 F .708
(returned memory)108 657.6 R 5.708(.T)-.65 G 3.208(od)-6.508 G .708
(eallocate the returned memory)-3.208 F 3.208(,f)-.65 G .707
(ree each returned memory pointer; pointers inside)-3.208 F
(the memory do not need to be indi)108 669.6 Q(vidually freed.)-.25 E
(If)108 686.4 Q F1(gsp)2.69 E F0 .191(is non-NULL, the global statistics for the memory pool object are copied into the memory location it)
2.69 F 5.399(references. The)108 698.4 R 2.898
(global statistics are stored in a structure of type DB_MPOOL_ST)5.399 F
5.118 -1.11(AT \()-.93 H -1.95(typedef ')1.11 F 5.398(di)-.5 G(n)-5.398
E(<db_cxx.h>\).)108 710.4 Q(The follo)108 727.2 Q(wing DB_MPOOL_ST)-.25
E 2.22 -1.11(AT \214)-.93 H(elds will be \214lled in:)1.11 E
(May 10, 1998)278.085 768 Q(4)201.085 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R
(u_int32_t st_refcnt;)108 84 Q(The number of references to the re)133 96
Q(gion.)-.15 E(u_int32_t st_re)108 108 Q(gsize;)-.15 E
(The size of the re)133 120 Q(gion.)-.15 E(size_t st_cachesize;)108 132
Q(Cache size in bytes.)135.5 144 Q(u_int32_t st_cache_hit;)108 156 Q
(Requested pages found in the cache.)133 168 Q(u_int32_t st_cache_miss;)
108 180 Q(Requested pages not found in the cache.)133 192 Q
(u_int32_t st_map;)108 204 Q 1.688
(Requested pages mapped into the process' address space \(there is no a)
133 216 R -.25(va)-.2 G 1.689(ilable information as to).25 F .673
(whether or not this request caused disk I/O, although e)133 228 R .672
(xamining the application page f)-.15 F .672(ault rate may)-.1 F
(be helpful\).)133 240 Q(u_int32_t st_page_create;)108 252 Q -.15(Pa)133
264 S(ges created in the cache.).15 E(u_int32_t st_page_in;)108 276 Q
-.15(Pa)133 288 S(ges read into the cache.).15 E(u_int32_t st_page_out;)
108 300 Q -.15(Pa)133 312 S
(ges written from the cache to the backing \214le.).15 E
(u_int32_t st_ro_e)108 324 Q(vict;)-.25 E
(Clean pages forced from the cache.)133 336 Q(u_int32_t st_rw_e)108 348
Q(vict;)-.25 E(Dirty pages forced from the cache.)133 360 Q
(u_int32_t st_hash_b)108 372 Q(uck)-.2 E(ets;)-.1 E(Number of hash b)133
384 Q(uck)-.2 E(ets in b)-.1 E(uf)-.2 E(fer hash table.)-.25 E
(u_int32_t st_hash_searches;)108 396 Q -.8(To)133 408 S(tal number of b)
.8 E(uf)-.2 E(fer hash table lookups.)-.25 E(u_int32_t st_hash_longest;)
108 420 Q(The longest chain e)133 432 Q -.15(ve)-.25 G 2.5(re).15 G
(ncountered in b)-2.5 E(uf)-.2 E(fer hash table lookups.)-.25 E
(u_int32_t st_hash_e)108 444 Q(xamined;)-.15 E -.8(To)133 456 S
(tal number of hash elements tra).8 E -.15(ve)-.2 G
(rsed during hash table lookups.).15 E(u_int32_t st_page_clean;)108 468
Q(Clean pages currently in the cache.)133 480 Q
(u_int32_t st_page_dirty;)108 492 Q(Dirty pages currently in the cache.)
133 504 Q(u_int32_t st_page_trickle;)108 516 Q
(Dirty pages written using the)133 528 Q/F1 10/Times-Italic@0 SF
(memp_tric)2.5 E(kle)-.2 E F0(interf)2.5 E(ace.)-.1 E(If)108 544.8 Q F1
(fsp)2.65 E F0 .15(is non-NULL, a pointer to a NULL-terminated v)2.65 F
.151(ariable length array of statistics for indi)-.25 F .151
(vidual \214les in)-.25 F .683
(the memory pool is copied into the memory location it references.)108
556.8 R .683(If no indi)5.683 F .683(vidual \214les currently e)-.25 F
.682(xist in)-.15 F(the memory pool,)108 568.8 Q F1(fsp)2.5 E F0
(will be set to NULL.)2.5 E .228(The per)108 585.6 R .228
(-\214le statistics are stored in structures of type DB_MPOOL_FST)-.2 F
2.449 -1.11(AT \()-.93 H -1.95(typedef ')1.11 F 2.729(di)-.5 G 2.729(n<)
-2.729 G 2.729(db_cxx.h>\). The)-2.729 F(follo)108 597.6 Q 1.186
(wing DB_MPOOL_FST)-.25 F 3.406 -1.11(AT \214)-.93 H 1.185(elds will be \214lled in for each \214le in the pool, i.e., each element of the)
1.11 F(array:)108 609.6 Q(char *\214le_name;)108 626.4 Q
(The name of the \214le.)133 638.4 Q(size_t st_pagesize;)108 650.4 Q
-.15(Pa)135.5 662.4 S(ge size in bytes.).15 E(u_int32_t st_cache_hit;)
108 674.4 Q(Requested pages found in the cache.)133 686.4 Q
(u_int32_t st_cache_miss;)108 698.4 Q
(Requested pages not found in the cache.)133 710.4 Q(May 10, 1998)
278.085 768 Q(5)201.085 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R
(u_int32_t st_map;)108 84 Q
(Requested pages mapped into the process' address space.)133 96 Q
(u_int32_t st_page_create;)108 108 Q -.15(Pa)133 120 S
(ges created in the cache.).15 E(u_int32_t st_page_in;)108 132 Q -.15
(Pa)133 144 S(ges read into the cache.).15 E(u_int32_t st_page_out;)108
156 Q -.15(Pa)133 168 S
(ges written from the cache to the backing \214le.).15 E(The)108 184.8 Q
/F1 10/Times-Italic@0 SF(DbMpool::stat)2.888 E F0 .388(method thro)2.888
F .389(ws a)-.25 F F1(DbException)2.889 E F0 .389
(\(3\) or returns the v).24 F .389(alue of)-.25 F F1(errno)2.889 E F0
.389(on f)2.889 F .389(ailure and 0 on suc-)-.1 F(cess.)108 196.8 Q/F2 9
/Times-Bold@0 SF(ENVIR)72 213.6 Q(ONMENT V)-.27 E(ARIABLES)-1.215 E F0
(The follo)108 225.6 Q(wing en)-.25 E(vironment v)-.4 E(ariables af)-.25
E(fect the beha)-.25 E(vior of)-.2 E F1(DbMpoolF)2.5 E(ile)-.45 E F0(:)
.18 E(DB_HOME)108 242.4 Q .573(If the)133 254.4 R F1(dben)3.073 E(v)-.4
E F0(ar)3.073 E .573(gument to)-.18 F F1(DbMpool::open)3.073 E F0 -.1
(wa)3.073 G 3.072(si).1 G .572(nitialized using)-3.072 F F1(db_appinit)
3.072 E F0 3.072(,t).68 G .572(he en)-3.072 F .572(vironment v)-.4 F
(ariable)-.25 E .508(DB_HOME may be used as the path of the database home for the interpretation of the)
133 266.4 R F1(dir)3.009 E F0(ar)3.009 E(gument)-.18 E(to)133 278.4 Q F1
(DbMpool::open)2.5 E F0 2.5(,a).24 G 2.5(sd)-2.5 G(escribed in)-2.5 E F1
(db_appinit)2.5 E F0(\(3\).).68 E(TMPDIR)108 295.2 Q .195(If the)133
307.2 R F1(dben)2.695 E(v)-.4 E F0(ar)2.695 E .195(gument to)-.18 F F1
(DbMpool::open)2.695 E F0 -.1(wa)2.695 G 2.695(sN).1 G .195
(ULL or not initialized using)-2.695 F F1(db_appinit)2.695 E F0 2.695
(,t).68 G .195(he en)-2.695 F(viron-)-.4 E 2.349(ment v)133 319.2 R
2.349(ariable TMPDIR may be used as the directory in which to create the memory pool, as)
-.25 F(described in the)133 331.2 Q F1(DbMpool::open)2.5 E F0
(section abo)2.5 E -.15(ve)-.15 G(.).15 E F2(ERR)72 348 Q(ORS)-.27 E F0
.05(Methods mark)108 360 R .05(ed as returning)-.1 F F1(errno)2.55 E F0
.049(will, by def)2.55 F .049(ault, thro)-.1 F 2.549(wa)-.25 G 2.549(ne)
-2.549 G .049(xception that encapsulates the error informa-)-2.699 F 2.5
(tion. The)108 372 R(def)2.5 E(ault error beha)-.1 E
(vior can be changed, see)-.2 E F1(DbException)2.5 E F0(\(3\).).24 E
(The)108 388.8 Q F1(DbMpool::open)2.5 E F0(method may f)2.5 E
(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 412.8 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions:)-.25 E(DBmemp->pgin\(3\), DBmemp->pgout\(3\), DbLog::compare\(3\), DbLog::\215ush\(3\), DbMpool::close\(3\), DbM-)
108 424.8 Q(pool::unlink\(3\), close\(2\), db_v)108 436.8 Q
(ersion\(3\), fcntl\(2\), f)-.15 E
(\215ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcmp\(3\),)-.25 E
(memcp)108 448.8 Q(y\(3\), memset\(3\), mmap\(2\), munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
-.1 E(y\(3\),)-.1 E(strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
108 460.8 Q .779(In addition, the)108 477.6 R F1(DbMpool::open)3.279 E
F0 .779(method may f)3.279 F .779(ail and thro)-.1 F 3.279(wa)-.25 G F1
(DbException)A F0 .78(\(3\) or return).24 F F1(errno)3.28 E F0 .78
(for the fol-)3.28 F(lo)108 489.6 Q(wing conditions:)-.25 E([EA)108
506.4 Q(GAIN])-.4 E(The shared memory re)133 518.4 Q(gion w)-.15 E
(as lock)-.1 E(ed and \(repeatedly\) una)-.1 E -.25(va)-.2 G(ilable.).25
E([EINV)108 535.2 Q(AL])-1.35 E(An in)133 547.2 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
(The DB_THREAD \215ag w)133 571.2 Q(as speci\214ed and spinlocks are not implemented for this architecture.)
-.1 E 2.5(AN)133 595.2 S(ULL pathname w)-2.5 E
(as speci\214ed without the DB_MPOOL_PRIV)-.1 E -1.11(AT)-1.35 G 2.5
<458d>1.11 G(ag.)-2.5 E(The speci\214ed cache size w)133 619.2 Q
(as impossibly small.)-.1 E(The)108 636 Q F1(DbMpool::close)2.5 E F0
(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0
(\(3\)).24 E(or return)108 660 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)
-.15 G 2.5(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbM-)-.25 E
(poolFile::close\(3\), close\(2\), fcntl\(2\), f)108 672 Q
(\215ush\(3\), munmap\(2\), and strerror\(3\).)-.25 E(The)108 688.8 Q F1
(DbMpool::unlink)2.5 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)
-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 712.8 Q F1(errno)
2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 724.8 S(ush\(3\), malloc\(3\), memcp).25 E(y\(3\), memset\(3\), mmap\(2\), munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(May 10, 1998)278.085 768 Q(6)201.085 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 364.4(DbMpool\(3\) DbMpool\(3\))72 48 R
(stat\(2\), strcp)108 84 Q
(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), and unlink\(2\).)-.1 E
.431(In addition, the)108 100.8 R/F1 10/Times-Italic@0 SF
(DbMpool::unlink)2.932 E F0 .432(method may f)2.932 F .432(ail and thro)
-.1 F 2.932(wa)-.25 G F1(DbException)A F0 .432(\(3\) or return).24 F F1
(errno)2.932 E F0 .432(for the fol-)2.932 F(lo)108 112.8 Q
(wing conditions:)-.25 E([EB)108 129.6 Q(USY])-.1 E
(The shared memory re)133 141.6 Q(gion w)-.15 E
(as in use and the force \215ag w)-.1 E(as not set.)-.1 E(The)108 158.4
Q F1(DbMpool::db_r)2.5 E -.4(eg)-.37 G(ister).4 E F0(method may f)2.5 E
(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 182.4 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: fcntl\(2\), and mal-)-.25 E(loc\(3\).)
108 194.4 Q(The)108 211.2 Q F1(DbMpool::tric)2.5 E(kle)-.2 E F0
(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0
(\(3\)).24 E(or return)108 235.2 Q F1(errno)2.5 E F0(for an)2.5 E 2.5
(yo)-.15 G 2.5(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions:)-.25 E(DBmemp->pgin\(3\), DBmemp->pgout\(3\), DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\),)
108 247.2 Q -.25<668d>108 259.2 S
(ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcmp\(3\), memcp).25 E
(y\(3\), memset\(3\), mmap\(2\), open\(2\), sig-)-.1 E
(\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)108 271.2 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and)
-.1 E(write\(2\).)108 283.2 Q .41(In addition, the)108 300 R F1
(DbMpool::tric)2.91 E(kle)-.2 E F0 .41(method may f)2.91 F .41
(ail and thro)-.1 F 2.91(wa)-.25 G F1(DbException)A F0 .41
(\(3\) or return).24 F F1(errno)2.91 E F0 .41(for the fol-)2.91 F(lo)108
312 Q(wing conditions:)-.25 E([EINV)108 328.8 Q(AL])-1.35 E(An in)133
340.8 Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E
(as speci\214ed.)-.1 E(The)108 357.6 Q F1(DbMpool::sync)2.5 E F0
(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0
(\(3\)).24 E(or return)108 381.6 Q F1(errno)2.5 E F0(for an)2.5 E 2.5
(yo)-.15 G 2.5(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions:)-.25 E(DBmemp->pgin\(3\), DBmemp->pgout\(3\), DbLog::compare\(3\), DbLog::\215ush\(3\), close\(2\), fcntl\(2\),)
108 393.6 Q -.25<668d>108 405.6 S
(ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcmp\(3\), memcp).25 E
(y\(3\), memset\(3\), mmap\(2\), open\(2\), qsort\(3\),)-.1 E
(realloc\(3\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)108
417.6 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\),)-.1
E(unlink\(2\), and write\(2\).)108 429.6 Q .884(In addition, the)108
446.4 R F1(DbMpool::sync)3.384 E F0 .884(method may f)3.384 F .884
(ail and thro)-.1 F 3.384(wa)-.25 G F1(DbException)A F0 .884
(\(3\) or return).24 F F1(errno)3.383 E F0 .883(for the fol-)3.383 F(lo)
108 458.4 Q(wing conditions:)-.25 E([EINV)108 475.2 Q(AL])-1.35 E(An in)
133 487.2 Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E
(as speci\214ed.)-.1 E(The)133 511.2 Q F1(DbMpool::sync)2.5 E F0
(method w)2.5 E(as called without logging ha)-.1 E
(ving been initialized in the en)-.2 E(vironment.)-.4 E(The)108 528 Q F1
(DbMpool::stat)2.5 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)
-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 552 Q F1(errno)2.5
E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: fcntl\(2\), mal-)-.25 E(loc\(3\), memcp)
108 564 Q(y\(3\), and strlen\(3\).)-.1 E/F2 9/Times-Bold@0 SF(SEE ALSO)
72 580.8 Q F1(db_ar)108 592.8 Q -.15(ch)-.37 G(ive).15 E F0(\(1\),).18 E
F1(db_c)2.5 E(hec)-.15 E(kpoint)-.2 E F0(\(1\),).68 E F1(db_deadloc)2.5
E(k)-.2 E F0(\(1\),).67 E F1(db_dump)2.5 E F0(\(1\),).19 E F1(db_load)
2.5 E F0(\(1\),).77 E F1(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0(\(1\),).73 E
F1(db_stat)2.5 E F0(\(1\),).68 E F1(db_intr)108 604.8 Q(o)-.45 E F0
(\(3\),).18 E F1(db_internal)2.5 E F0(\(3\),).51 E F1(db_thr)2.5 E(ead)
-.37 E F0(\(3\),).77 E F1(Db)2.5 E F0(\(3\),).23 E F1(Dbc)2.5 E F0
(\(3\),).31 E F1(DbEn)2.5 E(v)-.4 E F0(\(3\),).32 E F1(DbException)2.5 E
F0(\(3\),).24 E F1(DbInfo)2.5 E F0(\(3\),).18 E F1(DbLoc)108 616.8 Q(k)
-.2 E F0(\(3\),).67 E F1(DbLoc)2.5 E(kT)-.2 E(ab)-.92 E F0(\(3\),).23 E
F1(DbLo)2.5 E(g)-.1 E F0(\(3\),).22 E F1(DbLsn)2.5 E F0(\(3\),).24 E F1
(DbMpool)2.5 E F0(\(3\),).51 E F1(DbMpoolF)2.5 E(ile)-.45 E F0(\(3\),)
.18 E F1(Dbt)2.5 E F0(\(3\),).68 E F1(DbTxn)2.5 E F0(\(3\),).24 E F1
(DbTxnMgr)108 628.8 Q F0(\(3\)).73 E(May 10, 1998)278.085 768 Q(7)
201.085 E EP
%%Trailer
end
%%EOF
