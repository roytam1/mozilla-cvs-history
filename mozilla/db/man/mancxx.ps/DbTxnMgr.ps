%!PS-Adobe-3.0
%%Creator: groff version 1.11
%%CreationDate: Sun May 31 22:58:37 1998
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Roman
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.11 0
%%Pages: 7
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.11 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Bold@0 SF -.18(NA)72 28.8 S(ME).18 E/F1 10/Times-Roman@0 SF
(DbTxnMgr \255 Db transaction management)108 40.8 Q F0(SYNOPSIS)72 57.6
Q/F2 10/Times-Bold@0 SF(#include <db_cxx.h>)108 69.6 Q(static int)108
93.6 Q(DbTxnMgr::open\(const char *dir)108 105.6 Q(,)-.92 E
(u_int32_t \215ags, int mode, DbEn)158 117.6 Q 2.5(v*)-.4 G(dben)-2.5 E
1.1 -.55(v, D)-.4 H(bTxnMgr **r).55 E(egionp\);)-.18 E(int)108 141.6 Q
(DbTxnMgr::begin\(DbTxn *pid, DbTxn **tid\);)108 153.6 Q(int)108 177.6 Q
(DbTxnMgr::checkpoint\(u_int32_t kbyte, u_int32_t min\) const;)108 189.6
Q(int)108 213.6 Q(DbTxnMgr::close\(\);)108 225.6 Q(static int)108 249.6
Q(DbTxnMgr::unlink\(const char *dir)108 261.6 Q 2.5(,i)-.92 G(nt f)-2.5
E(or)-.25 E(ce, DbEn)-.18 E 2.5(v*)-.4 G(dben)-2.5 E(v\);)-.4 E(int)108
285.6 Q(DbTxnMgr::stat\(DB_TXN_ST)108 297.6 Q 1.9 -.95(AT *)-.9 H
(*statp, v).95 E(oid *\(*db_malloc\)\(size_t\)\);)-.1 E F0(DESCRIPTION)
72 314.4 Q F1 1.02(The DB library is a f)108 326.4 R 1.019
(amily of classes that pro)-.1 F 1.019
(vides a modular programming interf)-.15 F 1.019
(ace to transactions and)-.1 F 1.377(record-oriented \214le access.)108
338.4 R 1.378(The library includes support for transactions, locking, logging and \214le page)
6.377 F .443(caching, as well as v)108 350.4 R .443(arious inde)-.25 F
-.15(xe)-.15 G 2.943(da).15 G .442(ccess methods.)-2.943 F(Man)5.442 E
2.942(yo)-.15 G 2.942(ft)-2.942 G .442
(he classes \(e.g., the \214le page caching class\))-2.942 F .4(are useful independent of the other DB classes, although some classes are e)
108 362.4 R .4(xplicitly based on other classes)-.15 F
(\(e.g., transactions and logging\).)108 374.4 Q -.15(Fo)5 G 2.5(rag).15
G(eneral description of the DB package, see)-2.5 E/F3 10/Times-Italic@0
SF(db_intr)2.5 E(o)-.45 E F1(\(3\).).18 E .164(This manual page describes the speci\214c details of the Db transaction support.)
108 391.2 R .163(The DbTxnMgr class is used)5.164 F .863
(in conjunction with)108 403.2 R F3(DbTxn)3.363 E F1 .863(\(3\) to pro)
.24 F .863(vide transaction semantics.)-.15 F .864
(Full transaction support is pro)5.864 F .864(vided by a)-.15 F .262
(collection of modules that pro)108 415.2 R .262(vide interf)-.15 F .261
(aces to the services required for transaction processing.)-.1 F .261
(These ser)5.261 F(-)-.2 E .585(vices are reco)108 427.2 R -.15(ve)-.15
G .585(ry \(see).15 F F3(DbLo)3.085 E(g)-.1 E F1 .585
(\(3\)\), concurrenc).22 F 3.085(yc)-.15 G .585(ontrol \(see)-3.085 F F3
(DbLoc)3.085 E(k)-.2 E F1 .586(\(3\) and).67 F F3(DbLoc)3.086 E(kT)-.2 E
(ab)-.92 E F1 .586(\(3\)\), and the man-).23 F .961
(agement of shared data \(see)108 439.2 R F3(DbMpool)3.461 E F1 .961
(\(3\) and).51 F F3(DbMpoolF)3.461 E(ile)-.45 E F1 3.461(\(3\)\). T).18
F .96(ransaction semantics can be applied to)-.35 F
(the access methods described in)108 451.2 Q F3(Db)2.5 E F1
(\(3\) through method call parameters.).23 E .629(The model intended for transactional use \(and that is used by the access methods\) is that write-ahead log-)
108 468 R .048(ging is pro)108 480 R .048(vided by)-.15 F F3(DbLo)2.548
E(g)-.1 E F1 .047(\(3\) to record both before- and after).22 F .047
(-image logging.)-.2 F .047(Locking follo)5.047 F .047(ws a tw)-.25 F
(o-phase)-.1 E
(protocol \(i.e., all locks are released at transaction commit\).)108
492 Q F3(DbTxnMgr::open)92 508.8 Q F1(The)108 520.8 Q F3(DbTxnMgr::open)
3.718 E F1 1.218(method copies a pointer)3.718 F 3.718(,t)-.4 G 3.719
(ot)-3.718 G 1.219(he transaction re)-3.719 F 1.219
(gion identi\214ed by the)-.15 F F2(dir)3.719 E(ectory)-.18 E F3(dir)
3.719 E F1(,).73 E(into the memory location referenced by)108 532.8 Q F3
-.37(re)2.5 G(gionp)-.03 E F1(.).19 E 2.198(If the)108 549.6 R F3(dben)
4.698 E(v)-.4 E F1(ar)4.698 E 2.198(gument to)-.18 F F3(DbTxnMgr::open)
4.698 E F1 -.1(wa)4.698 G 4.698(si).1 G 2.198(nitialized using)-4.698 F
F3(DbEn)4.698 E(v::appinit)-.4 E F1(,).68 E F3(dir)4.697 E F1 2.197
(is interpreted as)4.697 F(described by)108 561.6 Q F3(DbEn)2.5 E(v)-.4
E F1(\(3\).).32 E .667(Otherwise, if)108 578.4 R F3(dir)3.167 E F1 .668
(is not NULL, it is interpreted relati)3.167 F .968 -.15(ve t)-.25 H
3.168(ot).15 G .668(he current w)-3.168 F .668
(orking directory of the process.)-.1 F(If)5.668 E F3(dir)108 590.4 Q F1
2.388(is NULL, the follo)4.888 F 2.388(wing en)-.25 F 2.388(vironment v)
-.4 F 2.388(ariables are check)-.25 F 2.387(ed in order: `)-.1 F
(`TMPDIR')-.74 E 2.387(', `)-.74 F(`TEMP')-.74 E 2.387(', and)-.74 F
-.74(``)108 602.4 S(TMP').74 E 3.361('. If)-.74 F .861
(one of them is set, transaction re)3.361 F .862
(gion \214les are created relati)-.15 F 1.162 -.15(ve t)-.25 H 3.362(ot)
.15 G .862(he directory it speci\214es.)-3.362 F(If)5.862 E .836
(none of them are set, the \214rst possible one of the follo)108 614.4 R
.836(wing directories is used:)-.25 F F3(/var/tmp)3.336 E F1(,).19 E F3
(/usr/tmp)3.335 E F1(,).19 E F3(/temp)3.335 E F1(,).19 E F3(/tmp)108
626.4 Q F1(,).19 E F3(C:/temp)2.5 E F1(and)2.5 E F3(C:/tmp)2.5 E F1(.)
.19 E 1.21(All \214les associated with the transaction re)108 643.2 R
1.21(gion are created in this directory)-.15 F 6.21(.T)-.65 G 1.21
(his directory must already)-6.21 F -.15(ex)108 655.2 S .613
(ist when DbTxnMgr::open is called.).15 F .613(If the transaction re)
5.613 F .613(gion already e)-.15 F .612(xists, the process must ha)-.15
F .912 -.15(ve p)-.2 H(er).15 E(-)-.2 E .431
(mission to read and write the e)108 667.2 R .431(xisting \214les.)-.15
F .431(If the transaction re)5.431 F .431(gion does not already e)-.15 F
.432(xist, it is optionally)-.15 F(created and initialized.)108 679.2 Q
(The)108 696 Q F3<8d61>3.761 E(gs)-.1 E F1(and)3.761 E F3(mode)3.761 E
F1(ar)3.761 E 1.261(guments specify ho)-.18 F 3.761<778c>-.25 G 1.26
(les will be opened and/or created when the)-3.761 F 3.76(yd)-.15 G(on')
-3.76 E 3.76(ta)-.18 G(lready)-3.76 E -.15(ex)108 708 S 2.5(ist. The).15
F(\215ags v)2.5 E(alue is speci\214ed by)-.25 E F2(or)2.5 E F1
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E(1)
535 768 Q EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 351.08(DbTxnMgr\(3\) DbTxnMgr\(3\))72 48 R
(DB_CREA)108 84 Q(TE)-1.11 E .483(Create an)133 96 R 2.983(yu)-.15 G
.483(nderlying \214les, as necessary)-2.983 F 5.483(.I)-.65 G 2.983(ft)
-5.483 G .483(he \214les do not already e)-2.983 F .483
(xist and the DB_CREA)-.15 F .484(TE \215ag)-1.11 F
(is not speci\214ed, the call will f)133 108 Q(ail.)-.1 E(DB_THREAD)108
136.8 Q 1.462(Cause the DbTxnMgr handle returned by the)133 148.8 R/F1
10/Times-Italic@0 SF(DbTxnMgr::open)3.962 E F0 1.461
(method to be useable by multiple)3.961 F
(threads within a single address space, i.e., to be `)133 160.8 Q
(`free-threaded')-.74 E('.)-.74 E(DB_TXN_NOSYNC)108 189.6 Q .452
(On transaction commit, do not synchronously \215ush the log.)133 201.6
R .452(This means that transactions e)5.452 F .453(xhibit the)-.15 F -.4
(AC)133 213.6 S 3.54(I\().4 G(atomicity)-3.54 E 3.54(,c)-.65 G
(onsistenc)-3.54 E 3.54(ya)-.15 G 1.04(nd isolation\) properties, b)
-3.54 F 1.04(ut not D \(durability\), i.e., database inte)-.2 F(grity)
-.15 E .87(will be maintained b)133 225.6 R .87(ut it is possible that some number of the most recently committed transactions)
-.2 F(may be undone during reco)133 237.6 Q -.15(ve)-.15 G
(ry instead of being redone.).15 E 1.216
(The number of transactions that are potentially at risk is go)133 261.6
R -.15(ve)-.15 G 1.216(rned by ho).15 F 3.716(wo)-.25 G 1.216
(ften the log is check-)-3.716 F(pointed \(see)133 273.6 Q F1(db_c)2.5 E
(hec)-.15 E(kpoint)-.2 E F0(\(1\)\) and ho).68 E 2.5(wm)-.25 G(an)-2.5 E
2.5(yl)-.15 G(og updates can \214t on a single log page.)-2.5 E .544
(All \214les created by the transaction subsystem are created with mode)
108 290.4 R F1(mode)3.044 E F0 .544(\(as described in)3.044 F F1 -.15
(ch)3.044 G(mod).15 E F0 .544(\(2\)\) and).77 F .392
(modi\214ed by the process' umask v)108 302.4 R .391
(alue at the time of creation \(see)-.25 F F1(umask)2.891 E F0 2.891
(\(2\)\). The).67 F .391(group o)2.891 F .391(wnership of cre-)-.25 F
(ated \214les is based on the system and directory def)108 314.4 Q
(aults, and is not further speci\214ed by DB.)-.1 E .959(The transaction subsystem is con\214gured based on which set methods ha)
108 331.2 R 1.259 -.15(ve b)-.2 H .959(een used.).15 F .959(It is e)
5.959 F .959(xpected that)-.15 F .995
(applications will use a single DbEn)108 343.2 R 3.495(vo)-.4 G .995
(bject as the ar)-3.495 F .994
(gument to all of the subsystems in the DB package.)-.18 F .237
(The \214elds of the DbEn)108 355.2 R 2.737(vo)-.4 G .237(bject used by)
-2.737 F F1(DbTxnMgr::open)2.737 E F0 .238(are described belo)2.738 F
4.038 -.65(w. A)-.25 H 2.738(sr).65 G .238(eferences to the DbEn)-2.738
F(v)-.4 E .448(object may be maintained by)108 367.2 R F1
(DbTxnMgr::open)2.948 E F0 2.948(,i).24 G 2.948(ti)-2.948 G 2.948(sn)
-2.948 G .447(ecessary that the DbEn)-2.948 F 2.947(vo)-.4 G .447
(bject and memory it refer)-2.947 F(-)-.2 E .445(ences be v)108 379.2 R
.446(alid until the object is destro)-.25 F 2.946(yed. An)-.1 F 2.946
(yo)-.15 G 2.946(ft)-2.946 G .446(he DbEn)-2.946 F 2.946<768c>-.4 G .446
(elds that are not e)-2.946 F .446(xplicitly set will def)-.15 F(ault)
-.1 E(to appropriate v)108 391.2 Q(alues.)-.25 E .517(The follo)108 408
R .517(wing \214elds in the DbEn)-.25 F 3.016(vo)-.4 G .516(bject may be initialized, using the appropriate set method, before call-)
-3.016 F(ing)108 420 Q F1(DbTxnMgr::open)2.5 E F0(:).24 E -.2(vo)108
448.8 S(id *\(*db_errcall\)\(char *db_errpfx, char *b).2 E(uf)-.2 E
(fer\);)-.25 E(FILE *db_err\214le;)108 460.8 Q(const char *db_errpfx;)
108 472.8 Q(class ostream *db_error_stream;)108 484.8 Q(int db_v)108
496.8 Q(erbose;)-.15 E(The error \214elds of the DbEn)133 508.8 Q 2.5
(vb)-.4 G(eha)-2.5 E .3 -.15(ve a)-.2 H 2.5(sd).15 G(escribed for)-2.5 E
F1(DbEn)2.5 E(v)-.4 E F0(\(3\).).32 E(DbLog *lg_info;)108 525.6 Q .543
(The logging re)136.043 537.6 R .543
(gion that is being used for this transaction en)-.15 F 3.043
(vironment. The)-.4 F F1(lg_info)3.043 E F0 .544(\214eld contains a)
3.043 F 1.263(return v)133 549.6 R 1.263(alue from the method)-.25 F F1
(DbLo)3.763 E(g::open)-.1 E F0(.).24 E/F2 10/Times-Bold@0 SF 1.263
(Logging is r)6.263 F(equir)-.18 E 1.262(ed f)-.18 F 1.262
(or transaction en)-.25 F(vir)-.4 E(onments,)-.18 E(and it is an err)133
561.6 Q(or to not specify a logging r)-.18 E(egion.)-.18 E F0(DbLockT)
108 578.4 Q(ab *lk_info;)-.8 E .613(The locking re)136.113 590.4 R .613
(gion that is being used for this transaction en)-.15 F 3.113
(vironment. The)-.4 F F1(lk_info)3.113 E F0 .614(\214eld contains a)
3.113 F .077(return v)133 602.4 R .077(alue from the method)-.25 F F1
(DbLoc)2.577 E(kT)-.2 E(ab::open)-.92 E F0 5.077(.I).24 G(f)-5.077 E F1
(lk_info)2.577 E F0 .077(is NULL, no locking is done in this trans-)
2.577 F(action en)133 614.4 Q(vironment.)-.4 E(u_int32_t tx_max;)108
631.2 Q 1.887
(The maximum number of simultaneous transactions that are supported.)133
643.2 R 1.888(This bounds the size of)6.888 F .474
(backing \214les and is used to deri)133 655.2 R .774 -.15(ve l)-.25 H
.474(imits for the size of the lock re).15 F .473(gion and log\214les.)
-.15 F .473(When there are)5.473 F 1.895(more than)133 667.2 R F1
(tx_max)4.395 E F0 1.896(concurrent transactions, calls to)4.396 F F1
(DbTxnMgr::be)4.396 E(gin)-.4 E F0 1.896(may cause backing \214les to)
4.396 F(gro)133 679.2 Q 3.8 -.65(w. I)-.25 H(f).65 E F1(tx_max)2.5 E F0
(is 0, a def)2.5 E(ault v)-.1 E(alue is used.)-.25 E(int DbTxnMgr::reco)
108 696 Q -.15(ve)-.15 G(r\(DbLog *logp, Dbt *DbLog::rec,).15 E
(DbLsn *lsnp, int redo, v)183 708 Q(oid *info\);)-.2 E 2.558(Am)133 720
S .057(ethod that is called by)-2.558 F F1(DbTxn::abort)2.557 E F0 .057
(during transaction abort.)2.557 F .057(This method tak)5.057 F .057
(es \214v)-.1 F 2.557(ea)-.15 G -.18(rg)-2.557 G(uments:).18 E
(May 4, 1998)280.585 768 Q(2)203.585 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 351.08(DbTxnMgr\(3\) DbTxnMgr\(3\))72 48 R 4.72
(logp A)133 84 R(pointer to the transaction log \(DbLog *\).)2.5 E
(DbLog::rec)133 100.8 Q 2.5(Al)158 112.8 S(og record.)-2.5 E 5.83
(lsnp A)133 129.6 R(pointer to a log sequence number \(DbLsn *\).)2.5 E
4.73(redo An)133 146.4 R(inte)2.5 E(ger v)-.15 E
(alue that is set to one of the follo)-.25 E(wing v)-.25 E(alues:)-.25 E
(DB_TXN_B)158 175.2 Q -.4(AC)-.35 G(KW).4 E(ARD_R)-1.2 E(OLL)-.4 E 1.136
(The log is being read backw)183 187.2 R 1.136
(ard to determine which transactions ha)-.1 F 1.436 -.15(ve b)-.2 H
1.136(een committed).15 F(and which transactions were not \(and should therefore be aborted during reco)
183 199.2 Q -.15(ve)-.15 G(ry\).).15 E(DB_TXN_FOR)158 228 Q -1.2(WA)-.55
G(RD_R)1.2 E(OLL)-.4 E 1.744(The log is being played forw)183 240 R
1.744(ard, an)-.1 F 4.244(yt)-.15 G 1.744
(ransaction ids encountered that ha)-4.244 F 2.043 -.15(ve n)-.2 H 1.743
(ot been).15 F(entered into the list referenced by)183 252 Q/F1 10
/Times-Italic@0 SF(info)2.5 E F0(should be ignored.)2.5 E
(DB_TXN_OPENFILES)158 280.8 Q
(The log is being read to open all the \214les required to perform reco)
183 292.8 Q -.15(ve)-.15 G(ry).15 E(.)-.65 E(DB_TXN_REDO)158 321.6 Q
(Redo the operation described by the log record.)183 333.6 Q
(DB_TXN_UNDO)158 362.4 Q
(Undo the operation described by the log record.)183 374.4 Q 6.39
(info An)133 391.2 R(opaque pointer used to reference the list of transaction IDs encountered during reco)
2.5 E -.15(ve)-.15 G(ry).15 E(.)-.65 E(If)133 408 Q F1 -.37(re)3.325 G
(co).37 E(ver)-.1 E F0 .825(is NULL, the def)3.325 F .825(ault is that only Db access method operations are transaction protected,)
-.1 F(and the def)133 420 Q(ault reco)-.1 E -.15(ve)-.15 G 2.5(rm).15 G
(ethod will be used.)-2.5 E(The)108 436.8 Q F1(DbTxnMgr::open)3.417 E F0
.917(method thro)3.417 F .917(ws a)-.25 F F1(DbException)3.417 E F0 .917
(\(3\) or returns the v).24 F .917(alue of)-.25 F F1(errno)3.417 E F0
.917(on f)3.417 F .916(ailure and 0 on)-.1 F(success.)108 448.8 Q F1
(DbTxnMgr::be)92 465.6 Q(gin)-.4 E F0(The)108 477.6 Q F1(DbTxnMgr::be)
2.901 E(gin)-.4 E F0 .401(method creates a ne)2.901 F 2.901(wt)-.25 G
.401(ransaction in the transaction manager)-2.901 F 2.902(,c)-.4 G(op)
-2.902 E .402(ying a pointer to a)-.1 F .217
(DbTxn that uniquely identi\214es it into the memory referenced by)108
489.6 R F1(tid)2.716 E F0 5.216(.I).77 G 2.716(ft)-5.216 G(he)-2.716 E
F1(pid)2.716 E F0(ar)2.716 E .216(gument is non-NULL, the)-.18 F(ne)108
501.6 Q 2.5(wt)-.25 G
(ransaction is a nested transaction with the transaction indicated by)
-2.5 E F1(pid)2.5 E F0(as its parent.)2.5 E -.35(Tr)108 518.4 S .642
(ansactions may not span threads, i.e., each transaction must be).35 F
.643(gin and end in the same thread, and each)-.15 F
(transaction may only be used by a single thread.)108 530.4 Q(The)108
547.2 Q F1(DbTxnMgr::be)3.269 E(gin)-.4 E F0 .768(method thro)3.269 F
.768(ws a)-.25 F F1(DbException)3.268 E F0 .768(\(3\) or returns the v)
.24 F .768(alue of)-.25 F F1(errno)3.268 E F0 .768(on f)3.268 F .768
(ailure and 0 on)-.1 F(success.)108 559.2 Q F1(DbTxnMgr::close)92 576 Q
F0(The)108 588 Q F1(DbTxnMgr::close)5.206 E F0 2.707
(method detaches a process from the transaction en)5.206 F 2.707
(vironment speci\214ed by the)-.4 F .461(DbTxnMgr object.)108 600 R .461
(All mapped re)5.461 F .461(gions are unmapped and an)-.15 F 2.961(ya)
-.15 G .46(llocated resources are freed.)-2.961 F(An)5.46 E 2.96(yu)-.15
G(ncom-)-2.96 E(mitted transactions are aborted.)108 612 Q 2.336
(In addition, if the)108 628.8 R F1(dir)4.836 E F0(ar)4.836 E 2.337
(gument to)-.18 F F1(DbTxnMgr::open)4.837 E F0 -.1(wa)4.837 G 4.837(sN)
.1 G 2.337(ULL and)-4.837 F F1(dben)4.837 E(v)-.4 E F0 -.1(wa)4.837 G
4.837(sn).1 G 2.337(ot initialized using)-4.837 F F1(DbEn)108 640.8 Q
(v::appinit)-.4 E F0 4.368(,a).68 G 1.867
(ll \214les created for this shared re)-4.368 F 1.867(gion will be remo)
-.15 F -.15(ve)-.15 G 1.867(d, as if).15 F F1(DbTxnMgr::unlink)4.367 E
F0(were)4.367 E(called.)108 652.8 Q 1.514
(When multiple threads are using the DbTxnMgr handle concurrently)108
669.6 R 4.015(,o)-.65 G 1.515(nly a single thread may call the)-4.015 F
F1(DbTxnMgr::close)108 681.6 Q F0(method.)2.5 E(The)108 698.4 Q F1
(DbTxnMgr::close)3.348 E F0 .848(method thro)3.348 F .848(ws a)-.25 F F1
(DbException)3.348 E F0 .848(\(3\) or returns the v).24 F .847(alue of)
-.25 F F1(errno)3.347 E F0 .847(on f)3.347 F .847(ailure and 0 on)-.1 F
(success.)108 710.4 Q(May 4, 1998)280.585 768 Q(3)203.585 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 351.08(DbTxnMgr\(3\) DbTxnMgr\(3\))72 48 R/F1 10
/Times-Italic@0 SF(DbTxnMgr::unlink)92 84 Q F0(The)108 96 Q F1
(DbTxnMgr::unlink)2.803 E F0 .303(method destro)2.803 F .303
(ys the transaction re)-.1 F .303(gion identi\214ed by the directory)
-.15 F F1(dir)2.803 E F0 2.803(,r).73 G(emo)-2.803 E .304(ving all)-.15
F .853(\214les used to implement the transaction re)108 108 R 3.353
(gion. \(The)-.15 F(directory)3.353 E F1(dir)3.352 E F0 .852
(is not remo)3.352 F -.15(ve)-.15 G 3.352(d.\) If).15 F .852
(there are processes)3.352 F 2.04(that ha)108 120 R 2.341 -.15(ve c)-.2
H(alled).15 E F1(DbTxnMgr::open)4.541 E F0 2.041(without calling)4.541 F
F1(DbTxnMgr::close)4.541 E F0 2.041
(\(i.e., there are processes currently)4.541 F .191
(using the transaction re)108 132 R(gion\),)-.15 E F1(DbTxnMgr::unlink)
2.691 E F0 .191(will f)2.691 F .19
(ail without further action, unless the force \215ag is set,)-.1 F .543
(in which case)108 144 R F1(DbTxnMgr::unlink)3.043 E F0 .543
(will attempt to remo)3.043 F .843 -.15(ve t)-.15 H .543
(he transaction re).15 F .544(gion \214les re)-.15 F -.05(ga)-.15 G .544
(rdless of an).05 F 3.044(yp)-.15 G(ro-)-3.044 E
(cesses still using the transaction re)108 156 Q(gion.)-.15 E .766
(The result of attempting to forcibly destro)108 172.8 R 3.266(yt)-.1 G
.766(he re)-3.266 F .766(gion when a process has the re)-.15 F .765
(gion open is unspeci\214ed.)-.15 F 1.232
(Processes using a shared memory re)108 184.8 R 1.232
(gion maintain an open \214le descriptor for it.)-.15 F 1.232
(On UNIX systems, the)6.232 F(re)108 196.8 Q .474(gion remo)-.15 F -.25
(va)-.15 G 2.974(ls).25 G .473(hould succeed and processes that ha)
-2.974 F .773 -.15(ve a)-.2 H .473(lready joined the re).15 F .473
(gion should continue to run in)-.15 F 1.059(the re)108 208.8 R 1.059
(gion without change, ho)-.15 F(we)-.25 E -.15(ve)-.25 G 3.559(rp).15 G
1.059(rocesses attempting to join the transaction re)-3.559 F 1.06
(gion will either f)-.15 F 1.06(ail or)-.1 F .811
(attempt to create a ne)108 220.8 R 3.311(wr)-.25 G -.15(eg)-3.311 G
3.311(ion. On).15 F .811(other systems, e.g., WNT)3.311 F 3.31(,w)-.74 G
.81(here the)-3.31 F F1(unlink)3.31 E F0 .81(\(2\) system call will f)
.67 F .81(ail if)-.1 F(an)108 232.8 Q 2.5(yp)-.15 G
(rocess has an open \214le descriptor for the \214le, the re)-2.5 E
(gion remo)-.15 E -.25(va)-.15 G 2.5(lw).25 G(ill f)-2.5 E(ail.)-.1 E
.929(In the case of catastrophic or system f)108 249.6 R .929
(ailure, database reco)-.1 F -.15(ve)-.15 G .93
(ry must be performed \(see).15 F F1(db_r)3.43 E(eco)-.37 E(ver)-.1 E F0
.93(\(1\) or).73 F .439(the DB_RECO)108 261.6 R .439(VER and DB_RECO)-.5
F(VER_F)-.5 E -1.21 -1.11(AT A)-.74 H 2.939<4c8d>1.11 G .439(ags to)
-2.939 F F1(DbEn)2.939 E(v::appinit)-.4 E F0 2.939(\(3\)\). Alternati)
.68 F -.15(ve)-.25 G(ly).15 E 2.939(,i)-.65 G 2.939(fr)-2.939 G(eco)
-2.939 E -.15(ve)-.15 G .439(ry is).15 F .487
(not required because no database state is maintained across f)108 273.6
R .488(ailures, it is possible to clean up a transaction)-.1 F(re)108
285.6 Q .269(gion by remo)-.15 F .269
(ving all of the \214les in the directory speci\214ed to the)-.15 F F1
(DbTxnMgr::open)2.768 E F0 .268(method, as transaction)2.768 F(re)108
297.6 Q .193(gion \214les are ne)-.15 F -.15(ve)-.25 G 2.693(rc).15 G
.193(reated in an)-2.693 F 2.693(yd)-.15 G .193
(irectory other than the one speci\214ed to)-2.693 F F1(DbTxnMgr::open)
2.693 E F0 5.194(.N).24 G .194(ote, ho)-5.194 F(w-)-.25 E -2.15 -.25
(ev e)108 309.6 T .952 -.4(r, t).25 H .151
(hat this has the potential to remo).4 F .451 -.15(ve \214)-.15 H .151
(les created by the other DB subsystems in this database en).15 F
(viron-)-.4 E(ment.)108 321.6 Q(The)108 338.4 Q F1(DbTxnMgr::unlink)
3.069 E F0 .569(method thro)3.069 F .569(ws a)-.25 F F1(DbException)
3.069 E F0 .569(\(3\) or returns the v).24 F .569(alue of)-.25 F F1
(errno)3.07 E F0 .57(on f)3.07 F .57(ailure and 0 on)-.1 F(success.)108
350.4 Q F1(DbTxnMgr::c)92 367.2 Q(hec)-.15 E(kpoint)-.2 E F0(The)108
379.2 Q F1(DbTxnMgr::c)3.285 E(hec)-.15 E(kpoint)-.2 E F0 .785(method syncs the underlying memory pool, writes a checkpoint record to the)
3.285 F(log and then \215ushes the log.)108 391.2 Q .507(If either)108
408 R F1(kbyte)3.007 E F0(or)3.008 E F1(min)3.008 E F0 .508
(is non-zero, the checkpoint is only done if more than)3.008 F F1(min)
3.008 E F0 .508(minutes ha)3.008 F .808 -.15(ve p)-.2 H .508
(assed since).15 F(the last checkpoint, or if more than)108 420 Q F1
(kbyte)2.5 E F0(kilobytes of log data ha)2.5 E .3 -.15(ve b)-.2 H
(een written since the last checkpoint.).15 E(The)108 436.8 Q F1
(DbTxnMgr::c)2.872 E(hec)-.15 E(kpoint)-.2 E F0 .372(method thro)2.872 F
.372(ws a)-.25 F F1(DbException)2.872 E F0 .372(\(3\) or returns the v)
.24 F .372(alue of)-.25 F F1(errno)2.872 E F0 .372(on f)2.872 F .372
(ailure, 0 on)-.1 F .412(success, and DB_INCOMPLETE if there were pages that needed to be written b)
108 448.8 R .412(ut that)-.2 F F1 .412(DbMpool::sync \(3\))2.912 F F0
(\(see)108 460.8 Q F1 .064(DbMpool \(3\)\))2.564 F F0 -.1(wa)2.564 G
2.564(su).1 G .064(nable to write immediately)-2.564 F 5.064(.I)-.65 G
2.564(nt)-5.064 G .064(his case, the)-2.564 F F1(DbTxnMgr::c)2.564 E
(hec)-.15 E(kpoint)-.2 E F0 .064(call should be)2.564 F(retried.)108
472.8 Q(The)108 489.6 Q F1(DbTxnMgr::c)3.951 E(hec)-.15 E(kpoint)-.2 E
F0 1.451(method is based on the C)3.951 F F1(txn_c)3.952 E(hec)-.15 E
(kpoint)-.2 E F0 1.452(function, which is the underlying)3.952 F 1.572
(function used by the)108 501.6 R F1(db_c)4.072 E(hec)-.15 E(kpoint)-.2
E F0 1.572(\(1\) utility).68 F 6.571(.S)-.65 G 1.571
(ee the source code for the)-6.571 F F1(db_c)4.071 E(hec)-.15 E(kpoint)
-.2 E F0 1.571(utility for an)4.071 F -.15(ex)108 513.6 S
(ample of using).15 E F1(txn_c)2.5 E(hec)-.15 E(kpoint)-.2 E F0
(in a UNIX en)2.5 E(vironment.)-.4 E F1(DbTxnMgr::stat)92 530.4 Q F0
(The)108 542.4 Q F1(DbTxnMgr::stat)2.5 E F0(method creates a statistical structure and copies pointers to it into user)
108 566.4 Q(-speci\214ed memory locations.)-.2 E .048
(Statistical structures are created in allocated memory)108 583.2 R
5.049(.I)-.65 G(f)-5.049 E F1(db_malloc)2.549 E F0 .049
(is non-NULL, it is called to allocate the)2.549 F(memory)108 595.2 Q
2.83(,o)-.65 G .33(therwise, the library function)-2.83 F F1(malloc)
2.829 E F0 .329(\(3\) is used.).31 F .329(The function)5.329 F F1
(db_malloc)2.829 E F0 .329(must match the calling)2.829 F(con)108 607.2
Q -.15(ve)-.4 G 2.03(ntions of the).15 F F1(malloc)4.53 E F0 2.031
(\(3\) library routine.).31 F(Re)7.031 E -.05(ga)-.15 G 2.031
(rdless, the caller is responsible for deallocating the).05 F .708
(returned memory)108 619.2 R 5.708(.T)-.65 G 3.208(od)-6.508 G .708
(eallocate the returned memory)-3.208 F 3.208(,f)-.65 G .707
(ree each returned memory pointer; pointers inside)-3.208 F
(the memory do not need to be indi)108 631.2 Q(vidually freed.)-.25 E
4.148(The transaction re)108 660 R 4.148
(gion statistics are stored in a structure of type DB_TXN_ST)-.15 F
6.369 -1.11(AT \()-.93 H -1.95(typedef ')1.11 F 6.649(di)-.5 G(n)-6.649
E 2.5(<db_cxx.h>\). The)108 672 R(follo)2.5 E(wing DB_TXN_ST)-.25 E 2.22
-1.11(AT \214)-.93 H(elds will be \214lled in:)1.11 E
(DbLsn st_last_ckp;)108 688.8 Q(The LSN of the last checkpoint.)133
700.8 Q(May 4, 1998)280.585 768 Q(4)203.585 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 351.08(DbTxnMgr\(3\) DbTxnMgr\(3\))72 48 R
(DbLsn st_pending_ckp;)108 84 Q 3.142(The LSN of an)133 96 R 5.642(yc)
-.15 G 3.142(heckpoint that is currently in progress.)-5.642 F(If)8.142
E/F1 10/Times-Italic@0 SF(st_pending_c)5.642 E(kp)-.2 E F0 3.142
(is the same as)5.642 F F1(st_last_c)133 108 Q(kp)-.2 E F0
(there is no checkpoint in progress.)2.5 E(time_t st_time_ckp;)108 120 Q
(The time the last completed checkpoint \214nished \(as returned by)133
132 Q F1(time)2.5 E F0(\(2\)\).).18 E(u_int32_t st_last_txnid;)108 144 Q
(The last transaction ID allocated.)133 156 Q(u_int32_t st_maxtxns;)108
168 Q(The maximum number of acti)133 180 Q .3 -.15(ve t)-.25 H
(ransactions supported by the re).15 E(gion.)-.15 E
(u_int32_t st_naborts;)108 192 Q(The number of transactions that ha)133
204 Q .3 -.15(ve a)-.2 H(borted.).15 E(u_int32_t st_nacti)108 216 Q -.15
(ve)-.25 G(;).15 E(The number of transactions that are currently acti)
133 228 Q -.15(ve)-.25 G(.).15 E(u_int32_t st_nbe)108 240 Q(gins;)-.15 E
(The number of transactions that ha)133 252 Q .3 -.15(ve b)-.2 H -.15
(eg).15 G(un.).15 E(u_int32_t st_ncommits;)108 264 Q
(The number of transactions that ha)133 276 Q .3 -.15(ve c)-.2 H
(ommitted.).15 E(u_int32_t ;)108 288 Q
(The number of times that a thread of control w)133 300 Q
(as forced to w)-.1 E(ait before obtaining the re)-.1 E(gion lock.)-.15
E(u_int32_t ;)108 312 Q(The number of times that a thread of control w)
133 324 Q(as able to obtain the re)-.1 E(gion lock without w)-.15 E
(aiting.)-.1 E(DB_TXN_A)108 348 Q(CTIVE *st_txnarray;)-.4 E 4.105(Ap)133
360 S 1.606(ointer to an array of)-4.105 F F1(st_nactive)4.106 E F0
(DB_TXN_A)4.106 E 1.606(CTIVE structures, describing the currently acti)
-.4 F -.15(ve)-.25 G 4.11(transactions. The)133 372 R(follo)4.11 E 1.61
(wing \214elds of the DB_TXN_A)-.25 F 1.61(CTIVE structure \(typedef)-.4
F 2.61 -.5('d i).55 H 4.11(n<).5 G(db_cxx.h>\))-4.11 E
(will be \214lled in:)133 384 Q(u_int32_t txnid;)133 412.8 Q
(The transaction ID as returned by)158 424.8 Q F1(DbTxnMgr::be)2.5 E
(gin)-.4 E F0(\(3\).).24 E(DbLsn lsn;)133 436.8 Q
(The LSN of the transaction-be)158 448.8 Q(gin record.)-.15 E/F2 9
/Times-Bold@0 SF(ENVIR)72 470.4 Q(ONMENT V)-.27 E(ARIABLES)-1.215 E F0
(The follo)108 482.4 Q(wing en)-.25 E(vironment v)-.4 E(ariables af)-.25
E(fect the e)-.25 E -.15(xe)-.15 G(cution of).15 E F1(db_txn)2.5 E F0(:)
.24 E(DB_HOME)108 499.2 Q .063(If the)133 511.2 R F1(dben)2.563 E(v)-.4
E F0(ar)2.563 E .063(gument to)-.18 F F1(DbTxnMgr::open)2.563 E F0 -.1
(wa)2.563 G 2.563(si).1 G .063(nitialized using)-2.563 F F1(db_appinit)
2.564 E F0 2.564(,t).68 G .064(he en)-2.564 F .064(vironment v)-.4 F
(ariable)-.25 E .508(DB_HOME may be used as the path of the database home for the interpretation of the)
133 523.2 R F1(dir)3.008 E F0(ar)3.008 E(gument)-.18 E(to)133 535.2 Q F1
(DbTxnMgr::open)2.5 E F0 2.5(,a).24 G 2.5(sd)-2.5 G(escribed in)-2.5 E
F1(db_appinit)2.5 E F0(\(3\).).68 E(TMPDIR)108 552 Q .71(If the)133 564
R F1(dben)3.21 E(v)-.4 E F0(ar)3.21 E .71(gument to)-.18 F F1
(DbTxnMgr::open)3.211 E F0 -.1(wa)3.211 G 3.211(sN).1 G .711
(ULL or not initialized using)-3.211 F F1(db_appinit)3.211 E F0 3.211
(,t).68 G .711(he en)-3.211 F(vi-)-.4 E .381(ronment v)133 576 R .381(ariable TMPDIR may be used as the directory in which to create the transaction re)
-.25 F .38(gion, as)-.15 F(described in the)133 588 Q F1(DbTxnMgr::open)
2.5 E F0(section abo)2.5 E -.15(ve)-.15 G(.).15 E F2(ERR)72 604.8 Q(ORS)
-.27 E F0 .049(Methods mark)108 616.8 R .049(ed as returning)-.1 F F1
(errno)2.549 E F0 .049(will, by def)2.549 F .049(ault, thro)-.1 F 2.549
(wa)-.25 G 2.549(ne)-2.549 G .05
(xception that encapsulates the error informa-)-2.699 F 2.5(tion. The)
108 628.8 R(def)2.5 E(ault error beha)-.1 E(vior can be changed, see)-.2
E F1(DbException)2.5 E F0(\(3\).).24 E(The)108 645.6 Q F1
(DbTxnMgr::open)2.5 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)
-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 669.6 Q F1(errno)
2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbTxn-)-.25 E
(Mgr::unlink\(3\), close\(2\), db_v)108 681.6 Q
(ersion\(3\), fcntl\(2\), f)-.15 E
(\215ush\(3\), lseek\(2\), malloc\(3\), memcp)-.25 E
(y\(3\), memset\(3\),)-.1 E(mmap\(2\), munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
108 693.6 Q(y\(3\), strdup\(3\), strerror\(3\),)-.1 E
(strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)108 705.6 Q 1.553
(In addition, the)108 722.4 R F1(DbTxnMgr::open)4.053 E F0 1.553
(method may f)4.053 F 1.553(ail and thro)-.1 F 4.053(wa)-.25 G F1
(DbException)A F0 1.554(\(3\) or return).24 F F1(errno)4.054 E F0 1.554
(for the)4.054 F(May 4, 1998)280.585 768 Q(5)203.585 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 351.08(DbTxnMgr\(3\) DbTxnMgr\(3\))72 48 R
(follo)108 84 Q(wing conditions:)-.25 E([EINV)108 100.8 Q(AL])-1.35 E
(An in)133 112.8 Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)
-.25 E(as speci\214ed.)-.1 E(The DB_THREAD \215ag w)133 136.8 Q(as speci\214ed and spinlocks are not implemented for this architecture.)
-.1 E(The)133 160.8 Q/F1 10/Times-Italic@0 SF(dben)2.5 E(v)-.4 E F0
(parameter w)2.5 E(as NULL.)-.1 E([EA)108 177.6 Q(GAIN])-.4 E
(The shared memory re)133 189.6 Q(gion w)-.15 E(as lock)-.1 E
(ed and \(repeatedly\) una)-.1 E -.25(va)-.2 G(ilable.).25 E(The)108
206.4 Q F1(DbTxnMgr::be)2.5 E(gin)-.4 E F0(method may f)2.5 E
(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 230.4 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbLog::put\(3\),)-.25 E(fcntl\(2\), f)
108 242.4 Q(\215ush\(3\), lseek\(2\), malloc\(3\), memcp)-.25 E
(y\(3\), memset\(3\), mmap\(2\), munmap\(2\), strerror\(3\), and)-.1 E
(write\(2\).)108 254.4 Q .249(In addition, the)108 271.2 R F1
(DbTxnMgr::be)2.749 E(gin)-.4 E F0 .249(method may f)2.749 F .249
(ail and thro)-.1 F 2.749(wa)-.25 G F1(DbException)A F0 .249
(\(3\) or return).24 F F1(errno)2.748 E F0 .248(for the fol-)2.748 F(lo)
108 283.2 Q(wing conditions:)-.25 E([ENOSPC])108 300 Q
(The maximum number of concurrent transactions has been reached.)133 312
Q(The)108 328.8 Q F1(DbTxnMgr::c)2.5 E(hec)-.15 E(kpoint)-.2 E F0
(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0
(\(3\)).24 E(or return)108 352.8 Q F1(errno)2.5 E F0(for an)2.5 E 2.5
(yo)-.15 G 2.5(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbLog::com-)-.25 E
(pare\(3\), DbLog::put\(3\), DbMpool::sync\(3\), fcntl\(2\), f)108 364.8
Q(\215ush\(3\), malloc\(3\), memcp)-.25 E(y\(3\), memset\(3\), str)-.1 E
(-)-.2 E(error\(3\), and time\(3\).)108 376.8 Q([EINV)108 393.6 Q(AL])
-1.35 E(An in)133 405.6 Q -.25(va)-.4 G(lid \215ag v).25 E
(alue or parameter w)-.25 E(as speci\214ed.)-.1 E(The)108 422.4 Q F1
(DbTxnMgr::close)2.5 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)
-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 446.4 Q F1(errno)
2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbLog::\215ush\(3\),)-.25 E
(DbTxn::abort\(3\), close\(2\), fcntl\(2\), f)108 458.4 Q
(\215ush\(3\), munmap\(2\), and strerror\(3\).)-.25 E(The)108 475.2 Q F1
(DbTxnMgr::unlink)2.5 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)
-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 499.2 Q F1(errno)
2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 511.2 S(ush\(3\), malloc\(3\), memcp).25 E(y\(3\), memset\(3\), mmap\(2\), munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(stat\(2\), strcp)108 523.2 Q
(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), and unlink\(2\).)-.1 E
.05(In addition, the)108 540 R F1(DbTxnMgr::unlink)2.55 E F0 .05
(method may f)2.55 F .05(ail and thro)-.1 F 2.55(wa)-.25 G F1
(DbException)A F0 .05(\(3\) or return).24 F F1(errno)2.55 E F0 .05
(for the fol-)2.55 F(lo)108 552 Q(wing conditions:)-.25 E([EB)108 568.8
Q(USY])-.1 E(The shared memory re)133 580.8 Q(gion w)-.15 E
(as in use and the force \215ag w)-.1 E(as not set.)-.1 E(The)108 597.6
Q F1(DbTxnMgr::stat)2.5 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5
(wa)-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 621.6 Q F1
(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: fcntl\(2\), and mal-)-.25 E(loc\(3\).)
108 633.6 Q/F2 9/Times-Bold@0 SF(SEE ALSO)72 650.4 Q F1 .904(LIBTP: P)
108 662.4 R(ortable)-.8 E 3.404(,M)-.1 G .904(odular T)-3.404 F -.15(ra)
-.55 G .904(nsactions for UNIX).15 F F0 3.404(,M).94 G(ar)-3.404 E .904
(go Seltzer)-.18 F 3.403(,M)-.4 G .903
(ichael Olson, USENIX proceedings,)-3.403 F -.4(Wi)108 674.4 S
(nter 1992.).4 E F2 -.09(BU)72 691.2 S(GS).09 E F0
(Nested transactions are not yet implemented.)108 703.2 Q F1(db_ar)108
727.2 Q -.15(ch)-.37 G(ive).15 E F0(\(1\),).18 E F1(db_c)2.5 E(hec)-.15
E(kpoint)-.2 E F0(\(1\),).68 E F1(db_deadloc)2.5 E(k)-.2 E F0(\(1\),).67
E F1(db_dump)2.5 E F0(\(1\),).19 E F1(db_load)2.5 E F0(\(1\),).77 E F1
(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0(\(1\),).73 E F1(db_stat)2.5 E F0
(\(1\),).68 E(May 4, 1998)280.585 768 Q(6)203.585 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 351.08(DbTxnMgr\(3\) DbTxnMgr\(3\))72 48 R/F1 10
/Times-Italic@0 SF(db_intr)108 84 Q(o)-.45 E F0(\(3\),).18 E F1
(db_internal)2.5 E F0(\(3\),).51 E F1(db_thr)2.5 E(ead)-.37 E F0(\(3\),)
.77 E F1(Db)2.5 E F0(\(3\),).23 E F1(Dbc)2.5 E F0(\(3\),).31 E F1(DbEn)
2.5 E(v)-.4 E F0(\(3\),).32 E F1(DbException)2.5 E F0(\(3\),).24 E F1
(DbInfo)2.5 E F0(\(3\),).18 E F1(DbLoc)108 96 Q(k)-.2 E F0(\(3\),).67 E
F1(DbLoc)2.5 E(kT)-.2 E(ab)-.92 E F0(\(3\),).23 E F1(DbLo)2.5 E(g)-.1 E
F0(\(3\),).22 E F1(DbLsn)2.5 E F0(\(3\),).24 E F1(DbMpool)2.5 E F0
(\(3\),).51 E F1(DbMpoolF)2.5 E(ile)-.45 E F0(\(3\),).18 E F1(Dbt)2.5 E
F0(\(3\),).68 E F1(DbTxn)2.5 E F0(\(3\),).24 E F1(DbTxnMgr)108 108 Q F0
(\(3\)).73 E(May 4, 1998)280.585 768 Q(7)203.585 E EP
%%Trailer
end
%%EOF
