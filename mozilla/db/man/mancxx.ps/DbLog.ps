%!PS-Adobe-3.0
%%Creator: groff version 1.11
%%CreationDate: Sun May 31 22:58:35 1998
%%DocumentNeededResources: font Times-Bold
%%+ font Times-Roman
%%+ font Times-Italic
%%DocumentSuppliedResources: procset grops 1.11 0
%%Pages: 10
%%PageOrder: Ascend
%%Orientation: Portrait
%%EndComments
%%BeginProlog
%%BeginResource: procset grops 1.11 0
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}bind def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/FL{
currentgray exch setgray fill setgray
}bind def
/BL/fill load def
/LW/setlinewidth load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
}bind def
/PEND{
clear
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%IncludeResource: font Times-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Times-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Times-Italic@0 ENC0/Times-Italic RE/Times-Roman@0 ENC0/Times-Roman RE
/Times-Bold@0 ENC0/Times-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 9/Times-Bold@0 SF -.18(NA)72 28.8 S(ME).18 E/F1 10/Times-Roman@0 SF
(DbLog \255 log management class)108 40.8 Q F0(SYNOPSIS)72 57.6 Q/F2 10
/Times-Bold@0 SF(#include <db_cxx.h>)108 69.6 Q(static int)108 93.6 Q
(DbLog::open\(const char *dir)108 105.6 Q(,)-.92 E
(u_int32_t \215ags, int mode, DbEn)158 117.6 Q 2.5(v*)-.4 G(dben)-2.5 E
1.1 -.55(v, D)-.4 H(bLog **r).55 E(egionp\);)-.18 E(int)108 141.6 Q
(DbLog::close\(\);)108 153.6 Q(int)108 177.6 Q
(DbLog::\215ush\(const DbLsn *lsn\);)108 189.6 Q(int)108 213.6 Q
(DbLog::get\(DbLsn *lsn, Dbt *data, u_int32_t \215ags\);)108 225.6 Q
(static int)108 249.6 Q(DbLog::compar)108 261.6 Q
(e\(const DbLsn *lsn0, const DbLsn *lsn1\);)-.18 E(int)108 285.6 Q
(DbLog::\214le\(const DbLsn *lsn, char *namep, size_t len\);)108 297.6 Q
(int)108 321.6 Q
(DbLog::put\(DbLsn *lsn, const Dbt *data, u_int32_t \215ags\);)108 333.6
Q(static int)108 357.6 Q(DbLog::unlink\(const char *dir)108 369.6 Q 2.5
(,i)-.92 G(nt f)-2.5 E(or)-.25 E(ce, DbEn)-.18 E 2.5(v*)-.4 G(\);)-2.5 E
(int)108 393.6 Q(DbLog::ar)108 405.6 Q(chi)-.18 E -.1(ve)-.1 G
(\(char **list[],).1 E(u_int32_t \215ags, v)158 417.6 Q
(oid *\(*db_malloc\)\(size_t\)\);)-.1 E(int)108 441.6 Q(DbLog::db_r)108
453.6 Q(egister\(const Db *dbp,)-.18 E
(const char *name, DBTYPE type, u_int32_t *\214dp\);)158 465.6 Q(int)108
489.6 Q(DbLog::db_unr)108 501.6 Q(egister\(u_int32_t \214d\);)-.18 E
(int)108 525.6 Q(DbLog::stat\(DB_LOG_ST)108 537.6 Q 1.9 -.95(AT *)-.9 H
(*spp, v).95 E(oid *\(*db_malloc\)\(size_t\)\);)-.1 E F0(DESCRIPTION)72
554.4 Q F1 1.02(The DB library is a f)108 566.4 R 1.019
(amily of classes that pro)-.1 F 1.019
(vides a modular programming interf)-.15 F 1.019
(ace to transactions and)-.1 F 1.377(record-oriented \214le access.)108
578.4 R 1.378(The library includes support for transactions, locking, logging and \214le page)
6.377 F .443(caching, as well as v)108 590.4 R .443(arious inde)-.25 F
-.15(xe)-.15 G 2.943(da).15 G .442(ccess methods.)-2.943 F(Man)5.442 E
2.942(yo)-.15 G 2.942(ft)-2.942 G .442
(he classes \(e.g., the \214le page caching class\))-2.942 F .4(are useful independent of the other DB classes, although some classes are e)
108 602.4 R .4(xplicitly based on other classes)-.15 F
(\(e.g., transactions and logging\).)108 614.4 Q -.15(Fo)5 G 2.5(rag).15
G(eneral description of the DB package, see)-2.5 E/F3 10/Times-Italic@0
SF(db_intr)2.5 E(o)-.45 E F1(\(3\).).18 E
(This manual page describes the speci\214c details of the log class.)108
631.2 Q .947(This class pro)108 648 R .946
(vide a general-purpose logging f)-.15 F .946(acility suf)-.1 F .946
(\214cient for transaction management.)-.25 F .946(Logs can be)5.946 F
(shared by multiple processes.)108 660 Q .347(The DB transaction log is represented by a directory containing a set of \214les.)
108 676.8 R .348(The log is a record-oriented,)5.347 F
(append-only \214le, with records identi\214ed and accessed via)108
688.8 Q F3(DbLsn)2.5 E F1 1.1 -.55('s \().24 H
(database log sequence numbers\).).55 E(DbLsn')108 705.6 Q 3.238(sa)-.55
G .738(re returned on each)-3.238 F F3(DbLo)3.238 E(g::put)-.1 E F1 .738
(operation, and only those DbLsn')3.238 F 3.238(sr)-.55 G .738
(eturned by)-3.238 F F3(DbLo)3.237 E(g::put)-.1 E F1(can)3.237 E
(later be used to retrie)108 717.6 Q .3 -.15(ve r)-.25 H
(ecords from the log.).15 E(1)535 768 Q EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R/F1 10
/Times-Italic@0 SF(DbLo)92 84 Q(g::open)-.1 E F0(The)108 96 Q F1(DbLo)
2.601 E(g::open)-.1 E F0 .101(method copies a pointer)2.601 F 2.601(,t)
-.4 G 2.601(ot)-2.601 G .101(he log identi\214ed by the)-2.601 F/F2 10
/Times-Bold@0 SF(dir)2.601 E(ectory)-.18 E F1(dir)2.601 E F0 2.601(,i)
.73 G .102(nto the memory loca-)-2.601 F(tion referenced by)108 108 Q F1
-.37(re)2.5 G(gionp)-.03 E F0(.).19 E .323(If the)108 124.8 R F1(dben)
2.823 E(v)-.4 E F0(ar)2.822 E .322(gument to)-.18 F F1(DbLo)2.822 E
(g::open)-.1 E F0 -.1(wa)2.822 G 2.822(si).1 G .322(nitialized using)
-2.822 F F1(DbEn)2.822 E(v::appinit)-.4 E F0(,).68 E F1(dir)2.822 E F0
.322(is interpreted as described)2.822 F(by)108 136.8 Q F1(DbEn)2.5 E(v)
-.4 E F0(\(3\).).32 E .667(Otherwise, if)108 153.6 R F1(dir)3.167 E F0
.668(is not NULL, it is interpreted relati)3.167 F .968 -.15(ve t)-.25 H
3.168(ot).15 G .668(he current w)-3.168 F .668
(orking directory of the process.)-.1 F(If)5.668 E F1(dir)108 165.6 Q F0
2.388(is NULL, the follo)4.888 F 2.388(wing en)-.25 F 2.388(vironment v)
-.4 F 2.388(ariables are check)-.25 F 2.387(ed in order: `)-.1 F
(`TMPDIR')-.74 E 2.387(', `)-.74 F(`TEMP')-.74 E 2.387(', and)-.74 F
-.74(``)108 177.6 S(TMP').74 E 2.715('. If)-.74 F .216
(one of them is set, log \214les are created relati)2.715 F .516 -.15
(ve t)-.25 H 2.716(ot).15 G .216(he directory it speci\214es.)-2.716 F
.216(If none of them are)5.216 F .598
(set, the \214rst possible one of the follo)108 189.6 R .597
(wing directories is used:)-.25 F F1(/var/tmp)3.097 E F0(,).19 E F1
(/usr/tmp)3.097 E F0(,).19 E F1(/temp)3.097 E F0(,).19 E F1(/tmp)3.097 E
F0(,).19 E F1(C:/temp)3.097 E F0(and)3.097 E F1(C:/tmp)108 201.6 Q F0(.)
.19 E 1.984
(All \214les associated with the log are created in this directory)108
218.4 R 6.985(.T)-.65 G 1.985(his directory must already e)-6.985 F
1.985(xist when)-.15 F 1.066(DbLog::open is called.)108 230.4 R 1.066
(If the log already e)6.066 F 1.066(xists, the process must ha)-.15 F
1.366 -.15(ve p)-.2 H 1.066(ermission to read and write the).15 F -.15
(ex)108 242.4 S(isting \214les.).15 E(If the log does not already e)5 E
(xist, it is optionally created and initialized.)-.15 E .417
(If the log re)108 259.2 R .418(gion is being created and log \214les are already present, the log \214les are `)
-.15 F(`reco)-.74 E -.15(ve)-.15 G(red').15 E 2.918('a)-.74 G .418
(nd subse-)-2.918 F
(quent log writes are appended to the end of the log.)108 271.2 Q
(The log is stored in one or more \214les in the speci\214ed directory)
108 288 Q 5(.E)-.65 G(ach \214le is named using the format)-5 E
(log.NNNNN)158 312 Q(where `)108 336 Q(`NNNNN')-.74 E 2.5('i)-.74 G 2.5
(st)-2.5 G(he sequence number of the \214le within the log.)-2.5 E(The)
108 352.8 Q F1<8d61>3.761 E(gs)-.1 E F0(and)3.761 E F1(mode)3.761 E F0
(ar)3.761 E 1.261(guments specify ho)-.18 F 3.761<778c>-.25 G 1.26
(les will be opened and/or created when the)-3.761 F 3.76(yd)-.15 G(on')
-3.76 E 3.76(ta)-.18 G(lready)-3.76 E -.15(ex)108 364.8 S 2.5(ist. The)
.15 F(\215ags v)2.5 E(alue is speci\214ed by)-.25 E F2(or)2.5 E F0
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E
(DB_CREA)108 381.6 Q(TE)-1.11 E .483(Create an)133 393.6 R 2.983(yu)-.15
G .483(nderlying \214les, as necessary)-2.983 F 5.483(.I)-.65 G 2.983
(ft)-5.483 G .483(he \214les do not already e)-2.983 F .483
(xist and the DB_CREA)-.15 F .484(TE \215ag)-1.11 F
(is not speci\214ed, the call will f)133 405.6 Q(ail.)-.1 E(DB_THREAD)
108 434.4 Q 1.543(Cause the DbLog handle returned by the)133 446.4 R F1
(DbLo)4.043 E(g::open)-.1 E F0 1.543
(method to be useable by multiple threads)4.043 F
(within a single address space, i.e., to be `)133 458.4 Q
(`free-threaded')-.74 E('.)-.74 E .102
(All \214les created by the log subsystem are created with mode)108
475.2 R F1(mode)2.602 E F0 .103(\(as described in)2.603 F F1 -.15(ch)
2.603 G(mod).15 E F0 .103(\(2\)\) and modi\214ed).77 F .169
(by the process' umask v)108 487.2 R .169
(alue at the time of creation \(see)-.25 F F1(umask)2.669 E F0 2.669
(\(2\)\). The).67 F .169(group o)2.669 F .169
(wnership of created \214les is)-.25 F
(based on the system and directory def)108 499.2 Q
(aults, and is not further speci\214ed by DB.)-.1 E .166
(The logging subsystem is con\214gured based on which set methods ha)108
516 R .467 -.15(ve b)-.2 H .167(een used.).15 F .167(It is e)5.167 F
.167(xpected that appli-)-.15 F .914(cations will use a single DbEn)108
528 R 3.413(vo)-.4 G .913(bject as the ar)-3.413 F .913
(gument to all of the subsystems in the DB package.)-.18 F(The)5.913 E
.729(\214elds of the DbEn)108 540 R 3.229(vo)-.4 G .729(bject used by)
-3.229 F F1(DbLo)3.229 E(g::open)-.1 E F0 .729(are described belo)3.229
F 4.53 -.65(w. A)-.25 H 3.23(sr).65 G .73(eferences to the DbEn)-3.23 F
3.23(vo)-.4 G(bject)-3.23 E 1.24(may be maintained by)108 552 R F1(DbLo)
3.74 E(g::open)-.1 E F0 3.74(,i).24 G 3.74(ti)-3.74 G 3.74(sn)-3.74 G
1.24(ecessary that the DbEn)-3.74 F 3.74(vo)-.4 G 1.24
(bject and memory it references be)-3.74 F -.25(va)108 564 S .328
(lid until the object is destro).25 F 2.828(yed. An)-.1 F 2.828(yo)-.15
G 2.828(ft)-2.828 G .328(he DbEn)-2.828 F 2.828<768c>-.4 G .329
(elds that are not e)-2.828 F .329(xplicitly set will def)-.15 F .329
(ault to appro-)-.1 F(priate v)108 576 Q(alues.)-.25 E .517(The follo)
108 592.8 R .517(wing \214elds in the DbEn)-.25 F 3.016(vo)-.4 G .516(bject may be initialized, using the appropriate set method, before call-)
-3.016 F(ing)108 604.8 Q F1(DbLo)2.5 E(g::open)-.1 E F0(:).24 E -.2(vo)
108 633.6 S(id *\(*db_errcall\)\(char *db_errpfx, char *b).2 E(uf)-.2 E
(fer\);)-.25 E(FILE *db_err\214le;)108 645.6 Q(const char *db_errpfx;)
108 657.6 Q(class ostream *db_error_stream;)108 669.6 Q(int db_v)108
681.6 Q(erbose;)-.15 E(The error \214elds of the DbEn)133 693.6 Q 2.5
(vb)-.4 G(eha)-2.5 E .3 -.15(ve a)-.2 H 2.5(sd).15 G(escribed for)-2.5 E
F1(DbEn)2.5 E(v)-.4 E F0(\(3\).).32 E(May 10, 1998)278.085 768 Q(2)
201.085 E EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R
(u_int32_t lg_max;)108 84 Q .248
(The maximum size of a single \214le in the log.)133 96 R .248
(Because DbLsn \214le of)5.248 F .249(fsets are unsigned 4-byte v)-.25 F
(alues,)-.25 E/F1 10/Times-Italic@0 SF(lg_max)133 108 Q F0
(may not be lar)2.5 E(ger than the maximum unsigned 4-byte v)-.18 E
(alue.)-.25 E(If)133 132 Q F1(lg_max)2.5 E F0(is 0, a def)2.5 E(ault v)
-.1 E(alue is used.)-.25 E(See the section "LOG FILE LIMITS" belo)133
156 Q 1.3 -.65(w, f)-.25 H(or further information.).65 E(The)108 172.8 Q
F1(DbLo)3.222 E(g::open)-.1 E F0 .722(method thro)3.222 F .722(ws a)-.25
F F1(DbException)3.222 E F0 .722(\(3\) or returns the v).24 F .722
(alue of)-.25 F F1(errno)3.222 E F0 .722(on f)3.222 F .721
(ailure and 0 on suc-)-.1 F(cess.)108 184.8 Q F1(DbLo)92 201.6 Q
(g::close)-.1 E F0(The)108 213.6 Q F1(DbLo)2.5 E(g::close)-.1 E F0
(method closes the log associated with the DbLog object.)2.5 E 3.454
(In addition, if the)108 230.4 R F1(dir)5.954 E F0(ar)5.954 E 3.454
(gument to)-.18 F F1(DbLo)5.954 E(g::open)-.1 E F0 -.1(wa)5.954 G 5.954
(sN).1 G 3.454(ULL and)-5.954 F F1(dben)5.954 E(v)-.4 E F0 -.1(wa)5.954
G 5.954(sn).1 G 3.454(ot initialized using)-5.954 F F1(DbEn)108 242.4 Q
(v::appinit)-.4 E F0 2.5(,a).68 G(ll \214les created for this shared re)
-2.5 E(gion will be remo)-.15 E -.15(ve)-.15 G(d, as if).15 E F1(DbLo)
2.5 E(g::unlink)-.1 E F0(were called.)2.5 E 2.663
(When multiple threads are using the DbLog handle concurrently)108 259.2
R 5.163(,o)-.65 G 2.662(nly a single thread may call the)-5.163 F F1
(DbLo)108 271.2 Q(g::close)-.1 E F0(method.)2.5 E(The)108 288 Q F1(DbLo)
3.156 E(g::close)-.1 E F0 .656(method thro)3.156 F .656(ws a)-.25 F F1
(DbException)3.156 E F0 .656(\(3\) or returns the v).24 F .657(alue of)
-.25 F F1(errno)3.157 E F0 .657(on f)3.157 F .657(ailure and 0 on suc-)
-.1 F(cess.)108 300 Q F1(DbLo)92 316.8 Q(g::\215ush)-.1 E F0(The)108
328.8 Q F1(DbLo)3.559 E(g::\215ush)-.1 E F0 1.059(method guarantees that all log records whose DbLsns are less than or equal to the)
3.559 F F1(lsn)3.558 E F0(parameter ha)108 340.8 Q .3 -.15(ve b)-.2 H
(een written to disk.).15 E(If)5 E F1(lsn)2.5 E F0
(is NULL, all records in the log are \215ushed.)2.5 E(The)108 357.6 Q F1
(DbLo)3.254 E(g::\215ush)-.1 E F0 .754(method thro)3.254 F .754(ws a)
-.25 F F1(DbException)3.254 E F0 .754(\(3\) or returns the v).24 F .754
(alue of)-.25 F F1(errno)3.254 E F0 .754(on f)3.254 F .754
(ailure and 0 on suc-)-.1 F(cess.)108 369.6 Q F1(DbLo)92 386.4 Q(g::g)
-.1 E(et)-.1 E F0(The)108 398.4 Q F1(DbLo)2.779 E(g::g)-.1 E(et)-.1 E F0
.279(method implements a cursor inside of the log, retrie)2.779 F .278
(ving records from the log according to)-.25 F(the)108 410.4 Q F1(lsn)
2.5 E F0(and)2.5 E F1<8d61>2.5 E(gs)-.1 E F0(parameters.)2.5 E .025
(The data \214eld of the)108 427.2 R F1(data)2.525 E F0 .025
(object is set to the record retrie)2.525 F -.15(ve)-.25 G 2.525(da).15
G .026(nd the size \214eld indicates the number of bytes)-2.525 F .529
(in the record.)108 439.2 R(See)5.529 E F1(Dbt)3.029 E F0 .528
(\(3\) for a description of other \214elds in the).68 F F1(data)3.028 E
F0(object.)3.028 E/F2 10/Times-Bold@0 SF .528(When multiple thr)5.528 F
.528(eads ar)-.18 F(e)-.18 E .667(using the r)108 451.2 R(etur)-.18 E
.667(ned DbLog handle concurr)-.15 F(ently)-.18 E 3.167(,e)-.55 G .667
(ither the DB_DBT_MALLOC or DB_DBT_USER-)-3.167 F
(MEM \215ags must be speci\214ed f)108 463.2 Q(or any Dbt used f)-.25 E
(or data r)-.25 E(etrie)-.18 E -.1(va)-.15 G(l.).1 E F0(The)108 480 Q F1
<8d61>2.5 E(gs)-.1 E F0(parameter must be set to e)2.5 E
(xactly one of the follo)-.15 E(wing v)-.25 E(alues:)-.25 E
(DB_CHECKPOINT)108 508.8 Q 1.895(The last record written with the DB_CHECKPOINT \215ag speci\214ed to the)
133 520.8 R F1(DbLo)4.394 E(g::put)-.1 E F0 1.894(method is)4.394 F
2.348(returned in the)133 532.8 R F1(data)4.848 E F0(ar)4.848 E 4.848
(gument. The)-.18 F F1(lsn)4.848 E F0(ar)4.848 E 2.348(gument is o)-.18
F -.15(ve)-.15 G 2.348(rwritten with the DbLsn of the record).15 F 3.576
(returned. If)133 544.8 R 1.076(no record has been pre)3.576 F 1.075
(viously written with the DB_CHECKPOINT \215ag speci\214ed, the)-.25 F
(\214rst record in the log is returned.)133 556.8 Q
(If the log is empty the)133 573.6 Q F1(DbLo)2.5 E(g::g)-.1 E(et)-.1 E
F0(method will return DB_NO)2.5 E(TFOUND.)-.4 E(DB_FIRST)108 602.4 Q
.476(The \214rst record from an)133 614.4 R 2.976(yo)-.15 G 2.976(ft)
-2.976 G .476
(he log \214les found in the log directory is returned in the)-2.976 F
F1(data)2.977 E F0(ar)2.977 E(gument.)-.18 E(The)133 626.4 Q F1(lsn)2.5
E F0(ar)2.5 E(gument is o)-.18 E -.15(ve)-.15 G
(rwritten with the DbLsn of the record returned.).15 E
(If the log is empty the)133 643.2 Q F1(DbLo)2.5 E(g::g)-.1 E(et)-.1 E
F0(method will return DB_NO)2.5 E(TFOUND.)-.4 E(DB_LAST)108 672 Q .367
(The last record in the log is returned in the)133 684 R F1(data)2.867 E
F0(ar)2.867 E 2.867(gument. The)-.18 F F1(lsn)2.866 E F0(ar)2.866 E .366
(gument is o)-.18 F -.15(ve)-.15 G .366(rwritten with the).15 F
(DbLsn of the record returned.)133 696 Q(If the log is empty)133 712.8 Q
2.5(,t)-.65 G(he)-2.5 E F1(DbLo)2.5 E(g::g)-.1 E(et)-.1 E F0
(method will return DB_NO)2.5 E(TFOUND.)-.4 E(May 10, 1998)278.085 768 Q
(3)201.085 E EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R(DB_NEXT)108
84 Q .846(The current log position is adv)133 96 R .846(anced to the ne)
-.25 F .847(xt record in the log and that record is returned in the)-.15
F/F1 10/Times-Italic@0 SF(data)133 108 Q F0(ar)2.5 E 2.5(gument. The)
-.18 F F1(lsn)2.5 E F0(ar)2.5 E(gument is o)-.18 E -.15(ve)-.15 G
(rwritten with the DbLsn of the record returned.).15 E 3.749
(If the pointer has not been initialized via DB_FIRST)133 124.8 R 6.248
(,D)-.74 G(B_LAST)-6.248 E 6.248(,D)-.74 G(B_SET)-6.248 E 6.248(,D)-.74
G(B_NEXT)-6.248 E 6.248(,o)-.74 G(r)-6.248 E(DB_PREV)133 136.8 Q(,)-1.29
E F1(DbLo)3.035 E(g::g)-.1 E(et)-.1 E F0 .536
(will return the \214rst record in the log.)3.035 F .536
(If the last log record has already been)5.536 F
(returned or the log is empty)133 148.8 Q 2.5(,t)-.65 G(he)-2.5 E F1
(DbLo)2.5 E(g::g)-.1 E(et)-.1 E F0(method will return DB_NO)2.5 E
(TFOUND.)-.4 E .615(If the log w)133 165.6 R .615
(as opened with the DB_THREAD \215ag set, calls to)-.1 F F1(DbLo)3.115 E
(g::g)-.1 E(et)-.1 E F0 .615(with the DB_NEXT \215ag)3.115 F
(set will return EINV)133 177.6 Q(AL.)-1.35 E(DB_PREV)108 206.4 Q .502
(The current log position is mo)133 218.4 R -.15(ve)-.15 G 3.002(dt).15
G 3.002(ot)-3.002 G .503(he pre)-3.002 F .503
(vious record in the log and that record is returned in the)-.25 F F1
(data)133 230.4 Q F0(ar)2.5 E 2.5(gument. The)-.18 F F1(lsn)2.5 E F0(ar)
2.5 E(gument is o)-.18 E -.15(ve)-.15 G
(rwritten with the DbLsn of the record returned.).15 E 3.749
(If the pointer has not been initialized via DB_FIRST)133 247.2 R 6.248
(,D)-.74 G(B_LAST)-6.248 E 6.248(,D)-.74 G(B_SET)-6.248 E 6.248(,D)-.74
G(B_NEXT)-6.248 E 6.248(,o)-.74 G(r)-6.248 E(DB_PREV)133 259.2 Q(,)-1.29
E F1(DbLo)3.035 E(g::g)-.1 E(et)-.1 E F0 .536
(will return the last record in the log.)3.035 F .536
(If the \214rst log record has already been)5.536 F
(returned or the log is empty)133 271.2 Q 2.5(,t)-.65 G(he)-2.5 E F1
(DbLo)2.5 E(g::g)-.1 E(et)-.1 E F0(method will return DB_NO)2.5 E
(TFOUND.)-.4 E .684(If the log w)133 288 R .684
(as opened with the DB_THREAD \215ag set, calls to)-.1 F F1(DbLo)3.184 E
(g::g)-.1 E(et)-.1 E F0 .683(with the DB_PREV \215ag)3.183 F
(set will return EINV)133 300 Q(AL.)-1.35 E(DB_CURRENT)108 328.8 Q
(Return the log record currently referenced by the log.)133 340.8 Q
2.284(If the log pointer has not been initialized via DB_FIRST)133 357.6
R 4.785(,D)-.74 G(B_LAST)-4.785 E 4.785(,D)-.74 G(B_SET)-4.785 E 4.785
(,D)-.74 G(B_NEXT)-4.785 E 4.785(,o)-.74 G(r)-4.785 E(DB_PREV)133 369.6
Q 3.576(,o)-1.29 G 3.576(ri)-3.576 G 3.576(ft)-3.576 G 1.076(he log w)
-3.576 F 1.075(as opened with the DB_THREAD \215ag set,)-.1 F F1(DbLo)
3.575 E(g::g)-.1 E(et)-.1 E F0 1.075(will return EIN-)3.575 F -1.35(VA)
133 381.6 S(L.)1.35 E(DB_SET)108 398.4 Q(Retrie)133 410.4 Q 1.356 -.15
(ve t)-.25 H 1.056(he record speci\214ed by the).15 F F1(lsn)3.556 E F0
(ar)3.556 E 3.556(gument. If)-.18 F 1.056(the speci\214ed DbLsn is in)
3.556 F -.25(va)-.4 G 1.057(lid \(e.g., does not).25 F
(appear in the log\))133 422.4 Q F1(DbLo)2.5 E(g::g)-.1 E(et)-.1 E F0
(will return EINV)2.5 E(AL.)-1.35 E .53(Otherwise, the)108 439.2 R F1
(DbLo)3.03 E(g::g)-.1 E(et)-.1 E F0 .53(method thro)3.03 F .53(ws a)-.25
F F1(DbException)3.03 E F0 .53(\(3\) or returns the v).24 F .53(alue of)
-.25 F F1(errno)3.03 E F0 .53(on f)3.03 F .53(ailure and 0)-.1 F
(on success.)108 451.2 Q F1(DbLo)92 468 Q(g::compar)-.1 E(e)-.37 E F0
(The)108 480 Q F1(DbLo)2.938 E(g::compar)-.1 E(e)-.37 E F0 .438
(method allo)2.938 F .438(ws the caller to compare tw)-.25 F 2.939(oD)
-.1 G(bLsn')-2.939 E(s.)-.55 E F1(DbLo)5.439 E(g::compar)-.1 E(e)-.37 E
F0 .439(returns 0 if the)2.939 F(tw)108 492 Q 2.5(oD)-.1 G(bLsn')-2.5 E
2.5(sa)-.55 G(re equal, 1 if)-2.5 E F1(lsn0)2.5 E F0(is greater than)2.5
E F1(lsn1)2.5 E F0 2.5(,a)C(nd -1 if)-2.5 E F1(lsn0)2.5 E F0
(is less than)2.5 E F1(lsn1)2.5 E F0(.)A F1(DbLo)92 508.8 Q(g::\214le)
-.1 E F0(The)108 520.8 Q F1(DbLo)3.057 E(g::\214le)-.1 E F0 .557
(method maps DbLsn')3.057 F 3.057(st)-.55 G 3.057<6f8c>-3.057 G .557
(le names.)-3.057 F(The)5.557 E F1(DbLo)3.057 E(g::\214le)-.1 E F0 .557
(method copies the name of the \214le)3.057 F 1.625
(containing the record named by)108 532.8 R F1(lsn)4.125 E F0 1.625
(into the memory location referenced by)4.125 F F1(namep)4.126 E F0
6.626(.\().19 G 1.626(This mapping of)-6.626 F .587
(DbLsn to \214le is needed for database administration.)108 544.8 R -.15
(Fo)5.586 G 3.086(re).15 G .586
(xample, a transaction manager typically records)-3.236 F .707(the earliest DbLsn needed for restart, and the database administrator may w)
108 556.8 R .708(ant to archi)-.1 F 1.008 -.15(ve l)-.25 H .708
(og \214les to tape).15 F(when the)108 568.8 Q 2.5(yc)-.15 G
(ontain only DbLsn')-2.5 E 2.5(sb)-.55 G
(efore the earliest one needed for restart.\))-2.5 E(The)108 585.6 Q F1
(len)3.342 E F0(ar)3.342 E .842(gument is the length of the)-.18 F F1
(namep)3.342 E F0 -.2(bu)3.342 G -.25(ff).2 G .842(er in bytes.).25 F
(If)5.842 E F1(namep)3.342 E F0 .842
(is too short to hold the \214le name,)3.342 F F1(DbLo)108 597.6 Q
(g::\214le)-.1 E F0 .113(will return ENOMEM.)2.612 F .113
(Note, as described abo)5.113 F -.15(ve)-.15 G 2.613(,l).15 G .113
(og \214le names are quite short, on the order of)-2.613 F
(10 characters.)108 609.6 Q(The)108 626.4 Q F1(DbLo)2.716 E(g::\214le)
-.1 E F0 .216(method thro)2.716 F .216(ws a)-.25 F F1(DbException)2.716
E F0 .215(\(3\) or returns the v).24 F .215(alue of)-.25 F F1(errno)
2.715 E F0 .215(on f)2.715 F .215(ailure and 0 on success.)-.1 F F1
(DbLo)92 643.2 Q(g::put)-.1 E F0(The)108 655.2 Q F1(DbLo)3.669 E(g::put)
-.1 E F0 1.169(method appends records to the log.)3.669 F 1.17
(The DbLsn of the put record is returned in the)6.169 F F1(lsn)3.67 E F0
(parameter)108 667.2 Q 5(.T)-.55 G(he)-5 E F1<8d61>2.5 E(gs)-.1 E F0
(parameter may be set to one of the follo)2.5 E(wing v)-.25 E(alues:)
-.25 E(DB_CHECKPOINT)108 696 Q .119
(The log should write a checkpoint record, recording an)133 708 R 2.619
(yi)-.15 G .118(nformation necessary to mak)-2.619 F 2.618(et)-.1 G .118
(he log struc-)-2.618 F(tures reco)133 720 Q -.15(ve)-.15 G
(rable after a crash.).15 E(May 10, 1998)278.085 768 Q(4)201.085 E EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R(DB_CURLSN)
108 84 Q(The DB_LSN of the ne)133 96 Q
(xt record to be put is returned in the)-.15 E/F1 10/Times-Italic@0 SF
(lsn)2.5 E F0(parameter)2.5 E(.)-.55 E(DB_FLUSH)108 124.8 Q .808(The log is forced to disk after this record is written, guaranteeing that all records with DbLsns less)
133 136.8 R .444(than or equal to the one being put are on disk before this method returns \(this function is most often)
133 148.8 R(used for a transaction commit, see)133 160.8 Q F1(Db::Txn)
2.5 E F0(in Db \(3\)\).)2.5 E .238(The caller is responsible for pro)108
177.6 R .239(viding an)-.15 F 2.739(yn)-.15 G .239
(ecessary structure to)-2.739 F F1(data)2.739 E F0 5.239(.\().26 G -.15
(Fo)-5.239 G 2.739(re).15 G .239(xample, in a write-ahead log-)-2.889 F
1.183(ging protocol, the application must understand what part of)108
189.6 R F1(data)3.683 E F0 1.183
(is an operation code, what part is redo)3.683 F .709
(information, and what part is undo information.)108 201.6 R .71
(In addition, most transaction managers will store in)5.709 F F1(data)
3.21 E F0 .007(the DbLsn of the pre)108 213.6 R .006(vious log record for the same transaction, to support chaining back through the transac-)
-.25 F(tion')108 225.6 Q 2.5(sl)-.55 G(og records during undo.\))-2.5 E
(The)108 242.4 Q F1(DbLo)2.682 E(g::put)-.1 E F0 .182(method thro)2.682
F .182(ws a)-.25 F F1(DbException)2.682 E F0 .182
(\(3\) or returns the v).24 F .182(alue of)-.25 F F1(errno)2.682 E F0
.183(on f)2.683 F .183(ailure and 0 on success.)-.1 F F1(DbLo)92 271.2 Q
(g::unlink)-.1 E F0(The)108 283.2 Q F1(DbLo)2.595 E(g::unlink)-.1 E F0
.095(method destro)2.595 F .095(ys the log re)-.1 F .095
(gion identi\214ed by the directory)-.15 F F1(dir)2.595 E F0 2.595(,r)
.73 G(emo)-2.595 E .095(ving all \214les used to)-.15 F 1.881
(implement the log re)108 295.2 R 4.382(gion. \(The)-.15 F(directory)
4.382 E F1(dir)4.382 E F0 1.882(is not remo)4.382 F -.15(ve)-.15 G 4.382
(d.\) If).15 F 1.882(there are processes that ha)4.382 F 2.182 -.15
(ve c)-.2 H(alled).15 E F1(DbLo)108 307.2 Q(g::open)-.1 E F0 2.749
(without calling)5.249 F F1(DbLo)5.249 E(g::close)-.1 E F0 2.748
(\(i.e., there are processes currently using the log re)5.249 F(gion\),)
-.15 E F1(DbLo)108 319.2 Q(g::unlink)-.1 E F0 .111(will f)2.611 F .112(ail without further action, unless the force \215ag is set, in which case)
-.1 F F1(DbLo)2.612 E(g::unlink)-.1 E F0(will)2.612 E(attempt to remo)
108 331.2 Q .3 -.15(ve t)-.15 H(he log re).15 E(gion \214les re)-.15 E
-.05(ga)-.15 G(rdless of an).05 E 2.5(yp)-.15 G
(rocesses still using the log re)-2.5 E(gion.)-.15 E .766
(The result of attempting to forcibly destro)108 348 R 3.266(yt)-.1 G
.766(he re)-3.266 F .766(gion when a process has the re)-.15 F .765
(gion open is unspeci\214ed.)-.15 F 1.232
(Processes using a shared memory re)108 360 R 1.232
(gion maintain an open \214le descriptor for it.)-.15 F 1.232
(On UNIX systems, the)6.232 F(re)108 372 Q .474(gion remo)-.15 F -.25
(va)-.15 G 2.974(ls).25 G .473(hould succeed and processes that ha)
-2.974 F .773 -.15(ve a)-.2 H .473(lready joined the re).15 F .473
(gion should continue to run in)-.15 F .247(the re)108 384 R .247
(gion without change, ho)-.15 F(we)-.25 E -.15(ve)-.25 G 2.747(rp).15 G
.248(rocesses attempting to join the log re)-2.747 F .248
(gion will either f)-.15 F .248(ail or attempt to)-.1 F .45(create a ne)
108 396 R 2.95(wr)-.25 G -.15(eg)-2.95 G 2.95(ion. On).15 F .45
(other systems, e.g., WNT)2.95 F 2.949(,w)-.74 G .449(here the)-2.949 F
F1(unlink)2.949 E F0 .449(\(2\) system call will f).67 F .449(ail if an)
-.1 F 2.949(yp)-.15 G(rocess)-2.949 E
(has an open \214le descriptor for the \214le, the re)108 408 Q
(gion remo)-.15 E -.25(va)-.15 G 2.5(lw).25 G(ill f)-2.5 E(ail.)-.1 E
.929(In the case of catastrophic or system f)108 424.8 R .929
(ailure, database reco)-.1 F -.15(ve)-.15 G .93
(ry must be performed \(see).15 F F1(db_r)3.43 E(eco)-.37 E(ver)-.1 E F0
.93(\(1\) or).73 F .439(the DB_RECO)108 436.8 R .439(VER and DB_RECO)-.5
F(VER_F)-.5 E -1.21 -1.11(AT A)-.74 H 2.939<4c8d>1.11 G .439(ags to)
-2.939 F F1(DbEn)2.939 E(v::appinit)-.4 E F0 2.939(\(3\)\). Alternati)
.68 F -.15(ve)-.25 G(ly).15 E 2.939(,i)-.65 G 2.939(fr)-2.939 G(eco)
-2.939 E -.15(ve)-.15 G .439(ry is).15 F .638
(not required because no database state is maintained across f)108 448.8
R .639(ailures, it is possible to clean up a log re)-.1 F(gion)-.15 E
1.016(by remo)108 460.8 R 1.016
(ving all of the \214les in the directory speci\214ed to the)-.15 F F1
(DbLo)3.515 E(g::open)-.1 E F0 1.015(method, as log re)3.515 F 1.015
(gion \214les are)-.15 F(ne)108 472.8 Q -.15(ve)-.25 G 2.561(rc).15 G
.061(reated in an)-2.561 F 2.561(yd)-.15 G .062
(irectory other than the one speci\214ed to)-2.561 F F1(DbLo)2.562 E
(g::open)-.1 E F0 5.062(.N).24 G .062(ote, ho)-5.062 F(we)-.25 E -.15
(ve)-.25 G .862 -.4(r, t).15 H .062(hat this has the).4 F
(potential to remo)108 484.8 Q .3 -.15(ve \214)-.15 H
(les created by the other DB subsystems in this database en).15 E
(vironment.)-.4 E(The)108 501.6 Q F1(DbLo)2.895 E(g::unlink)-.1 E F0
.395(method thro)2.895 F .395(ws a)-.25 F F1(DbException)2.895 E F0 .395
(\(3\) or returns the v).24 F .395(alue of)-.25 F F1(errno)2.895 E F0
.394(on f)2.895 F .394(ailure and 0 on suc-)-.1 F(cess.)108 513.6 Q F1
(DbLo)92 530.4 Q(g::ar)-.1 E -.15(ch)-.37 G(ive).15 E F0(The)108 542.4 Q
F1(DbLo)3.367 E(g::ar)-.1 E -.15(ch)-.37 G(ive).15 E F0 .867(method creates a NULL-terminated array of log or database \214le names and copies a)
3.367 F(pointer to them into the user)108 554.4 Q
(-speci\214ed memory location)-.2 E F1(list)2.5 E F0(.).68 E .14(By def)
108 571.2 R(ault,)-.1 E F1(DbLo)2.64 E(g::ar)-.1 E -.15(ch)-.37 G(ive)
.15 E F0 .139(returns the names of all of the log \214les that are no longer in use \(e.g., no longer)
2.64 F(in)108 583.2 Q -.2(vo)-.4 G(lv).2 E .32(ed in acti)-.15 F .62
-.15(ve t)-.25 H .321(ransactions\), and that may be archi).15 F -.15
(ve)-.25 G 2.821(df).15 G .321(or catastrophic reco)-2.821 F -.15(ve)
-.15 G .321(ry and then remo).15 F -.15(ve)-.15 G 2.821(df).15 G(rom)
-2.821 E(the system.)108 595.2 Q
(If there were no \214le names to return,)5 E F1(list)2.5 E F0
(will be set to NULL.)2.5 E .692
(Arrays of log \214le names are created in allocated memory)108 612 R
5.692(.I)-.65 G(f)-5.692 E F1(db_malloc)3.192 E F0 .691
(is non-NULL, it is called to allo-)3.192 F .067(cate the memory)108 624
R 2.567(,o)-.65 G .067(therwise, the library function)-2.567 F F1
(malloc)2.567 E F0 .067(\(3\) is used.).31 F .068(The function)5.067 F
F1(db_malloc)2.568 E F0 .068(must match the)2.568 F .877(calling con)108
636 R -.15(ve)-.4 G .877(ntions of the).15 F F1(malloc)3.377 E F0 .877
(\(3\) library routine.).31 F(Re)5.877 E -.05(ga)-.15 G .877
(rdless, the caller is responsible for deallocating).05 F 1.605
(the returned memory)108 648 R 6.605(.T)-.65 G 4.105(od)-7.405 G 1.605
(eallocate the returned memory)-4.105 F 4.105(,f)-.65 G 1.606
(ree each returned memory pointer; pointers)-4.105 F
(inside the memory do not need to be indi)108 660 Q(vidually freed.)-.25
E(The)108 676.8 Q F1<8d61>2.5 E(gs)-.1 E F0(ar)2.5 E
(gument is speci\214ed by)-.18 E/F2 10/Times-Bold@0 SF(or)2.5 E F0
('ing together one or more of the follo)A(wing v)-.25 E(alues:)-.25 E
(DB_ARCH_ABS)108 705.6 Q .224
(All pathnames are returned as absolute pathnames, instead of relati)133
717.6 R .524 -.15(ve t)-.25 H 2.724(ot).15 G .224
(he database home directory)-2.724 F(.)-.65 E(May 10, 1998)278.085 768 Q
(5)201.085 E EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R(DB_ARCH_D)
108 84 Q -1.21 -1.11(AT A)-.4 H .661
(Return the database \214les that need to be archi)133 96 R -.15(ve)-.25
G 3.161(di).15 G 3.161(no)-3.161 G .661(rder to reco)-3.161 F -.15(ve)
-.15 G 3.162(rt).15 G .662(he database from catastrophic)-3.162 F -.1
(fa)133 108 S 2.665(ilure. If).1 F(an)2.665 E 2.665(yo)-.15 G 2.665(ft)
-2.665 G .165(he database \214les ha)-2.665 F .465 -.15(ve n)-.2 H .165
(ot been accessed during the lifetime of the current log \214les,).15 F
/F1 10/Times-Italic@0 SF(DbLo)133 120 Q(g::ar)-.1 E -.15(ch)-.37 G(ive)
.15 E F0 .368(will not include them in this list.)2.868 F .368
(It is also possible that some of the \214les referenced)5.368 F
(in the log ha)133 132 Q .3 -.15(ve s)-.2 H
(ince been deleted from the system.).15 E(DB_ARCH_LOG)108 160.8 Q
(Return all the log \214le names re)133 172.8 Q -.05(ga)-.15 G
(rdless of whether or not the).05 E 2.5(ya)-.15 G(re in use.)-2.5 E
(The DB_ARCH_D)108 189.6 Q -1.21 -1.11(AT A)-.4 H
(and DB_ARCH_LOG \215ags are mutually e)3.61 E(xclusi)-.15 E -.15(ve)
-.25 G(.).15 E(The)108 206.4 Q F1(DbLo)2.632 E(g::ar)-.1 E -.15(ch)-.37
G(ive).15 E F0 .132(method thro)2.632 F .132(ws a)-.25 F F1(DbException)
2.632 E F0 .132(\(3\) or returns the v).24 F .132(alue of)-.25 F F1
(errno)2.632 E F0 .132(on f)2.632 F .131(ailure and 0 on suc-)-.1 F
(cess.)108 218.4 Q(The)108 235.2 Q F1(DbLo)2.867 E(g::ar)-.1 E -.15(ch)
-.37 G(ive).15 E F0 .367(method is based on the C)2.867 F F1(lo)2.867 E
(g_ar)-.1 E -.15(ch)-.37 G(ive).15 E F0 .368
(function, which is the underlying function used)2.867 F 2.282(by the)
108 247.2 R F1(db_ar)4.782 E -.15(ch)-.37 G(ive).15 E F0 2.282
(\(1\) utility).18 F 7.282(.S)-.65 G 2.281(ee the source code for the)
-7.282 F F1(db_ar)4.781 E -.15(ch)-.37 G(ive).15 E F0 2.281
(utility for an e)4.781 F 2.281(xample of using)-.15 F F1(lo)108 259.2 Q
(g_ar)-.1 E -.15(ch)-.37 G(ive).15 E F0 .167(in a UNIX en)2.667 F 2.667
(vironment. See)-.4 F(the)2.667 E F1(db_ar)2.667 E -.15(ch)-.37 G(ive)
.15 E F0 .167(\(1\) manual page for more information on database).18 F
(archi)108 271.2 Q -.25(va)-.25 G 2.5(lp).25 G(rocedures.)-2.5 E F1
(DbLo)92 288 Q(g::db_r)-.1 E -.4(eg)-.37 G(ister).4 E F0(The)108 300 Q
F1(DbLo)3.131 E(g::db_r)-.1 E -.4(eg)-.37 G(ister).4 E F0 .631
(method re)3.131 F .631(gisters a \214le name with the log manager and copies a \214le identi\214cation)
-.15 F .602(number into the memory location referenced by)108 312 R F1
(\214dp)3.102 E F0 5.602(.T).19 G .602
(his \214le identi\214cation number should be used in all)-5.602 F .516
(subsequent log messages that refer to operations on this \214le.)108
324 R .515(The log manager records all \214le name to \214le)5.516 F
.322(identi\214cation number mappings at each checkpoint so that a reco)
108 336 R -.15(ve)-.15 G .322
(ry process can identify the \214le to which).15 F 2.5(ar)108 348 S
(ecord in the log refers.)-2.5 E(The)108 364.8 Q F1(DbLo)3.944 E
(g::db_r)-.1 E -.4(eg)-.37 G(ister).4 E F0 1.443
(method is called when an access method re)3.944 F 1.443
(gisters the open of a \214le.)-.15 F(The)6.443 E F1(dbp)3.943 E F0(parameter should be a pointer to the Db object which is being returned by the access method.)
108 376.8 Q(The)108 393.6 Q F1(type)2.5 E F0
(parameter should be one of the Db types speci\214ed in)2.5 E F1
(Db::open \(see)2.5 E F0(Db).18 E F1(\(3\)\),).08 E F0(e.g., DB_HASH.)
2.5 E(The)108 410.4 Q F1(DbLo)2.845 E(g::db_r)-.1 E -.4(eg)-.37 G(ister)
.4 E F0 .345(method thro)2.845 F .345(ws a)-.25 F F1(DbException)2.845 E
F0 .346(\(3\) or returns the v).24 F .346(alue of)-.25 F F1(errno)2.846
E F0 .346(on f)2.846 F .346(ailure and 0 on)-.1 F(success.)108 422.4 Q
F1(DbLo)92 439.2 Q(g::db_unr)-.1 E -.4(eg)-.37 G(ister).4 E F0(The)108
451.2 Q F1(DbLo)2.745 E(g::db_unr)-.1 E -.4(eg)-.37 G(ister).4 E F0 .245
(method disassociates the \214le name to \214le identi\214cation number mapping for the)
2.745 F .136(\214le identi\214cation number speci\214ed by the)108 463.2
R F1<8c64>2.637 E F0(parameter)2.637 E 5.137(.T)-.55 G .137
(he \214le identi\214cation number may then be reused.)-5.137 F(The)108
480 Q F1(DbLo)3.036 E(g::db_unr)-.1 E -.4(eg)-.37 G(ister).4 E F0 .536
(method thro)3.036 F .536(ws a)-.25 F F1(DbException)3.036 E F0 .535
(\(3\) or returns the v).24 F .535(alue of)-.25 F F1(errno)3.035 E F0
.535(on f)3.035 F .535(ailure and 0)-.1 F(on success.)108 492 Q F1(DbLo)
92 508.8 Q(g::stat)-.1 E F0(The)108 520.8 Q F1(DbLo)4.009 E(g::stat)-.1
E F0 1.509(function creates a statistical structure and copies a pointer to it into the user)
4.009 F(-speci\214ed)-.2 E(memory location.)108 532.8 Q .049
(Statistical structures are created in allocated memory)108 549.6 R
5.049(.I)-.65 G(f)-5.049 E F1(db_malloc)2.549 E F0 .048
(is non-NULL, it is called to allocate the)2.549 F(memory)108 561.6 Q
2.829(,o)-.65 G .329(therwise, the library function)-2.829 F F1(malloc)
2.829 E F0 .329(\(3\) is used.).31 F .329(The function)5.329 F F1
(db_malloc)2.829 E F0 .33(must match the calling)2.83 F(con)108 573.6 Q
-.15(ve)-.4 G 2.031(ntions of the).15 F F1(malloc)4.531 E F0 2.031
(\(3\) library routine.).31 F(Re)7.031 E -.05(ga)-.15 G 2.031
(rdless, the caller is responsible for deallocating the).05 F .707
(returned memory)108 585.6 R 5.707(.T)-.65 G 3.207(od)-6.507 G .708
(eallocate the returned memory)-3.207 F 3.208(,f)-.65 G .708
(ree each returned memory pointer; pointers inside)-3.208 F 2.042
(the memory do not need to be indi)108 597.6 R 2.042(vidually freed.)
-.25 F 2.041(The log statistics are stored in a structure of type)7.042
F(DB_LOG_ST)108 609.6 Q 2.22 -1.11(AT \()-.93 H -1.95(typedef ')1.11 F
2.5(di)-.5 G 2.5(n<)-2.5 G(db)-2.5 E 2.5(.h>\). The)-.4 F(follo)2.5 E
(wing DB_LOG_ST)-.25 E 2.22 -1.11(AT \214)-.93 H
(elds will be \214lled in:)1.11 E(u_int32_t st_magic;)108 626.4 Q
(The magic number that identi\214es a \214le as a log \214le.)133 638.4
Q(u_int32_t st_v)108 650.4 Q(ersion;)-.15 E(The v)133 662.4 Q
(ersion of the log \214le type.)-.15 E(u_int32_t st_refcnt;)108 674.4 Q
(The number of references to the re)133 686.4 Q(gion.)-.15 E
(u_int32_t st_re)108 698.4 Q(gsize;)-.15 E(The size of the re)133 710.4
Q(gion.)-.15 E(May 10, 1998)278.085 768 Q(6)201.085 E EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R
(u_int32_t st_mode;)108 84 Q(The mode of an)133 96 Q 2.5(yc)-.15 G
(reated log \214les.)-2.5 E(u_int32_t st_lg_max;)108 108 Q
(The maximum size of an)133 120 Q 2.5(yi)-.15 G(ndi)-2.5 E
(vidual \214le comprising the log.)-.25 E(u_int32_t st_written;)108 132
Q(The total number of bytes written to this log.)133 144 Q
(u_int32_t st_written_chkpt;)108 156 Q
(The number of bytes written since the last checkpoint.)133 168 Q
(u_int32_t st_re)108 180 Q(gion_w)-.15 E(ait;)-.1 E
(The number of times that a process w)133 192 Q
(as able to obtain the re)-.1 E(gion lock without w)-.15 E(aiting.)-.1 E
(u_int32_t st_re)108 204 Q(gion_no)-.15 E -.1(wa)-.25 G(it;).1 E
(The number of times that a process w)133 216 Q(as forced to w)-.1 E
(ait before obtaining the re)-.1 E(gion lock.)-.15 E/F1 9/Times-Bold@0
SF(LOG FILE LIMITS)72 232.8 Q F0 .474(Log \214le sizes impose a time limit on the length of time a database may be accessed under transaction pro-)
108 244.8 R .91
(tection, before it needs to be dumped and reloaded \(see)108 256.8 R/F2
10/Times-Italic@0 SF(db_dump\(3\))3.41 E F0(and)3.41 E F2
(db_load\(3\)\).)3.41 E F0(Unfortunately)5.91 E 3.41(,t)-.65 G(he)-3.41
E(limits are potentially dif)108 268.8 Q(\214cult to calculate.)-.25 E
.273(The log \214le name consists of "log." follo)108 285.6 R .274
(wed by 5 digits, resulting in a maximum of 99,999 log \214les.)-.25 F
(Con-)5.274 E .127(sider an application performing 600 transactions per second, for 15 hours a day)
108 297.6 R 2.626(,l)-.65 G .126(ogged into 10Mb log \214les,)-2.626 F
(where each transaction is logging approximately 100 bytes of data.)108
309.6 Q(The calculation:)5 E(\(10 * 2^20 * 99999\) /)144 326.4 Q
(\(600 * 60 * 60 * 15 * 100\) = 323.63)194 338.4 Q .795(indicates that the system will run out of log \214le space in roughly 324 days.)
108 355.2 R .795(If we increase the maximum)5.795 F .136(size of the \214les from 10Mb to 100Mb, the same calculation indicates that the application will run out of log)
108 367.2 R(\214le space in roughly 9 years.)108 379.2 Q .314
(There is no w)108 396 R .314
(ay to reset the log \214le name space in Berk)-.1 F(ele)-.1 E 2.814(yD)
-.15 G 2.814(B. If)-2.814 F .315
(your application is reaching the end of)2.814 F
(its log \214le name space, you should:)108 408 Q 15(1. Archi)108 424.8
R .711 -.15(ve y)-.25 H .411
(our databases as if to prepare for catastrophic f).15 F .411
(ailure \(see)-.1 F F2(db_ar)2.91 E -.15(ch)-.37 G(ive).15 E F0 .41
(\(1\) for more informa-).18 F(tion\).)133 436.8 Q 15(2. Dump)108 453.6
R(and re-load)2.5 E/F3 10/Times-Bold@0 SF(all)2.5 E F0
(your databases \(see)2.5 E F2(db_dump)2.5 E F0(\(1\) and).19 E F2
(db_load)2.5 E F0(\(1\) for more information\).).77 E 15(3. Remo)108
470.4 R .3 -.15(ve a)-.15 H(ll of the log \214les from the database en)
.15 E(vironment \(see)-.4 E F2(db_ar)2.5 E -.15(ch)-.37 G(ive).15 E F0
(\(1\) for more information\).).18 E 15(4. Restart)108 487.2 R
(your applications.)2.5 E F1(ENVIR)72 504 Q(ONMENT V)-.27 E(ARIABLES)
-1.215 E F0(The follo)108 516 Q(wing en)-.25 E(vironment v)-.4 E
(ariables af)-.25 E(fect the e)-.25 E -.15(xe)-.15 G(cution of).15 E F2
(db_lo)2.5 E(g)-.1 E F0(:).22 E(DB_HOME)108 532.8 Q 1.46(If the)133
544.8 R F2(dben)3.96 E(v)-.4 E F0(ar)3.96 E 1.46(gument to)-.18 F F2
(DbLo)3.96 E(g::open)-.1 E F0 -.1(wa)3.96 G 3.96(si).1 G 1.46
(nitialized using)-3.96 F F2(db_appinit)3.96 E F0 3.96(,t).68 G 1.46
(he en)-3.96 F 1.46(vironment v)-.4 F(ariable)-.25 E .508(DB_HOME may be used as the path of the database home for the interpretation of the)
133 556.8 R F2(dir)3.008 E F0(ar)3.008 E(gument)-.18 E(to)133 568.8 Q F2
(DbLo)2.547 E(g::open)-.1 E F0 2.547(,a).24 G 2.547(sd)-2.547 G .047
(escribed in)-2.547 F F2(db_appinit)2.547 E F0 2.547
(\(3\). Speci\214cally).68 F(,)-.65 E F2(DbLo)2.548 E(g::open)-.1 E F0
.048(is af)2.548 F .048(fected by the con\214gu-)-.25 F(ration string v)
133 580.8 Q(alue of DB_LOG_DIR.)-.25 E(TMPDIR)108 597.6 Q .956(If the)
133 609.6 R F2(dben)3.456 E(v)-.4 E F0(ar)3.456 E .956(gument to)-.18 F
F2(DbLo)3.456 E(g::open)-.1 E F0 -.1(wa)3.456 G 3.456(sN).1 G .956
(ULL or not initialized using)-3.456 F F2(db_appinit)3.455 E F0 3.455
(,t).68 G .955(he en)-3.455 F(viron-)-.4 E .7(ment v)133 621.6 R .7(ariable TMPDIR may be used as the directory in which to create the log, as described in the)
-.25 F F2(DbLo)133 633.6 Q(g::open)-.1 E F0(section abo)2.5 E -.15(ve)
-.15 G(.).15 E F1(ERR)72 650.4 Q(ORS)-.27 E F0 .05(Methods mark)108
662.4 R .05(ed as returning)-.1 F F2(errno)2.55 E F0 .049(will, by def)
2.55 F .049(ault, thro)-.1 F 2.549(wa)-.25 G 2.549(ne)-2.549 G .049
(xception that encapsulates the error informa-)-2.699 F 2.5(tion. The)
108 674.4 R(def)2.5 E(ault error beha)-.1 E(vior can be changed, see)-.2
E F2(DbException)2.5 E F0(\(3\).).24 E(The)108 691.2 Q F2(DbLo)2.5 E
(g::open)-.1 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G F2
(DbException)A F0(\(3\)).24 E(or return)108 715.2 Q F2(errno)2.5 E F0
(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbLog::close\(3\),)-.25 E
(DbLog::unlink\(3\), atoi\(3\), close\(2\), db_v)108 727.2 Q
(ersion\(3\), fcntl\(2\), f)-.15 E
(\215ush\(3\), lseek\(2\), malloc\(3\), memcp)-.25 E(y\(3\),)-.1 E
(May 10, 1998)278.085 768 Q(7)201.085 E EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R(memset\(3\), mmap\(2\), munmap\(2\), open\(2\), opendir\(3\), read\(2\), readdir\(3\), realloc\(3\), sig\214llset\(3\), sigproc-)
108 84 Q(mask\(2\), stat\(2\), strchr\(3\), strcp)108 96 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), strncmp\(3\), unlink\(2\), and write\(2\).)
-.1 E .524(In addition, the)108 112.8 R/F1 10/Times-Italic@0 SF(DbLo)
3.023 E(g::open)-.1 E F0 .523(method may f)3.023 F .523(ail and thro)-.1
F 3.023(wa)-.25 G F1(DbException)A F0 .523(\(3\) or return).24 F F1
(errno)3.023 E F0 .523(for the follo)3.023 F(w-)-.25 E(ing conditions:)
108 124.8 Q([EA)108 141.6 Q(GAIN])-.4 E(The shared memory re)133 153.6 Q
(gion w)-.15 E(as lock)-.1 E(ed and \(repeatedly\) una)-.1 E -.25(va)-.2
G(ilable.).25 E([EINV)108 170.4 Q(AL])-1.35 E(An in)133 182.4 Q -.25(va)
-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1
E(The DB_THREAD \215ag w)133 206.4 Q(as speci\214ed and spinlocks are not implemented for this architecture.)
-.1 E(The speci\214ed \214le size w)133 230.4 Q(as too lar)-.1 E(ge.)
-.18 E(The)108 247.2 Q F1(DbLo)2.5 E(g::close)-.1 E F0(method may f)2.5
E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 271.2 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 283.2 S(ush\(3\), munmap\(2\), and strerror\(3\).).25 E(The)
108 300 Q F1(DbLo)2.5 E(g::\215ush)-.1 E F0(method may f)2.5 E
(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 324 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 336 S(ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcp).25
E(y\(3\), memset\(3\), open\(2\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(stat\(2\), strcp)108 348 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), unlink\(2\), and write\(2\).)
-.1 E .558(In addition, the)108 364.8 R F1(DbLo)3.058 E(g::\215ush)-.1 E
F0 .558(method may f)3.058 F .558(ail and thro)-.1 F 3.057(wa)-.25 G F1
(DbException)A F0 .557(\(3\) or return).24 F F1(errno)3.057 E F0 .557
(for the follo)3.057 F(w-)-.25 E(ing conditions:)108 376.8 Q([EINV)108
393.6 Q(AL])-1.35 E(An in)133 405.6 Q -.25(va)-.4 G(lid \215ag v).25 E
(alue or parameter w)-.25 E(as speci\214ed.)-.1 E(The)108 422.4 Q F1
(DbLo)2.5 E(g::g)-.1 E(et)-.1 E F0(method may f)2.5 E(ail and thro)-.1 E
2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 446.4 Q F1
(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: atoi\(3\), close\(2\),)-.25 E
(fcntl\(2\), f)108 458.4 Q(\215ush\(3\), lseek\(2\), malloc\(3\), memcp)
-.25 E
(y\(3\), memset\(3\), open\(2\), opendir\(3\), read\(2\), readdir\(3\),)
-.1 E(realloc\(3\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strchr\(3\), strcp)
108 470.4 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\),)-.1 E
(strncmp\(3\), and unlink\(2\).)108 482.4 Q .39(In addition, the)108
499.2 R F1(DbLo)2.89 E(g::g)-.1 E(et)-.1 E F0 .39(method may f)2.89 F
.39(ail and thro)-.1 F 2.89(wa)-.25 G F1(DbException)A F0 .39
(\(3\) or return).24 F F1(errno)2.89 E F0 .39(for the follo)2.89 F(wing)
-.25 E(conditions:)108 511.2 Q([EINV)108 528 Q(AL])-1.35 E(An in)133 540
Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E
(as speci\214ed.)-.1 E(The DB_FIRST \215ag w)133 564 Q
(as speci\214ed and no log \214les were found.)-.1 E(The)108 580.8 Q F1
(DbLo)2.5 E(g::\214le)-.1 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5
(wa)-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 604.8 Q F1
(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 616.8 S(ush\(3\), malloc\(3\), memcp).25 E(y\(3\), memset\(3\), open\(2\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)
-.1 E(y\(3\),)-.1 E
(strdup\(3\), strerror\(3\), strlen\(3\), and unlink\(2\).)108 628.8 Q
.383(In addition, the)108 645.6 R F1(DbLo)2.883 E(g::\214le)-.1 E F0
.384(method may f)2.883 F .384(ail and thro)-.1 F 2.884(wa)-.25 G F1
(DbException)A F0 .384(\(3\) or return).24 F F1(errno)2.884 E F0 .384
(for the follo)2.884 F(wing)-.25 E(conditions:)108 657.6 Q([ENOMEM])108
674.4 Q(The supplied b)133 686.4 Q(uf)-.2 E(fer w)-.25 E
(as too small to hold the log \214le name.)-.1 E(The)108 703.2 Q F1
(DbLo)2.5 E(g::put)-.1 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5
(wa)-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 727.2 Q F1
(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E
(May 10, 1998)278.085 768 Q(8)201.085 E EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R -.25<668d>
108 84 S(ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcp).25 E
(y\(3\), memset\(3\), open\(2\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(stat\(2\), strcp)108 96 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
-.1 E .349(In addition, the)108 112.8 R/F1 10/Times-Italic@0 SF(DbLo)
2.849 E(g::put)-.1 E F0 .349(method may f)2.849 F .349(ail and thro)-.1
F 2.849(wa)-.25 G F1(DbException)A F0 .349(\(3\) or return).24 F F1
(errno)2.848 E F0 .348(for the follo)2.848 F(wing)-.25 E(conditions:)108
124.8 Q([EINV)108 141.6 Q(AL])-1.35 E(An in)133 153.6 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
(The record to be logged is lar)133 177.6 Q
(ger than the maximum log record.)-.18 E(The)108 194.4 Q F1(DbLo)2.5 E
(g::unlink)-.1 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)-.25 G
F1(DbException)A F0(\(3\)).24 E(or return)108 218.4 Q F1(errno)2.5 E F0
(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 230.4 S(ush\(3\), malloc\(3\), memcp).25 E(y\(3\), memset\(3\), mmap\(2\), munmap\(2\), open\(2\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(stat\(2\), strcp)108 242.4 Q
(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), and unlink\(2\).)-.1 E
.175(In addition, the)108 259.2 R F1(DbLo)2.675 E(g::unlink)-.1 E F0
.175(method may f)2.675 F .176(ail and thro)-.1 F 2.676(wa)-.25 G F1
(DbException)A F0 .176(\(3\) or return).24 F F1(errno)2.676 E F0 .176
(for the follo)2.676 F(w-)-.25 E(ing conditions:)108 271.2 Q([EB)108 288
Q(USY])-.1 E(The shared memory re)133 300 Q(gion w)-.15 E
(as in use and the force \215ag w)-.1 E(as not set.)-.1 E(The)108 316.8
Q F1(DbLo)2.5 E(g::ar)-.1 E -.15(ch)-.37 G(ive).15 E F0(method may f)2.5
E(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 340.8 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: DbLog::com-)-.25 E
(pare\(3\), DbLog::get\(3\), close\(2\), fcntl\(2\), f)108 352.8 Q
(\215ush\(3\), getcwd\(3\), malloc\(3\), memcp)-.25 E
(y\(3\), memset\(3\), open\(2\),)-.1 E(qsort\(3\), realloc\(3\), sig\214llset\(3\), sigprocmask\(2\), stat\(2\), strchr\(3\), strcmp\(3\), strcp)
108 364.8 Q(y\(3\), strdup\(3\), str)-.1 E(-)-.2 E
(error\(3\), strlen\(3\), and unlink\(2\).)108 376.8 Q .818
(In addition, the)108 393.6 R F1(DbLo)3.318 E(g::ar)-.1 E -.15(ch)-.37 G
(ive).15 E F0 .818(method may f)3.318 F .818(ail and thro)-.1 F 3.318
(wa)-.25 G F1(DbException)A F0 .818(\(3\) or return).24 F F1(errno)3.318
E F0 .819(for the fol-)3.318 F(lo)108 405.6 Q(wing conditions:)-.25 E
([EINV)108 422.4 Q(AL])-1.35 E(An in)133 434.4 Q -.25(va)-.4 G
(lid \215ag v).25 E(alue or parameter w)-.25 E(as speci\214ed.)-.1 E
(The log w)133 458.4 Q(as corrupted.)-.1 E(The)108 475.2 Q F1(DbLo)2.5 E
(g::db_r)-.1 E -.4(eg)-.37 G(ister).4 E F0(method may f)2.5 E
(ail and thro)-.1 E 2.5(wa)-.25 G F1(DbException)A F0(\(3\)).24 E
(or return)108 499.2 Q F1(errno)2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5
(ft)-2.5 G(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 511.2 S
(ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcmp\(3\), memcp).25 E
(y\(3\), memset\(3\), open\(2\), realloc\(3\), sig-)-.1 E
(\214llset\(3\), sigprocmask\(2\), stat\(2\), strcp)108 523.2 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and)
-.1 E(write\(2\).)108 535.2 Q .944(In addition, the)108 552 R F1(DbLo)
3.444 E(g::db_r)-.1 E -.4(eg)-.37 G(ister).4 E F0 .944(method may f)
3.444 F .944(ail and thro)-.1 F 3.444(wa)-.25 G F1(DbException)A F0 .944
(\(3\) or return).24 F F1(errno)3.444 E F0 .944(for the)3.444 F(follo)
108 564 Q(wing conditions:)-.25 E([EINV)108 580.8 Q(AL])-1.35 E(An in)
133 592.8 Q -.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E
(as speci\214ed.)-.1 E(The)108 609.6 Q F1(DbLo)2.5 E(g::db_unr)-.1 E -.4
(eg)-.37 G(ister).4 E F0(method may f)2.5 E(ail and thro)-.1 E 2.5(wa)
-.25 G F1(DbException)A F0(\(3\)).24 E(or return)108 633.6 Q F1(errno)
2.5 E F0(for an)2.5 E 2.5(yo)-.15 G 2.5(ft)-2.5 G
(he errors speci\214ed for the follo)-2.5 E
(wing DB and library functions: close\(2\), fcntl\(2\),)-.25 E -.25
<668d>108 645.6 S(ush\(3\), fsync\(2\), lseek\(2\), malloc\(3\), memcp)
.25 E
(y\(3\), memset\(3\), open\(2\), sig\214llset\(3\), sigprocmask\(2\),)
-.1 E(stat\(2\), strcp)108 657.6 Q(y\(3\), strdup\(3\), strerror\(3\), strlen\(3\), time\(3\), unlink\(2\), and write\(2\).)
-.1 E .278(In addition, the)108 674.4 R F1(DbLo)2.778 E(g::db_unr)-.1 E
-.4(eg)-.37 G(ister).4 E F0 .278(method may f)2.778 F .277(ail and thro)
-.1 F 2.777(wa)-.25 G F1(DbException)A F0 .277(\(3\) or return).24 F F1
(errno)2.777 E F0 .277(for the)2.777 F(follo)108 686.4 Q
(wing conditions:)-.25 E([EINV)108 703.2 Q(AL])-1.35 E(An in)133 715.2 Q
-.25(va)-.4 G(lid \215ag v).25 E(alue or parameter w)-.25 E
(as speci\214ed.)-.1 E(May 10, 1998)278.085 768 Q(9)201.085 E EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF 385.52(DbLog\(3\) DbLog\(3\))72 48 R/F1 9
/Times-Bold@0 SF -.09(BU)72 84 S(GS).09 E F0 .128
(The log \214les are not machine architecture independent.)108 96 R
(Speci\214cally)5.128 E 2.628(,t)-.65 G .128
(heir metadata are not stored in a \214x)-2.628 F(ed)-.15 E(byte order)
108 108 Q(.)-.55 E F1(SEE ALSO)72 124.8 Q/F2 10/Times-Italic@0 SF(db_ar)
108 136.8 Q -.15(ch)-.37 G(ive).15 E F0(\(1\),).18 E F2(db_c)2.5 E(hec)
-.15 E(kpoint)-.2 E F0(\(1\),).68 E F2(db_deadloc)2.5 E(k)-.2 E F0
(\(1\),).67 E F2(db_dump)2.5 E F0(\(1\),).19 E F2(db_load)2.5 E F0
(\(1\),).77 E F2(db_r)2.5 E(eco)-.37 E(ver)-.1 E F0(\(1\),).73 E F2
(db_stat)2.5 E F0(\(1\),).68 E F2(db_intr)108 148.8 Q(o)-.45 E F0
(\(3\),).18 E F2(db_internal)2.5 E F0(\(3\),).51 E F2(db_thr)2.5 E(ead)
-.37 E F0(\(3\),).77 E F2(Db)2.5 E F0(\(3\),).23 E F2(Dbc)2.5 E F0
(\(3\),).31 E F2(DbEn)2.5 E(v)-.4 E F0(\(3\),).32 E F2(DbException)2.5 E
F0(\(3\),).24 E F2(DbInfo)2.5 E F0(\(3\),).18 E F2(DbLoc)108 160.8 Q(k)
-.2 E F0(\(3\),).67 E F2(DbLoc)2.5 E(kT)-.2 E(ab)-.92 E F0(\(3\),).23 E
F2(DbLo)2.5 E(g)-.1 E F0(\(3\),).22 E F2(DbLsn)2.5 E F0(\(3\),).24 E F2
(DbMpool)2.5 E F0(\(3\),).51 E F2(DbMpoolF)2.5 E(ile)-.45 E F0(\(3\),)
.18 E F2(Dbt)2.5 E F0(\(3\),).68 E F2(DbTxn)2.5 E F0(\(3\),).24 E F2
(DbTxnMgr)108 172.8 Q F0(\(3\)).73 E(May 10, 1998)278.085 768 Q(10)
196.085 E EP
%%Trailer
end
%%EOF
