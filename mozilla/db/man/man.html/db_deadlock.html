<HTML>
<HEAD>
<TITLE>db_deadlock</TITLE>
</HEAD>
<BODY BGCOLOR=white>
<H1>db_deadlock</H1>
<HR SIZE=1 NOSHADE>
<PRE>
<!-- Manpage converted by man2html 3.0.1 -->
       <B>db</B>_<B>deadlock</B> [<B>-vw</B>] [<B>-a</B> <B>m</B> <B>|</B> <B>o</B> <B>|</B> <B>y</B>] [<B>-h</B> <B>home</B>] [<B>-L</B> <B>file</B> ] [<B>-t</B> <B>sec</B> ]


</PRE>
<H2>DESCRIPTION</H2><PRE>
       The   db_deadlock  utility  traverses  the  database  lock
       structures and aborts a transaction each time it detects a
       deadlock.   This  utility  should  be  run as a background
       daemon whenever multiple threads or  processes  are  using
       locking.  By default, a random transaction involved in the
       deadlock is aborted.

       The options are as follows:

       <B>-a</B>   When a deadlock is detected, abort the oldest (``o'')
            transaction, the youngest (``y'') transaction, or the
            transaction with the minimum number of locks (``m'').

       <B>-h</B>   Specify a home directory for the database.

       <B>-L</B>   Log  the  execution of the db_deadlock utility to the
            specified file in the following format, where ``###''
            is  the  process  ID,  and  the  date is the time the
            utility starting running.

            db_deadlock: ### Wed Jun 15 01:23:45 EDT 1995

            This file will be removed if the db_deadlock  utility
            exits gracefully.

       <B>-t</B>   Initiate  a  pass  over  the  database locks at least
            every sec seconds.

       <B>-v</B>   Run in verbose mode, generating  messages  each  time
            the detector runs.

       <B>-w</B>   Make a single pass over the database locks every time
            a process is forced to wait for a lock.

       At least one of the <B>-t</B> and <B>-w</B> options must be specified.

       The db_deadlock  utility  attaches  to  DB  shared  memory
       regions.   In  order to avoid region corruption, it should
       always be given the chance to detach and exit  gracefully.
       To  cause  db_deadlock  to clean up after itself and exit,
       send it an interrupt signal (SIGINT).

       The db_deadlock utility exits 0 on success, and &gt;0  if  an
       error occurs.


</PRE>
<H2>ENVIRONMENT VARIABLES</H2><PRE>
       The  following  environment variables affect the execution
       of db_deadlock:

       DB_HOME
            If the <B>-h</B> option is not specified and the environment
            variable  DB_HOME  is  set, it is used as the path of
            the database home, as described in <B><A HREF="db_appinit.html">db_appinit(3)</A></B>.


</PRE>
<H2>SEE ALSO</H2><PRE>
       The DB library is a family of  groups  of  functions  that
       provides  a  modular programming interface to transactions
       and record-oriented file  access.   The  library  includes
       support  for  transactions, locking, logging and file page
       caching, as well as various indexed access methods.   Many
       of  the  functional  groups  (e.g.,  the file page caching
       functions)  are  useful  independent  of  the   other   DB
       functions,  although some functional groups are explicitly
       based on other functional groups (e.g.,  transactions  and
       logging).   For  a  general description of the DB package,
       see <B><A HREF="db_intro.html">db_intro(3)</A></B>.

       <B><A HREF="db_archive.html">db_archive(1)</A></B>, <B><A HREF="db_checkpoint.html">db_checkpoint(1)</A></B>, <B><A HREF="db_deadlock.html">db_deadlock(1)</A></B>, <B><A HREF="db_dump.html">db_dump(1)</A></B>,
       <B><A HREF="db_load.html">db_load(1)</A></B>, <B><A HREF="db_recover.html">db_recover(1)</A></B>, <B><A HREF="db_stat.html">db_stat(1)</A></B>, <B><A HREF="db_intro.html">db_intro(3)</A></B>,
       <B><A HREF="db_appinit.html">db_appinit(3)</A></B>, <B><A HREF="db_cursor.html">db_cursor(3)</A></B>, <B><A HREF="db_dbm.html">db_dbm(3)</A></B>, <B><A HREF="db_internal.html">db_internal(3)</A></B>,
       <B><A HREF="db_lock.html">db_lock(3)</A></B>, <B><A HREF="db_log.html">db_log(3)</A></B>, <B><A HREF="db_mpool.html">db_mpool(3)</A></B>, <B><A HREF="db_open.html">db_open(3)</A></B>, <B><A HREF="db_thread.html">db_thread(3)</A></B>,
       <B><A HREF="db_txn.html">db_txn(3)</A></B>

</PRE>
<HR SIZE=1 NOSHADE>
<ADDRESS>
Man(1) output converted with
<a href="http://www.oac.uci.edu/indiv/ehood/man2html.html">man2html</a>
</ADDRESS>
</BODY>
</HTML>
