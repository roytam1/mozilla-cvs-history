# ***** BEGIN LICENSE BLOCK *****
# Version: MPL 1.1/GPL 2.0/LGPL 2.1
#
# The contents of this file are subject to the Mozilla Public License Version
# 1.1 (the "License"); you may not use this file except in compliance with
# the License. You may obtain a copy of the License at
# http://www.mozilla.org/MPL/
#
# Software distributed under the License is distributed on an "AS IS" basis,
# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
# for the specific language governing rights and limitations under the
# License.
#
# The Original Code is Mozilla packaging code.
#
# The Initial Developer of the Original Code is
# Benjamin Smedberg <bsmedberg@covad.net>
# Portions created by the Initial Developer are Copyright (C) 2003
# the Initial Developer. All Rights Reserved.
#
# Contributor(s):
#
# Alternatively, the contents of this file may be used under the terms of
# either the GNU General Public License Version 2 or later (the "GPL"), or
# the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
# in which case the provisions of the GPL or the LGPL are applicable instead
# of those above. If you wish to allow use of your version of this file only
# under the terms of either the GPL or the LGPL, and not to allow others to
# use your version of this file under the terms of the MPL, indicate your
# decision by deleting the provisions above and replace them with the notice
# and other provisions required by the GPL or the LGPL. If you do not delete
# the provisions above, a recipient may use your version of this file under
# the terms of any one of the MPL, the GPL or the LGPL.
#
# ***** END LICENSE BLOCK *****

# Master List of Packages
#
# This file lists package dependencies, and is
# parsed by MozParser.pm (MozPackages::*)
#
# DO NOT ALTER THIS FILE WITHOUT APPROVAL FROM
# Benjamin Smedberg <bsmedberg@covad.net>

# Since the packaging system obeys most configuration options, you normally
# don't need to alter package files to build special configurations. Instead,
# use the correct configure options to enable-disable features/extensions

nspr                   :
nspr-devel             :

# xpcom does not depend on NSPR because
# they are separate RPMs
xpcom                  :

# these are core files needed to bootstrap the xpi stub installer
xpi-bootstrap          : nspr xpcom

# The 'gecko' target builds minimo, embedding, GRE, and everything else. Don't
# alter it without approval from dougt.
gecko                  : nspr xpcom

# This package should eventually disappear. It includes prefs and
# extras that *ought* to be in the gecko package, but can't be yet for
# technical reasons). Don't even think about adding more to it.
gecko-support          :

# This will package the SDK, but it's not done yet
gecko-devel            :

# the build process builds many test programs and files, most of which
# don't need to be packaged. But some people might want these files, so
# we give them a package.
xpcom-tests            :
gecko-tests            : xpcom-tests

nss                    :
# nss-devel in the future

# psm doesn't depend on nss because they are separate RPMs
# although this might change if a GRE RPM comes to fruition
psm                    :
psm-support            :
# psm-devel in the future

# This package is locked down. Any significant changes must be approved by
# dougt.
gre                    : gecko nss psm

# This package will disappear as well. It contains embed.jar
# xxxbsmedberg is there a way to not have to ship NSPR with applications?
gre-support            : nspr gecko-support psm-support

# wallet itself is part of gecko, but the viewers are not needed by FB, etc
walletviewers          :

xpfe-browser           : nspr gecko-support psm-support walletviewers
xpfe-lang-enUS         :
xpfe-locale-US         :
xpfe-default-US        :
xpfe-mailnews          :
xpfe-editor            :

# the XPIs of the above packages contain install.js
gre-xpi                : gre ^xpi-bootstrap
# the PSM XPI is for non-GRE platforms. On GRE platforms NSS/PSM are
# integrated with the GRE.
psm-xpi                : nss psm
xpfe-browser-xpi       : xpfe-browser
xpfe-lang-enUS-xpi     : xpfe-lang-enUS
xpfe-locale-US-xpi     : xpfe-locale-US
xpfe-default-US-xpi    : xpfe-default-US
xpfe-mailnews-xpi      : xpfe-mailnews
# xpfe-editor-xpi        : xpfe-editor

#
# various embedding targets
#

# some use a separately-installed GRE
mfcembed               : gre-support walletviewers

# some don't use a GRE (yet, maybe ever)
minimo                 : gecko nss psm psm-support
winembed               : gecko nss psm psm-support walletviewers
gtkembed               : gecko nss psm psm-support walletviewers

# this currently has fb/tb ifdefs that make it impossible to package
# independently of the particular app, which sucks... see bug 211849
toolkit                : gecko-support

# THE NEXT TWO ARE NOT COMPLETE, DON'T EXPECT THEM TO WORK CORRECTLY

# firebird (using separate GRE)
browser                : toolkit
# thunderbird (using separate GRE)
mail                   : toolkit

# Most extensions build the same files/XPI for both seamonkey and firebird
venkman                :
venkman-xpi            : venkman
inspector              :
inspector-xpi          : inspector
chatzilla              :
chatzilla-xpi          : chatzilla
calendar               :
calendar-xpi           : calendar

# Unless you do special release stuff, this just builds
# a dummy XPI
talkback               :
talkback-xpi           : talkback

# the core spellcheck engine is split from the dictionaries
spellcheck             :
spellcheck-enUS        :

spellcheck-enUS-xpi    : spellcheck spellcheck-enUS

# COMPLETE INSTALLATION TARGETS

# seamonkey installer packages. Right now these are only useful
# for the unix installer. win32 & os2 use a specialty tool nsztool
# and a special makeall.pl script
seamonkey-installer-stub-en     :
seamonkey-installer-en          :

# seamonkey "stub installer xpi"
seamonkey-installer-stub-en-xpi :

seamonkeygre-enUS      : xpfe-browser xpfe-lang-enUS xpfe-locale-US xpfe-default-US xpfe-mailnews xpfe-editor venkman inspector chatzilla talkback
# seamonkey with the GRE (nightly tarball)
seamonkeyall-enUS      : seamonkeygre-enUS gre

# there are some runtime files that should never be packaged. In order for
# the dump-packages "unpackaged files" warning to be meaningful, we need
# to warn it about these files:
unpackaged-files       :
