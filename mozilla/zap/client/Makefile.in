DEPTH		= ../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

DIRS 		= profile src components

MODULE		= zap
export XPI_NAME	= zap

PREF_JS_EXPORTS	= $(srcdir)/zap-prefs.js
DIST_FILES	= application.ini
DIST_CHROME_FILES = chrome.manifest

ifneq (,$(filter windows,$(MOZ_WIDGET_TOOLKIT)))
ICONS		= icons/zap.ico
endif
ifneq (,$(filter gtk gtk2,$(MOZ_WIDGET_TOOLKIT)))
ICONS		= icons/zap.xpm icons/zap16.xpm
endif

include $(topsrcdir)/config/rules.mk

ifneq (,$(ICONS))
libs:: $(ICONS)
	$(INSTALL) $^ $(FINAL_TARGET)/chrome/icons/default
endif
