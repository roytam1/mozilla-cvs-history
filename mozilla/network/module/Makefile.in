#!gmake
#
# The contents of this file are subject to the Netscape Public License
# Version 1.0 (the "NPL"); you may not use this file except in
# compliance with the NPL.  You may obtain a copy of the NPL at
# http://www.mozilla.org/NPL/
#
# Software distributed under the NPL is distributed on an "AS IS" basis,
# WITHOUT WARRANTY OF ANY KIND, either express or implied. See the NPL
# for the specific language governing rights and limitations under the
# NPL.
#
# The Initial Developer of this code under the NPL is Netscape
# Communications Corporation.  Portions created by Netscape are
# Copyright (C) 1998 Netscape Communications Corporation.  All Rights
# Reserved.

DEPTH		= ../..
topsrcdir	= @top_srcdir@
srcdir		= @srcdir@
VPATH		= @srcdir@

include $(DEPTH)/config/autoconf.mk

MODULE		= netlib
LIBRARY_NAME	= netlib

CPPSRCS		= \
		  nsNetService.cpp \
		  nsNetThread.cpp \
		  nsNetStream.cpp \
		  nsNetStreamLoader.cpp \
		  nsHttpUrl.cpp \
		  nsStubContext.cpp \
		  nsNetStubs.cpp \
		  nsNetFile.cpp \
		  nsNetIDs.cpp \
		  nsLoadAttribs.cpp \
		  nsNetFactory.cpp \
		  nsHttpURLFactory.cpp \
		  nsSocketTransport.cpp \
		  $(NULL)

EXPORTS		= \
		  nsINetService.h \
		  nsINetSupport.h \
		  nsIRelatedLinks.h \
		  nsIRefreshUrl.h \
		  nsIConnectionInfo.h \
		  nsIURLGroup.h \
		  nsINetlibURL.h \
		  nsIProtocol.h \
		  nsIProtocolURLFactory.h \
		  nsIUnicharStreamLoader.h \
		  nsSocketTransport.h \
		  $(NULL)

ifdef ENABLE_TESTS
DIRS		+= tests
endif

EXPORTS		:= $(addprefix $(srcdir)/, $(EXPORTS))

include $(topsrcdir)/config/rules.mk

IMAGES		= \
		  $(srcdir)/res/gopher-audio.gif \
		  $(srcdir)/res/gopher-binary.gif \
		  $(srcdir)/res/gopher-find.gif \
		  $(srcdir)/res/gopher-image.gif \
		  $(srcdir)/res/gopher-menu.gif \
		  $(srcdir)/res/gopher-movie.gif \
		  $(srcdir)/res/gopher-telnet.gif \
		  $(srcdir)/res/gopher-text.gif \
		  $(srcdir)/res/gopher-unknown.gif \
		  $(NULL)

GARBAGE		+= $(wildcard $(DIST)/bin/res/network/gopher-*.gif)

install::
	$(INSTALL) $(IMAGES) $(DIST)/bin/res/network

