<?xml version="1.0"?> 
<?xml-stylesheet href="chrome://communicator/skin/tasksOverlay.css" type="text/css"?> 

<!DOCTYPE window [
<!ENTITY % tasksDTD SYSTEM "chrome://communicator/locale/tasksOverlay.dtd" >
%tasksDTD;
]>

<!-- <?xul-overlay href="chrome://communicator/content/taskbarOverlay.xul"?>  -->

<overlay id="tasksOverlay"
      xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<script type="application/x-javascript" src="chrome://communicator/content/tasksOverlay.js"/>



<keyset id="tasksKeys">
  <key id="key_navigator"    key="&navigatorCmd.commandkey;"   command="Tasks:Navigator" modifiers="accel"/>
  <key id="key_editor"       key="&editorCmd.commandkey;"      command="Tasks:Editor" modifiers="accel"/>

  <!-- Tools Menu -->
  <key id="key_gotoHistory"  key="&history.commandKey;"        oncommand="toHistory();" modifiers="accel"/>
</keyset>
<commandset id="tasksCommands">
  <command id="Tasks:Navigator" oncommand="toNavigator();"/>
  <command id="Tasks:Editor" oncommand="toEditor();"/>
</commandset>


      <!-- Tasks Menu -->
      <menu id="tasksMenu" label="&tasksMenu.label;" accesskey="&tasksMenu.accesskey;" datasources="rdf:window-mediator" ref="NC:WindowMediatorRoot"
            onpopupshown="checkFocusedWindow();">
        <template>
          <rule>
            <menupopup>
              <menuitem uri="rdf:*" label="rdf:http://home.netscape.com/NC-rdf#KeyIndex rdf:http://home.netscape.com/NC-rdf#Name" type="radio"
                        oncommand="ShowWindowFromResource(event.target)" accesskey="rdf:http://home.netscape.com/NC-rdf#KeyIndex"/>
            </menupopup>
          </rule>
        </template>

        <menupopup id="taskPopup">
          <menuitem label="&navigatorCmd.label;" accesskey="&navigatorCmd.accesskey;" key="key_navigator" command="Tasks:Navigator" id="tasksMenuNavigator"/>
          <menuitem label="&editorCmd.label;" accesskey="&editorCmd.accesskey;" key="key_editor" command="Tasks:Editor" id="tasksMenuEditor"/>

          <!-- Overlays get stuffed in here. -->

          <menuseparator/>

          <menu label="&privacyMenu.label;" accesskey="&privacyMenu.accesskey;">
            <menupopup  id="personalManagers">
              <menuitem id="lastInPersonalManagers" hidden="true"/>
            </menupopup>
           </menu>
         <menuseparator/>

          <menu label="&toolsMenu.label;" accesskey="&toolsMenu.accesskey;">
            <menupopup id="toolsPopup" onpopupshowing="javaItemEnabling();">
              <menuitem label="&historyCmd.label;" accesskey="&historyCmd.accesskey;" oncommand="toHistory()" key="key_gotoHistory"/>
              <menuitem label="&importUtilCmd.label;" accesskey="&importUtilCmd.accesskey;" oncommand="toImport()"/>
              <menuitem id="java" label="&javaConsoleCmd.label;" accesskey="&javaConsoleCmd.accesskey;" oncommand="toJavaConsole()"/>
              <menuitem label="&javaScriptConsoleCmd.label;" accesskey="&javaScriptConsoleCmd.accesskey;" oncommand="toJavaScriptConsole();"/>
              <menuitem label="&downloadManagerCmd.label;" accesskey="&downloadManagerCmd.accesskey;" oncommand="toDownloadManager();"/>
            </menupopup>
          </menu>
          <menuseparator id="sep-window-list"/>

        </menupopup>
      </menu>

  <statusbarpanel id="component-bar" persist="collapsed">
    <toolbarbutton class="taskbutton" id="mini-nav" oncommand="toNavigator();" 
                   tooltiptext="&taskNavigator.tooltip;"/>
    <toolbarbutton class="taskbutton" id="mini-comp" oncommand="toEditor();" 
                   tooltiptext="&taskComposer.tooltip;"/>
  </statusbarpanel> 
</overlay>
