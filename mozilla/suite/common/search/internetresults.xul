<?xml version="1.0"?>
<?xml-stylesheet href="chrome://communicator/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://communicator/skin/search/search.css" type="text/css"?>
<?xml-stylesheet href="chrome://communicator/skin/search/internetresults.css" type="text/css"?>
<?xml-stylesheet href="chrome://communicator/skin/search/icons.css" type="text/css"?>

<!DOCTYPE window SYSTEM "chrome://communicator/locale/search/internetresults.dtd">

<window class="color-dialog" orient="vertical" onload="onLoadInternetResults()"
	      xmlns:html="http://www.w3.org/TR/REC-html40"
	      xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
	      xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
	      context="disallowcontext">

	<popupset>
		<popup id="disallowcontext" oncreate="return(false);" />
	</popupset>

	<script src="chrome://global/content/strres.js"></script>
	<script src="chrome://communicator/content/search/internetresults.js"></script>
	<script src="chrome://communicator/content/search/shared.js"></script>

  <box id="multi-results-header"> 
    <text value="&results.header.label;"/>
    <spring flex="1"/>
  </box>

  <box id="engineTabs" ref="NC:SearchResultsSitesRoot" datasources="rdf:internetsearch">
  	<template>
	  	<button uri="..." onclick="doEngineClick(event, this)" crop="right" 
              src="rdf:http://home.netscape.com/NC-rdf#StatusIcon" 
              value="rdf:http://home.netscape.com/NC-rdf#Name" 
              loading="rdf:http://home.netscape.com/NC-rdf#loading" />
  	</template>
	  <button id="allEngines" onclick="doEngineClick(event, this)" value="&allresults.title.label;"/>
	  <spring style="width: 1em;"/>
	  <text value="&viewbyprovider.label;"/>
	  <spring style="width: .25em;"/>
  </box>

  <popupset>
	  <popup id="contextual" oncreate="return fillContextMenu('contextual', 'internetresultstree');" >
		  <menu />
  	</popup>
	</popupset>
	<tree id="internetresultstree" ref="" flex="1" datasources="rdf:internetsearch" context="contextual"
		onclick="if (event.detail == 2) return searchResultsOpenURL(event, event.target.parentNode.parentNode); else return doResultClick(event.target.parentNode.parentNode);">

		<treecol id="NameColumn" rdf:resource="http://home.netscape.com/NC-rdf#Name"/>
		<treecol id="PageRankColumn" rdf:resource="http://home.netscape.com/NC-rdf#PageRank"
				rdf:resource2="http://home.netscape.com/NC-rdf#Name" />
		<treecol id="RelevanceColumn" rdf:resource="http://home.netscape.com/NC-rdf#Relevance"
				rdf:resource2="http://home.netscape.com/NC-rdf#Name"
				style="width: 0; visibility: collapse;" />
		<treecol id="PriceColumn" rdf:resource="http://home.netscape.com/NC-rdf#Price"
				rdf:resource2="http://home.netscape.com/NC-rdf#Availability"
				style="width: 0; visibility: collapse;" />
		<treecol id="AvailabilityColumn" rdf:resource="http://home.netscape.com/NC-rdf#Availability"
				rdf:resource2="http://home.netscape.com/NC-rdf#Price"
				style="width: 0; visibility: collapse;" />
		<treecol id="DateColumn" rdf:resource="http://home.netscape.com/NC-rdf#Date"
				rdf:resource2="http://home.netscape.com/NC-rdf#Name"
				style="width: 0; visibility: collapse;" />
		<treecol id="SiteColumn" rdf:resource="http://home.netscape.com/NC-rdf#Site"
				rdf:resource2="http://home.netscape.com/NC-rdf#Name" />
		<treecol id="EngineColumn" rdf:resource="http://home.netscape.com/NC-rdf#Engine"
				rdf:resource2="http://home.netscape.com/NC-rdf#Name" />

		<template>
			<rule rdf:type="http://home.netscape.com/NC-rdf#BookmarkSeparator">
				<treechildren>
  				<treeitem uri="..." rdf:type="rdf:http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
  					<treerow>
  						<treecell>
  							<separator class="groove"/>
  						</treecell>
  					</treerow>
  				</treeitem>  	
				</treechildren>	
			</rule>
			<rule>
				<treechildren>
  				<treeitem uri="..." rdf:type="rdf:http://www.w3.org/1999/02/22-rdf-syntax-ns#type">
  					<treerow>
  						<treecell class="treecell-iconic" crop="right"
                        src="rdf:http://home.netscape.com/NC-rdf#Icon" 
                        value="rdf:http://home.netscape.com/NC-rdf#Name" />
  						<treecell crop="right" value="rdf:http://home.netscape.com/NC-rdf#PageRank" />
  						<treecell>
  							<progressmeter align="horizontal" value="rdf:http://home.netscape.com/NC-rdf#Relevance" mode="normal" />
                <text crop="right" value="rdf:http://home.netscape.com/NC-rdf#Relevance"/>
  						</treecell>
  						<treecell crop="right" value="rdf:http://home.netscape.com/NC-rdf#Price" />
  						<treecell crop="right" value="rdf:http://home.netscape.com/NC-rdf#Availability" />
  						<treecell crop="right" value="rdf:http://home.netscape.com/NC-rdf#Date" />
  						<treecell crop="right" value="rdf:http://home.netscape.com/NC-rdf#Site" />
  						<treecell crop="right" value="rdf:http://home.netscape.com/NC-rdf#Engine" />
  					</treerow>
  				</treeitem>
				</treechildren>
			</rule>
		</template>

		<treehead>
			<treerow>
				<treecell id="NameCell" class="treecell-header sortDirectionIndicator"
					value="&name.column.label;" observes="NameColumn"
					resource="http://home.netscape.com/NC-rdf#Name"
					onclick="return doSort('NameColumn', null);" />
				<treecell id="PageRankCell" class="treecell-header sortDirectionIndicator"
					value="&pagerank.column.label;" observes="PageRankColumn"
					resource="http://home.netscape.com/NC-rdf#PageRank"
					onclick="return doSort('PageRankColumn', null);" />
				<treecell id="RelevanceCell" class="treecell-header sortDirectionIndicator"
					value="&relevance.column.label;" observes="RelevanceColumn"
					resource="http://home.netscape.com/NC-rdf#Relevance"
					onclick="return doSort('RelevanceColumn', null);" />
				<treecell id="PriceCell" class="treecell-header sortDirectionIndicator"
					value="&price.column.label;" observes="PriceColumn"
					resource="http://home.netscape.com/NC-rdf#Price"
					onclick="return doSort('PriceColumn', null);" />
				<treecell id="AvailabilityCell" class="treecell-header sortDirectionIndicator"
					value="&availability.column.label;" observes="AvailabilityColumn"
					resource="http://home.netscape.com/NC-rdf#Availability"
					onclick="return doSort('AvailabilityColumn', null);" />
				<treecell id="DateCell" class="treecell-header sortDirectionIndicator"
					value="&date.column.label;" observes="DateColumn"
					resource="http://home.netscape.com/NC-rdf#Date"
					onclick="return doSort('DateColumn', null);" />
				<treecell id="SiteCell" class="treecell-header sortDirectionIndicator"
					value="&site.column.label;" observes="SiteColumn"
					resource="http://home.netscape.com/NC-rdf#Site"
					onclick="return doSort('SiteColumn', null);" />
				<treecell id="EngineCell" class="treecell-header sortDirectionIndicator"
					value="&engine.column.label;" observes="EngineColumn"
					resource="http://home.netscape.com/NC-rdf#Engine"
					onclick="return doSort('EngineColumn', null);" />

			</treerow>
		</treehead>

	</tree>

	<splitter id="gray_horizontal_splitter" persist="state" collapse="after" />
	<iframe id="content" style="height: 100; width: 100%;" flex="100%" src="chrome://communicator/content/search/default.htm"/>

</window>
