<?xml version="1.0"?>
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>

<!DOCTYPE window
[
<!ENTITY appear.label "Appearance">
<!ENTITY fonts.label "Fonts">
<!ENTITY colors.label "Colors">
<!ENTITY navigator.label "Navigator">
<!ENTITY languages.label "Languages">
<!ENTITY applications.label "Applications">
<!ENTITY smartBrowse.label "Smart Browsing">
<!ENTITY mail.label "Mail &amp; Newsgroups">
<!ENTITY address.label "Addressing">
<!ENTITY mess.label "Messages">
<!ENTITY windowSet.label "Window Settings">
<!ENTITY copyFolder.label "Copies &amp; Folders">
<!ENTITY format.label "Formatting">
<!ENTITY return.label "Return Receipts">
<!ENTITY disk.label "Disk Space">
<!ENTITY compose.label "Composer">
<!ENTITY publish.label "Publish">
<!ENTITY offline.label "Offline">
<!ENTITY advance.label "Advanced">
<!ENTITY down.label "Download">
<!ENTITY cache.label "Cache">
<!ENTITY proxies.label "Proxies">
<!ENTITY smart.label "Smart Update">
]>

<window xmlns:html="http://www.w3.org/TR/REC-html40"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        onload="ChangePanelURL(pref-appearance.xul);"
        style="overflow: visible;"> 
<html:script>
	
	var prefwindow = null;
	
	function ClickChangePanel(node)
	{
		dump("node = " + node + "\n");
		url = node.getAttribute('name');
		dump("url = " + url + "\n");
		ChangePanelURL(url);
	}

	function ChangePanelURL(url)
	{
		dump("\Loading " + url + "...\n");
		dump("Looking up prefwindow object...\n");
		if (prefwindow == null)
		{
		    dump("Creating prefwindow object...");
	        prefwindow = Components.classes['component://netscape/prefwindow'].createInstance(Components.interfaces.nsIPrefWindow);
			dump("...created\n");
		}
		else
		{
			dump("prefwindow has already been created! Hurrah!\n");
		}
		if (prefwindow)
		{
			prefwindow.changePanel(url);
		}
		return true;
	}

</html:script>
<html:div flex="100%">
<tree onclick="return ClickChangePanel(event.target);"> 
  <treecol style="width:100%" />
  <treechildren>
    <treeitem open="true">
      <treerow>   
        <treecell name="chrome://pref/content/pref-appearance.xul"><treeindentation/>&appear.label;</treecell>
      </treerow>
      <treechildren>
        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-fonts.xul"><treeindentation/>&fonts.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-colors.xul"><treeindentation/>&colors.label;</treecell>
          </treerow>
        </treeitem>
      </treechildren>
    </treeitem>

    <treeitem open="true">
      <treerow>
        <treecell name="chrome://pref/content/pref-navigator.xul"><treeindentation/>&navigator.label;</treecell>
      </treerow>
      <treechildren>
        <treeitem open="true">
          <treerow>
            <treecell><treeindentation/>&languages.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-applications.xul"><treeindentation/>&applications.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-smart_browsing.xul"><treeindentation/>&smartBrowse.label;</treecell>
          </treerow>
        </treeitem>
      </treechildren>
    </treeitem>
 
    <treeitem open="true">
      <treerow>       
        <treecell name="chrome://messenger/content/pref-mailnews.xul"><treeindentation/>&mail.label;</treecell>
      </treerow>

      <treechildren>
        <treeitem open="true">
          <treerow>
            <treecell name="chrome://addressbook/content/pref-addressing.xul"><treeindentation/>&address.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://messengercompose/content/pref-messages.xul"><treeindentation/>&mess.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://messenger/content/pref-winsetting.xul"><treeindentation/>&windowSet.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://messengercompose/content/pref-copiesfolders.html"><treeindentation/>&copyFolder.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://messengercompose/content/pref-formatting.xul"><treeindentation/>&format.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://messenger/content/pref-receipts.xul"><treeindentation/>&return.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://messenger/content/pref-diskspace.xul"><treeindentation/>&disk.label;</treecell>
          </treerow>
        </treeitem>
      </treechildren>
    </treeitem>

    <treeitem open="true">
      <treerow>       
        <treecell name="chrome://pref/content/pref-composer.xul"><treeindentation/>&compose.label;</treecell>
      </treerow>

      <treechildren>
        <treerow>
          <treeitem open="true">
            <treecell name="chrome://pref/content/pref-publish.xul"><treeindentation/>&publish.label;</treecell>
	  </treeitem>
        </treerow>
      </treechildren>
    </treeitem>
    
    <treeitem open="true">
      <treerow>       
        <treecell name="chrome://pref/content/pref-offline.xul"><treeindentation/>&offline.label;</treecell>
      </treerow>

      <treechildren>
        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-download.xul"><treeindentation/>&down.label;</treecell>
          </treerow>
        </treeitem>
      </treechildren>
    </treeitem>
    
    <treeitem open="true">
      <treerow>
        <treecell name="chrome://pref/content/pref-advanced.xul"><treeindentation/>&advance.label;</treecell>
      </treerow>

      <treechildren>
        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-cache.xul"><treeindentation/>&cache.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-proxies.xul"><treeindentation/>&proxies.label;</treecell>
          </treerow>
        </treeitem>

        <treeitem open="true">
          <treerow>
            <treecell name="chrome://pref/content/pref-smartupdate.html"><treeindentation/>&smart.label;</treecell>
          </treerow>
        </treeitem>
      </treechildren>
    </treeitem>
  </treechildren>
</tree>
</html:div>
</window>
