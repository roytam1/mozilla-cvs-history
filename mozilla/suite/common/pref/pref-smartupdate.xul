<?xml version="1.0"?> 
<?xml-stylesheet href="chrome://communicator/skin/" type="text/css"?>
<?xul-overlay href="chrome://global/content/dialogOverlay.xul"?>

<!DOCTYPE window SYSTEM "chrome://communicator/locale/pref/pref-smartupdate.dtd" >
 
<window xmlns:html="http://www.w3.org/1999/xhtml"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        class="color-dialog"
        align="vertical" 
        title="&title.label;"
  		  onload="parent.initPanel('chrome://communicator/content/pref/pref-smartupdate.xul');">
  
  <script language="JavaScript">
  <![CDATA[
    _elementIDs = ["XPInstallEnabled", "XPInstallNotificationsEnabled"];
  ]]>
  </script>
        
        
  <box class="box-smallheader" title="&lHeader;"/>
    
  <titledbox orient="vertical" autostretch="never">
    <title><text value="&smartTitle.label;"/></title>
    <checkbox id="XPInstallEnabled" value="&enableSU.label;" accesskey="&enableSU.accesskey;"
              pref="true" preftype="bool" prefstring="xpinstall.enabled"
              prefattribute="checked"/>
    <checkbox id="XPInstallNotificationsEnabled" value="&enableNotification.label;" accesskey="&enableNotification.accesskey;"
              pref="true" preftype="bool" prefstring="xpinstall.notifications.enabled"
              prefattribute="checked"/>
  </titledbox>

  <titledbox orient="vertical" autostretch="never">
    <title><text value="Installed Packages"/></title>
  
    <script>
    <![CDATA[
      function InstallPackage()
      {
        var chromeRegistry = Components.classes["component://netscape/chrome/chrome-registry"].getService();
        if ( chromeRegistry )
          chromeRegistry = chromeRegistry.QueryInterface( Components.interfaces.nsIChromeRegistry );
        var packageURI = prompt('give the resource uri of the package to install','');
        if (packageURI)
          chromeRegistry.installPackage(packageURI, false);
      }
    ]]>
    </script>
<!--
    <button value="Install Package" oncommand="InstallPackage();"/>
-->
  </titledbox>
<!--
  <html:fieldset style="width: 100%; height: 100%">
    <html:div class="hspace-both">&selectUninstall.label;</html:div>
    <box class="hspace-both vspace" align="horizontal" flex="100%" style="width: 93%; height: 100%">
      <tree id="smartUpdatePackages" class="inset" flex="100%" style="height: 40%;">
        <treecolgroup>
          <treecol flex="1"/>
        </treecolgroup>
        <treechildren flex="1">
          <treeitem>
            <treerow>
              <treeitem/>
            </treerow>
          </treeitem>
        </treechildren>
      </tree>
      <spring flex="5%"/>
      <box align="vertical">
        <titledbutton class="dialog push" id="pref:0:bool:smartupdate" value="&uninstallButton.label;" accesskey="&uninstallButton.accesskey;"/>
        <spring flex="100%"/>
      </box>
    </box>
    <spring style="height: 28px;"/>
  </html:fieldset>
-->
</window>

