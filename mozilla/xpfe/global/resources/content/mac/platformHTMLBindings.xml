<?xml version="1.0"?>

<bindings id="htmlBindings"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
 
  <binding id="inputFields" extends="chrome://global/content/htmlBindings.xml#inputFieldsBase">
    <handlers>
      
      <handler event="keypress" id="key_redo" key="z" primary="true" shift="true" alt="false" control="false"
        command="cmd_redo"/>

      <handler event="keypress" id="key_up" keycode="VK_UP" alt="false" shift="false" control="false"
        command="cmd_linePrevious"/>
      <handler event="keypress" id="key_down" keycode="VK_DOWN" alt="false" shift="false" control="false"
        command="cmd_lineNext"/>
      <handler event="keypress" id="key_up_shift" keycode="VK_UP" alt="false" shift="true" control="false"
        command="cmd_selectBeginLine"/>
      <handler event="keypress" id="key_down_shift" keycode="VK_DOWN" alt="false" shift="true" control="false"
        command="cmd_selectEndLine"/>
      <handler event="keypress" id="key_up_meta" keycode="VK_UP" meta="true" alt="false" shift="false" control="false"
        command="cmd_scrollPageUp"/>
      <handler event="keypress" id="key_down_meta" keycode="VK_DOWN" meta="true" alt="false" shift="false" control="false"
        command="cmd_scrollPageDown"/>

      <handler event="keypress" id="key_home" keycode="VK_HOME" alt="false" shift="false" control="false" meta="false"
        command="cmd_beginLine"/>
      <handler event="keypress" id="key_end" keycode="VK_END" alt="false" shift="false" control="false" meta="false"
        command="cmd_endLine"/>
      <handler event="keypress" id="key_homeshift" keycode="VK_HOME" shift="true" alt="false" control="false" meta="false"
        command="cmd_selectBeginLine"/>
      <handler event="keypress" id="key_endshift" keycode="VK_END" shift="true" alt="false" control="false" meta="false"
        command="cmd_selectEndLine"/>
      <handler event="keypress" id="key_leftalt" keycode="VK_LEFT" alt="true" shift="false" control="false" 
        command="cmd_wordPrevious"/>
      <handler event="keypress" id="key_rightalt" keycode="VK_RIGHT" alt="true" shift="false" control="false" 
        command="cmd_wordNext"/>
      <handler event="keypress" id="key_leftshiftalt" keycode="VK_LEFT" alt="true" shift="true" control="false" 
        command="cmd_selectWordPrevious"/>
      <handler event="keypress" id="key_rightshiftalt" keycode="VK_RIGHT" alt="true" shift="true" control="false"
        command="cmd_selectWordNext"/>

      <handler event="keypress" id="key_leftmeta" keycode="VK_LEFT" meta="true" alt="false" shift="false" control="false" 
        command="cmd_linePrevious"/>
      <handler event="keypress" id="key_rightmeta" keycode="VK_RIGHT" meta="true" alt="false" shift="false" control="false" 
        command="cmd_lineNext"/>
      <handler event="keypress" id="key_leftshiftmeta" keycode="VK_LEFT" meta="true" alt="false" shift="true" control="false" 
        command="cmd_selectBeginLine"/>
      <handler event="keypress" id="key_rightshiftmeta" keycode="VK_RIGHT" meta="true" alt="false" shift="true" control="false"
        command="cmd_selectEndLine"/>

      <!-- Emacsish single-line motion and delete keys -->
      <handler event="keypress" id="key_delback" key="h" control="true"
        command="cmd_deleteCharBackward"/>
      <handler event="keypress" id="key_delforw" key="d" control="true"
        command="cmd_deleteCharForward"/>

    </handlers>
  </binding>

  <binding id="textAreas" extends="chrome://global/content/htmlBindings.xml#textAreasBase">
    <handlers>

      <handler event="keypress" id="key_redo" key="z" primary="true" shift="true" alt="false" control="false"
        command="cmd_redo"/>

      <handler event="keypress" id="key_home" keycode="VK_HOME" alt="false" shift="false" control="false"
        command="cmd_scrollPageUp"/>
      <handler event="keypress" id="key_end" keycode="VK_END" alt="false" shift="false" control="false"
        command="cmd_scrollPageDown"/>
      <handler event="keypress" id="key_homeshift" keycode="VK_HOME" shift="true" alt="false" control="false"
        command="cmd_selectBeginLine"/>
      <handler event="keypress" id="key_endshift" keycode="VK_END" shift="true" alt="false" control="false"
        command="cmd_selectEndLine"/>

      <handler event="keypress" id="key_up_meta" keycode="VK_UP" meta="true" alt="false" shift="false" control="false"
        command="cmd_scrollPageUp"/>
      <handler event="keypress" id="key_down_meta" keycode="VK_DOWN" meta="true" alt="false" shift="false" control="false"
        command="cmd_scrollPageDown"/>

      <handler event="keypress" id="key_leftalt" keycode="VK_LEFT" alt="true" shift="false" control="false" 
        command="cmd_wordPrevious"/>
      <handler event="keypress" id="key_rightalt" keycode="VK_RIGHT" alt="true" shift="false" control="false" 
        command="cmd_wordNext"/>
      <handler event="keypress" id="key_leftshiftalt" keycode="VK_LEFT" alt="true" shift="true" control="false" 
        command="cmd_selectWordPrevious"/>
      <handler event="keypress" id="key_rightshiftalt" keycode="VK_RIGHT" alt="true" shift="true" control="false"
        command="cmd_selectWordNext"/>

      <handler event="keypress" id="key_leftmeta" keycode="VK_LEFT" meta="true" alt="false" shift="false" control="false" 
        command="cmd_linePrevious"/>
      <handler event="keypress" id="key_rightmeta" keycode="VK_RIGHT" meta="true" alt="false" shift="false" control="false" 
        command="cmd_lineNext"/>
      <handler event="keypress" id="key_leftshiftmeta" keycode="VK_LEFT" meta="true" alt="false" shift="true" control="false" 
        command="cmd_selectBeginLine"/>
      <handler event="keypress" id="key_rightshiftmeta" keycode="VK_RIGHT" meta="true" alt="false" shift="true" control="false"
        command="cmd_selectEndLine"/>

      <!-- Emacsish single-line motion and delete keys -->
      <handler event="keypress" id="key_delback" key="h" control="true"
        command="cmd_deleteCharBackward"/>
      <handler event="keypress" id="key_delforw" key="d" control="true"
        command="cmd_deleteCharForward"/>

    </handlers>
  </binding>

</bindings>
