<?xml version="1.0"?>

<bindings id="xulBindings"
   xmlns="http://www.mozilla.org/xbl"
   xmlns:html="http://www.w3.org/TR/REC-html40"
   xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">
  
  <binding name="thumb" extends="xul:box">
    <content>
      <xul:spring flex="1"/>
		  <xul:image inherits="src"/>
		  <xul:spring flex="1"/>
    </content>
  </binding>

  <binding name="scrollbar">
    <content>
      <xul:scrollbarbutton type="decrement">
	      <xul:image inherits="src"/>
	    </xul:scrollbarbutton>
      <xul:slider flex="1" inherits="curpos,maxpos,pageincrement,increment">
	      <xul:thumb inherits="align,src" flex="1"/>
      </xul:slider>
      <xul:scrollbarbutton type="increment">
	    <xul:image inherits="src"/>
	  </xul:scrollbarbutton>
    </content>
  </binding>

  <binding name="slider">
    <content>
	  <xul:button align="horizontal"/>
	</content>
  </binding>

  <binding name="tab">
    <content>
      <xul:image inherits="src" class="tab-left"/>
      <xul:text flex="1" inherits="value,crop,accesskey" crop="right" class="tab-text"/>
    </content>
  </binding>

  <binding name="menusOnMenuBar">
    <content excludes="template,observes,menupopup">
      <xul:titledbutton class="menubar-left"/>
      <xul:titledbutton class="menubar-text" inherits="value,accesskey,crop" crop="right"/>
    </content>
  </binding>

  <binding name="menus">
    <content excludes="template,observes,menupopup">
      <xul:image class="menu-left"/>
      <xul:titledbutton class="menu-text" flex="1" align="left" inherits="value,accesskey,crop" crop="right"/>
      <xul:text class="menu-accel" inherits="acceltext:value"/>
      <xul:image class="menu-right"/>
    </content>
  </binding>

  <binding name="menulist">
    <content excludes="template,observes,menupopup">
      <xul:image class="menu-icon" inherits="src"/>
      <xul:text class="menu-text" flex="1" inherits="value,accesskey,crop" crop="right"/>
      <xul:image class="menu-dropmarker"/>
    </content>
	  <handlers>
      <handler type="command" capturer="true" value="this.selectedItem = event.target"/>
	  </handlers>
  </binding>

  <binding name="menubutton">
    <content excludes="template,observes,menupopup">
      <xul:labelledimage class="menu-button" allowevents="true" inherits="buttonaction:oncommand,src,value,crop,accesskey"/>
      <xul:image class="menu-dropmarker"/>
    </content>
  </binding>

  <binding name="menulist-editable">
    <content excludes="template,observes,menupopup">
      <xul:image class="menu-icon" inherits="src"/>
	    <html:input type="text" flex="1" class="menu-text" allowevents="true" inherits="value,disabled"/>
      <xul:image class="menu-dropmarker"/>
    </content>
	  <handlers>
      <handler type="command" capturer="true" value="this.selectedItem = event.target"/>
	  </handlers>
  </binding>

  <binding name="treecell-indented-folder">
    <content>
      <xul:treeindentation/>
      <xul:titledbutton class="twisty" allowevents="true"/>
      <xul:titledbutton class="tree-icon tree-button" inherits="crop,value,align,src" 
                    flex="1" align="left" crop="right"/>
    </content>
  </binding>

  <binding name="treecell-indented-leaf">
    <content>
      <xul:treeindentation/>
      <xul:titledbutton class="twisty" disabled="true" allowevents="true"/>
      <xul:titledbutton class="tree-icon tree-button" inherits="crop,value,align,src" 
                    flex="1" align="left" crop="right"/>
    </content>
  </binding>

  <binding name="treecell">
    <content>
      <xul:titledbutton class="tree-button" inherits="crop,value,align,src" 
                    flex="1" align="left" crop="right"/>
    </content>
  </binding>

  <binding name="treecell-header">
    <content>
      <xul:image class="tree-button" inherits="src"/>
      <xul:text class="tree-text" inherits="crop,value" flex="1" crop="right"/>
      <xul:image class="treeheader-sortdirection"/>
    </content>
  </binding>
  
  <binding name="checkbox">
    <content>
      <xul:box flex="1" class="internal-box" autostretch="never">
        <xul:box class="checkmark-box" autostretch="never">
          <xul:image inherits="src"/>
        </xul:box>
        <xul:html flex="1" inherits="value"/>
      </xul:box>
    </content>
    <handlers>
      <handler type="mouseup" value="this.checked = !this.checked;"/>
      <handler type="keypress" key=" " value="this.checked = !this.checked;"/>
    </handlers>
  </binding>

  <binding name="checkbox-iconic">
    <content>
      <xul:box flex="1" class="internal-box" autostretch="never">
        <xul:box class="checkmark-box" autostretch="never">
          <xul:image/>
        </xul:box>
        <xul:image inherits="src" class="icon" />
        <xul:html flex="1" inherits="value"/>
      </xul:box>
    </content>
    <handlers>
      <handler type="mouseup" value="this.checked = !this.checked;"/>
      <handler type="keypress" key=" " value="this.checked = !this.checked;"/>
    </handlers>
  </binding>
  
  <binding name="radio">
    <content>
      <xul:box flex="1" class="internal-box" autostretch="never">
        <xul:box class="checkmark-box" autostretch="never">
          <xul:image inherits="src"/>
        </xul:box>
        <xul:html flex="1" inherits="value"/>
      </xul:box>
    </content>  
  </binding>
  
  <binding name="radio-iconic">
    <content>
      <xul:box flex="1" class="internal-box" autostretch="never">
        <xul:box class="checkmark-box" autostretch="never">
          <xul:image/>
        </xul:box>
        <xul:image inherits="src" class="icon"/>
        <xul:html flex="1" inherits="value"/>
      </xul:box>
    </content>  
  </binding>  

  <binding name="radiogroup">
  	<handlers>
      <handler type="mouseup" value="try { this.selectedItem = event.target; } catch (e) {}"/>
	    <handler type="keypress" key=" " value="try { this.selectedItem = event.target; } catch (e) {}"/>
	  </handlers>
  </binding>

  <binding name="buttonleft">
    <content excludes="observes,template">
  	  <xul:box class="internal-box" inherits="orient" autostretch="never" flex="1">
        <xul:image inherits="src"/>
        <xul:box orient="vertical" class="text-container" autostretch="never" flex="1">
          <xul:text inherits="value,accesskey,crop"/>
        </xul:box>
      </xul:box>
    </content>
  </binding>
  
  <binding name="buttonright">
    <content excludes="observes,template">
	    <xul:box autostretch="never" inherits="orient" class="internal-box" flex="1">
        <xul:box orient="vertical" class="text-container" autostretch="never" flex="1">
  	      <xul:text inherits="value,accesskey,crop"/>
        </xul:box>
        <xul:image inherits="src"/>
      </xul:box>
	  </content>
  </binding>

  <binding name="separator" extends="xul:spring"/>

  <!-- appending to the end so we don't make hyatt cry -->
  <binding name="progressmeter" extends="xul:box">
    <content excludes="observes,template">
      <xul:box class="internal-box" flex="1">
        <xul:stack flex="1">
          <xul:progressbar inherits="value">
            <xul:box class="progress-bar"/>
            <xul:box class="progress-remainder"/>
          </xul:progressbar>
          <xul:box>
            <xul:spring flex="1"/>
            <xul:text class="progress-text" inherits="progresstext:value"/>
            <xul:spring flex="1"/>
          </xul:box>
        </xul:stack>
      </xul:box>
    </content>
  </binding>

  <binding name="textfield" extends="xul:box">
    <content excludes="observes,template">
      <xul:html flex="1">
        <html:input inherits="value,type,maxlength,disabled,size,readonly"/>
      </xul:html>
    </content>
  </binding>

  <binding name="textarea" extends="xul:box">
    <content excludes="observes,template">
      <xul:html flex="1">
        <html:textarea inherits="value,disabled,rows,cols,readonly"/>
      </xul:html>
    </content>
  </binding>
</bindings>
