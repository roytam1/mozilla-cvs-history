<?xml version="1.0"?> 
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?> 
<?xml-stylesheet href="chrome://navigator/skin/" type="text/css"?> 

<!DOCTYPE window SYSTEM "chrome://navigator/locale/viewSource.dtd" >
<window id="main-window" xmlns:html="http://www.w3.org/TR/REC-html40"
        xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
        onunload="Shutdown()"
        title="&mainWindow.title;" titlemodifier="&mainWindow.titlemodifier;" 
        titleseperator ="&mainWindow.titlemodifierseperator;"  windowtype="navigator:viewsource"
		align="vertical" width="640" height="480"> 
  
  <html:script src="chrome://navigator/content/navigator.js"></html:script>
  <html:script src="chrome://navigator/content/viewsource.js"></html:script>

  <broadcaster id="args" value="http://www.mozilla.org/"/>
  <broadcaster id="canPrint"/>
  <broadcaster id="canGoBack" disabled="true"/>
  <broadcaster id="Browser:LoadingProgress"/>
  <broadcaster id="Browser:Status"/>
  <broadcaster id="Browser:OnStartBinding"/>
  <broadcaster id="Browser:OnStopBinding"/>
  <broadcaster id="Browser:Throbber" busy="false"/>
  
  <!-- Interim hack to transition from nsIXULWindowCallbacks/ShowWindowWithArgs -->
  <broadcaster id="dialog.start" ready="false"/>
  <observes element="dialog.start" attribute="ready" onchange="StartupViewSource()"/>
    
  <menubar>
    <menu value="&fileMenu.label;">
	    <menupopup>
			  <menuitem value="&browserCmd.label;" onaction="BrowserNewWindow();"/>
      			<menu value="&newMenu.label;">
				  <menupopup>
      				<menuitem value="&newMailCmd.label;" onaction="MsgNewMessage();"/>
					  <menuitem value="&newChatCmd.label;" onaction=""/>
					  <menuseparator />
					  <menuitem value="&newBlankPageCmd.label;" onaction="BrowserNewWindow();"/>
					  <menuitem value="&newPageFromTemplateCmd.label;" onaction="BrowserNewWindow();"/>
					  <menuitem value="&newPageFromDraftCmd.label;" onaction="BrowserNewWindow();"/>
				  </menupopup>
    			</menu>
			  <menuitem value="&openCmd.label;" onaction="BrowserOpenWindow();"/>
			  <menuseparator />
			  <menuitem value="&sendPageCmd.label;" onaction="NotImplementedYet();"/>
			   <menuseparator />
			  <menu value="&offlineMenu.label;">
				  <menupopup>
				  <menuitem value="&offlineGoOfflineCmd.label;" onaction="NotImplementedYet();"/>
				  <menuseparator />
				  <menuitem value="&offlineSynchronizeCmd.label;" onaction="NotImplementedYet();"/>
				  </menupopup>
			  </menu>
			  <menuseparator />
			  <menuitem value="&printSetupCmd.label;" onaction=";"/>
			  <menuitem value="&printPreviewCmd.label;" onaction=""/>
			  <menuitem value="&printCmd.label;" onaction="BrowserPrint()"/>
			  <menuseparator />
			  <menuitem value="&closeCmd.label;" onaction="BrowserClose();"/>
			  <menuitem value="&quitCmd.label;" onaction="BrowserExit();"/>
		</menupopup>
    </menu>
	<menu value="&editMenu.label;">
	  <menupopup> 
      <menuitem value="&undoCmd.label;" onaction="NotImplementedYet();" disabled=""/> 
      <menuitem value="&redoCmd.label;" onaction="NotImplementedYet();" disabled=""/> 
      <menuseparator /> 
      <menuitem value="&cutCmd.label;" onaction="NotImplementedYet();" disabled=""/> 
      <menuitem value="&copyCmd.label;" onaction="BrowserCopy();"/> 
      <menuitem value="&pasteCmd.label;" onaction="NotImplementedYet();" disabled=""/> 
      <menuitem value="&deleteCmd.label;" onaction="NotImplementedYet();" disabled=""/> 
      <menuseparator /> 
      <menuitem value="&selectAllCmd.label;" onaction="NotImplementedYet();"/> 
      <menuseparator /> 
      <menuitem value="&preferences.label;" onaction="DoPreferences();"/> 
	  </menupopup>
    </menu> 

    <menu value="&viewMenu.label;">
	  <menupopup>
      <menuitem value="&toolbarsCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&sidebarCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuseparator />
      <menuitem value="&enlargeTextSizeCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="Reduce Text Size" onaction="NotImplementedYet();" disabled=""/>
      <menuseparator />
      <menu value="&useStyleSheetMenu.label;" onaction="NotImplementedYet();">
	      <menupopup>
		  <menuitem value="&useStyleSheetDefaultCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	      <menuseparator />
	      <menuitem value="&useStyleSheetEasyReadingCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	      <menuitem value="&useStyleSheetMaximumInformationCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	      <menuitem value="&useStlyleSheetBizarreCmd.label;" onaction="NotImplementedYet();" disabled=""/>
          </menupopup>
	  </menu>
      <menuseparator />
      <menuitem value="&reloadCmd.label;" onaction="BrowserReload();" disabled=""/>
      <menuitem value="&showImagesCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&stopCmd.label;" onaction="NotImplementedYet();"/>
      <menuseparator />
      <menuitem value="&pageSourceCmd.label;" onaction="BrowserViewSource();" disabled=""/>
      <menuitem value="&pageInfoCmd.label;" onaction="NotImplementedYet();"/>
      <menuseparator />
      <menu value="&charSetMenu.label;">
	      <menupopup>
		  <menuitem value="&charWesternCmd.label;" onaction="BrowserSetDocumentCharacterSet('ISO-8859-1');"/>
	      <menuitem value="&charJapaneseCmd.label;" onaction="BrowserSetDocumentCharacterSet('ISO-2022-JP');"/>
	      <menuitem value="&charShiftJisCmd.label;" onaction="BrowserSetDocumentCharacterSet('Shift_JIS');"/>
	      <menuitem value="&charEupCmd.label;" onaction="BrowserSetDocumentCharacterSet('EUC-JP');"/>
	      </menupopup>
	   </menu>
	   </menupopup>
    </menu>
    <menu value="&searchMenu.label;">
	  <menupopup>
      <menuitem value="&findOnCmd.label;" onaction="BrowserFind();;" disabled=""/>
      <menuitem value="&findAgainCmd.label;" onaction="BrowserFindAgain();" disabled=""/>
      <menuseparator />
      <menuitem value="&searchParentCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&searchParenet2Cmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&appSpecificCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&appSpecificCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuseparator />
      <menuitem value="&searchInternetCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&searchAllMailCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&searchBookmarksCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&searchPeopleCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuseparator />
      <menuitem value="&searchComputerCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	  </menupopup>
    </menu>
    <menu value="&goMenu.label;">
	  <menupopup>
      <menuitem value="&goBackCmd.label;" onaction="BrowserBack();" disabled=""/>
      <menuitem value="&goForwardCmd.label;" onaction="BrowserForward();" disabled=""/>
      <menuitem value="&goHomeCmd.label;" onaction="BrowserHome();" disabled=""/>
	  </menupopup>
    </menu>
	 <menu value="&tasksMenu.label;">
	  <menupopup>
      <menuitem value="&navigatorCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&messengerCmd.label;" onaction="OpenMessenger();" />
      <menuitem value="&editorCmd.label;"    onaction="OpenEditor();" />
      <menuitem value="&manageHistoryCmd.label;"    onaction="OpenHistoryView();" />
      <menuitem value="&chatCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&shoppingCartCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menu value="&toolsMenu.label;">
	      <menupopup>
		  <menuitem value="&toolsPluginsInfoCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	      <menuitem value="&toolsServerToolsCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	      <menuitem value="&toolsJavaConsoleCmd.label;" onaction="NotImplementedYet();" disabled=""/>
	      <menuitem value="&toolsJavascriptDebuggerCmd.label;" onaction="NotImplementedYet();" disabled=""/>
		  </menupopup>
      </menu>
      <menuseparator />
      <menuitem value="&securityInfo.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuseparator/>
      <menuitem value="&window1Cmd.label;" onaction="NotImplementedYet();" key="1" disabled=""/>
      <menuitem value="&window2Cmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&window3Cmd.label;" onaction="NotImplementedYet();" disabled=""/>
	  </menupopup>
    </menu>
    
     <menu value="&helpMenuCmd.label;">
	  <menupopup>
      <menuitem value="&helpContentsCmd.label;" onaction="window.frames[0].location.href = 'http://www.mozilla.org/projects/user-docs/local/browserhelp/browsertop.html'" disabled=""/>
      <menuseparator />
      <menuitem value="&howTutorialCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&helpChannelCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuseparator />
      <menuitem value="&softwareUpdatesCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&technicalSupportCmd.label;" onaction="NotImplementedYet();" disabled=""/>
      <menuitem value="&releaseNotesCmd.label;" 
	            onaction="window.frames[0].location.href='http://www.mozilla.org/projects/seamonkey/release-notes/index.html'" disabled=""/>
      
      <menuseparator />
      <menuitem value="&aboutCommunicatorCmd.label;" 
	            onaction="window.frames[0].location.href='http://www.mozilla.org/projects/seamonkey/release-notes/index.html'" disabled=""/>
	  </menupopup>
    </menu>
  </menubar>
  
  <html:iframe id="content-frame" type="content" html:name="content" html:src="about:blank" flex="100%"/>

  <box align="horizontal" id="status-bar">
 
	<box id="security-box" class="insecure" align="horizontal" flex="100%">
		<box align="vertical" style="width:100px">
			<spring flex="100%"/>
			<progressmeter id="statusbar-icon" mode="normal" value="0" onclick="dumpProgress()">
				<observes element="Browser:LoadingProgress" attribute="mode"/>
				<observes element="Browser:Throbber" attribute="busy" onchange="onProgress()"/>
			</progressmeter>
			<spring flex="100%"/>
		</box>

		<titledbutton id="statusText" align="right" flex="100%" value="Document: Done" style="font-family:sans-serif;font-size:2.5mm">
					   <observes element="Browser:Status" attribute="value" onchange="onStatus()"/>			
		</titledbutton>

		<spring flex="100%"/>		

		<titledbutton align="right" value="Build ID: 1999040601" style="font-family:sans-serif;font-size:2.5mm;"/>
     </box>
  </box>
 
</window>
