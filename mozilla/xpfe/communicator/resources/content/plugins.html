<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><!-- -*- Mode: HTML; tab-width: 2; indent-tabs-mode: nil -*-
  The contents of this file are subject to the Netscape Public License
  Version 1.0 (the "NPL"); you may not use this file except in
  compliance with the NPL.  You may obtain a copy of the NPL at
  http://www.mozilla.org/NPL/

  Software distributed under the NPL is distributed on an "AS IS" basis,
  WITHOUT WARRANTY OF ANY KIND, either express or implied. See the NPL
  for the specific language governing rights and limitations under the
  NPL.

  The Initial Developer of this code under the NPL is Netscape
  Communications Corporation.  Portions created by Netscape are
  Copyright (C) 1998 Netscape Communications Corporation.  All Rights
  Reserved.

  Contributors:
    Mark Olson <maolson@earthlink.net>
    Alexey Chernyak <alexeyc@bigfoot.com>
 -->

<html lang="en" dir="ltr">
<head>
<script type="application/x-javascript" src="chrome://global/content/strres.js"/>
<script type="application/x-javascript">

var bundle = srGetStrBundle("chrome://global/locale/plugins.properties");
var title_label = bundle.GetStringFromName("title_label");
document.write("<title>" + title_label + "</title>");
</script>
<style type="text/css">
  span#plugs {
    font-size: xx-large;
    font-weight: bold;
  }
  span#noplugs {
    font-size: x-large;
    font-weight: bold;
  }
  div div {
    font-size: large;
    font-weight: bold;
    text-align: center;
  }
  table, th, td {
    border-color: gray;
    border-style: solid;
    text-align: center;
  }
  table {
    border-width: 2px;
    width: 100%;
  }
  th, td {
    border-width: 1px;
    padding: 5px 0;
  }
  th {
    font-size: small;
  }
  th.type, th.suff {
    width: 20%;
  }
  th.desc {
    width: 50%;
  }
</style>
</head>
<body>
<div>
<script type="application/x-javascript">
<!--

/* JavaScript to enumerate and display all installed plug-ins

 * First, refresh plugins in case anything has been changed recently in
 * prefs: (The "false" argument tells refresh not to reload or activate
 * any plug-ins that would be active otherwise.  In contrast, one would
 * use "true" in the case of ASD instead of restarting)
 */


var bundle = srGetStrBundle("chrome://global/locale/plugins.properties");
var installedplugins_label = bundle.GetStringFromName("installedplugins_label");
var nopluginsareinstalled_label = bundle.GetStringFromName("nopluginsareinstalled_label");
var findmore_label = bundle.GetStringFromName("findmore_label");
var netcenter_label = bundle.GetStringFromName("netcenter_label");
var filename_label = bundle.GetStringFromName("filename_label");
var mimetype_label = bundle.GetStringFromName("mimetype_label");
var description_label = bundle.GetStringFromName("description_label");
var suffixes_label = bundle.GetStringFromName("suffixes_label");
var enabled_label = bundle.GetStringFromName("enabled_label");
var yes_label = bundle.GetStringFromName("yes_label");
var no_label = bundle.GetStringFromName("no_label");

navigator.plugins.refresh(false);


var numPlugins = navigator.plugins.length;

if (numPlugins > 0)
  document.writeln("<span id=\"plugs\">" + installedplugins_label + "<\/span><br>");
else
  document.writeln("<span id=\"noplugs\">" + nopluginsareinstalled_label + "<\/span><br>");

document.writeln(findmore_label);
document.writeln("<a href=\"http://home.netscape.com/plugins/index.html\">"
        + netcenter_label + "<\/a>.");
document.writeln("<p><\/p><hr>");

for (var i = 0; i < numPlugins; i++)
{
  var plugin = navigator.plugins[i];

  if (plugin) {
    document.write("<div>");
    document.write(plugin.name);
    document.writeln("<\/div><br>");

    document.writeln("<dl><dd>"+filename_label);
    document.write(plugin.filename);
    document.write("<\/dd><dd><br>");
    document.write(plugin.description);
    document.writeln("<\/dd><\/dl><p><\/p>");

    document.writeln("<table>");
    document.writeln("<tr><th class=\"type\">" + mimetype_label + "<\/th>");
    document.writeln("<th class=\"desc\">" + description_label + "<\/th>");
    document.writeln("<th class=\"suff\">" + suffixes_label + "<\/th>");
    document.writeln("<th>" + enabled_label + "<\/th><\/tr>");

    var numTypes = plugin.length;
    var mimetype;
    var enabled;
    var enabledPlugin;
    for (var j = 0; j < numTypes; j++)
    {
      mimetype = plugin[j];

      if (mimetype)
      {
        enabled = no_label;
        enabledPlugin = mimetype.enabledPlugin;
        if (enabledPlugin && (enabledPlugin.name == plugin.name))
          enabled = yes_label;

        document.writeln("<tr>");
        document.writeln("<td>" + mimetype.type + "<\/td>");
        document.writeln("<td>" + mimetype.description + "<\/td>");
        document.writeln("<td>" + mimetype.suffixes + "<\/td>");
        document.writeln("<td>" + enabled + "<\/td>");
        document.writeln("<\/tr>");
      }
    }

    document.write("<\/table><p><\/p><hr><p><\/p>");
  }
}

//-->
</script>
</div>
</body>
</html>
