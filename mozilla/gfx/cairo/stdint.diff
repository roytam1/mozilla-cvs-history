diff -rNpU8 /home/tor/moz/branch/mozilla/gfx/cairo.base/libpixman/src/mozstdint.h libpixman/src/mozstdint.h
--- /home/tor/moz/branch/mozilla/gfx/cairo.base/libpixman/src/mozstdint.h	1969-12-31 18:00:00.000000000 -0600
+++ libpixman/src/mozstdint.h	2005-09-05 17:42:31.000000000 -0500
@@ -0,0 +1,64 @@
+/* -*- Mode: C; tab-width: 2; indent-tabs-mode: nil; c-basic-offset: 2 -*- */
+/* ***** BEGIN LICENSE BLOCK *****
+ * Version: MPL 1.1/GPL 2.0/LGPL 2.1
+ *
+ * The contents of this file are subject to the Mozilla Public License Version
+ * 1.1 (the "License"); you may not use this file except in compliance with
+ * the License. You may obtain a copy of the License at
+ * http://www.mozilla.org/MPL/
+ *
+ * Software distributed under the License is distributed on an "AS IS" basis,
+ * WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
+ * for the specific language governing rights and limitations under the
+ * License.
+ *
+ * The Original Code is mozilla.org code.
+ *
+ * The Initial Developer of the Original Code is
+ * Google Inc.
+ * Portions created by the Initial Developer are Copyright (C) 2005
+ * the Initial Developer. All Rights Reserved.
+ *
+ * Contributor(s):
+ *  Brian Ryner <bryner@brianryner.com>
+ *
+ * Alternatively, the contents of this file may be used under the terms of
+ * either the GNU General Public License Version 2 or later (the "GPL"), or
+ * the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
+ * in which case the provisions of the GPL or the LGPL are applicable instead
+ * of those above. If you wish to allow use of your version of this file only
+ * under the terms of either the GPL or the LGPL, and not to allow others to
+ * use your version of this file under the terms of the MPL, indicate your
+ * decision by deleting the provisions above and replace them with the notice
+ * and other provisions required by the GPL or the LGPL. If you do not delete
+ * the provisions above, a recipient may use your version of this file under
+ * the terms of any one of the MPL, the GPL or the LGPL.
+ *
+ * ***** END LICENSE BLOCK ***** */
+
+/*
+ * This header provides NSPR-based stdint.h definitions for platforms that are
+ * missing the system header.
+ */
+
+#ifndef mozstdint_h_
+#define mozstdint_h_
+
+#include "prtypes.h"
+
+typedef PRInt8   int8_t;
+typedef PRInt16  int16_t;
+typedef PRInt32  int32_t;
+typedef PRInt64  int64_t;
+
+typedef PRUint8  uint8_t;
+typedef PRUint16 uint16_t;
+typedef PRUint32 uint32_t;
+typedef PRUint64 uint64_t;
+
+/* NSPR is able to use 64-bit storage for all currently-supported platforms. */
+#ifndef HAVE_UINT64_T
+#define HAVE_UINT64_T 1
+#endif
+
+#endif
diff -rNpU8 /home/tor/moz/branch/mozilla/gfx/cairo.base/libpixman/src/pixman.h libpixman/src/pixman.h
--- /home/tor/moz/branch/mozilla/gfx/cairo.base/libpixman/src/pixman.h	2005-08-10 14:36:51.000000000 -0500
+++ libpixman/src/pixman.h	2005-09-05 17:42:31.000000000 -0500
@@ -76,24 +76,24 @@ SOFTWARE.
  * EVENT SHALL KEITH PACKARD BE LIABLE FOR ANY SPECIAL, INDIRECT OR
  * CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
  * DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
  * TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  * PERFORMANCE OF THIS SOFTWARE.
  */
 
 
-#if defined (__SVR4) && defined (__sun)
+#if HAVE_STDINT_H
+# include <stdint.h>
+#elif HAVE_INTTYPES_H
+# include <inttypes.h>
+#elif HAVE_SYS_INT_TYPES_H
 # include <sys/int_types.h>
 #else
-# if defined (__OpenBSD__) || defined (_AIX)
-#  include <inttypes.h>
-# else 
-#  include <stdint.h>
-# endif
+# include "mozstdint.h"
 #endif
 
 #include "pixman-remap.h"
 
 #if defined(__cplusplus) || defined(c_plusplus)
 extern "C" {
 #endif
 
--- /home/tor/moz/branch/mozilla/gfx/cairo.base/cairo/src/cairo-wideint.h	2005-08-08 17:41:40.000000000 -0500
+++ cairo/src/cairo-wideint.h	2005-09-05 17:42:31.000000000 -0500
@@ -52,17 +52,17 @@
   typedef __int32 int32_t;
   typedef unsigned __int32 uint32_t;
   typedef __int64 int64_t;
   typedef unsigned __int64 uint64_t;
 # ifndef HAVE_UINT64_T
 #  define HAVE_UINT64_T 1
 # endif
 #else
-#error Cannot find definitions for fixed-width integral types (uint8_t, uint32_t, etc.)
+# include "mozstdint.h"
 #endif
 
 /*
  * 64-bit datatypes.  Two separate implementations, one using
  * built-in 64-bit signed/unsigned types another implemented
  * as a pair of 32-bit ints
  */
 
