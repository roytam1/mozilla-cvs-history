# The contents of this file are subject to the Mozilla Public License
# Version 1.0 (the "License"); you may not use this file except in
# compliance with the License. You may obtain a copy of the License
# at http://www.mozilla.org/MPL/
# 
# Software distributed under the License is distributed on an "AS IS"
# basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See 
# the License for the specific language governing rights and 
# limitations under the License.
# 
# The Original Code is this file as it was released upon August 6, 1998.
#
# The Initial Developer of this code under the MPL is Christopher
# Seawood, <cls@seawood.org>.  Portions created by Christopher Seawood 
# are Copyright (C) 1998 Christopher Seawood.  All Rights Reserved.

# A netscape style .mk file for autoconf builds

USE_AUTOCONF 	= 1
MOZILLA_CLIENT	= 1
NO_MDUPDATE	= 1

MOZ_TOOLKIT	= @MOZ_TOOLKIT@
MOZ_SECURITY 	= @MOZ_SECURITY@
MOZ_JAVA	= @MOZ_JAVA@
MOZ_OJI		= @MOZ_OJI@
MOZ_NETCAST	= @MOZ_NETCAST@	
MOZ_DEBUG	= @MOZ_DEBUG@
MOZILLA_GPROF	= @MOZILLA_GPROF@
BUILD_PROFILE	= @MOZILLA_GPROF@
MOZ_DARK	= @MOZ_DARK@
MOZ_EDITOR	= @MOZ_EDITOR@
UNIX_SKIP_ASSERTS = @UNIX_SKIP_ASSERTS@
NO_UNIX_ASYNC_DNS = @NO_UNIX_ASYNC_DNS@
NO_SHARED_LIB	= @NO_SHARED_LIB@
NO_NETSCAPE_SHARED = @NO_SHARED_LIB@
NO_STATIC_LIB	= @NO_STATIC_LIB@
NO_NETSCAPE_STATIC = @NO_STATIC_LIB@
ENABLE_TESTS	= @ENABLE_TESTS@
MOZ_USER_DIR	= @MOZ_USER_DIR@
SMART_MAIL	= @MOZ_SMART_MAIL@
DOM		= @MOZ_DOM@
MOZ_MAIL_COMPOSE = @MOZ_MAIL_COMPOSE@
NO_UNIX_LDAP	= @NO_UNIX_LDAP@
BUILD_IDL_TOOL	= @MOZ_IDL_TOOL@

MOZ_NATIVE_ZLIB	= @SYSTEM_ZLIB@
MOZ_NATIVE_JPEG	= @SYSTEM_JPEG@
MOZ_NATIVE_PNG	= @SYSTEM_PNG@

# Should the extra CFLAGS only be added in Makefile.ins that need them? 
OS_CFLAGS	= @CFLAGS@ $(DSO_CFLAGS)
OS_INCLUDES	= $(NSPR_CFLAGS) $(JPEG_CFLAGS) $(PNG_CFLAGS) $(ZLIB_CFLAGS)
OS_LIBS		= @LDFLAGS@ @LIBS@
DEFINES		= @DEFS@

XCFLAGS		= @XCFLAGS@
XLDFLAGS	= @XLDFLAGS@
XLIBS		= @XLIBS@

CC		= @CC@
CXX		= @CXX@
GNU_CC		= @GNU_CC@
GNU_CXX		= @GNU_CXX@

ACEMACS		= @EMACS@
ACPERL		= @PERL@
ACRANLIB	= @RANLIB@
ACWHOAMI	= @WHOAMI@
ACUNZIP		= @UNZIP@
ACZIP		= @ZIP@

OBJDIR_TAG	= _AC
OBJDIR_NAME	= .

ifdef MOZ_NATIVE_JPEG
JPEG_CFLAGS	= @JPEG_CFLAGS@
JPEG_LIBS	= @JPEG_LIBS@
JPEG_REQUIRES	=
else
JPEG_CFLAGS	= -I$(DIST)/public/jpeg
JPEG_LIBS	= $(DIST)/lib/libjpeg.a
JPEG_REQUIRES	= jpeg
endif

ifdef MOZ_NATIVE_ZLIB
ZLIB_CFLAGS	= @ZLIB_CFLAGS@
ZLIB_LIBS	= @ZLIB_LIBS@
ZLIB_REQUIRES	=
else
ZLIB_CFLAGS	= -I$(DIST)/public/zlib
ZLIB_LIBS	= $(DIST)/lib/libzlib.a
ZLIB_REQUIRES	= zlib
endif

ifdef MOZ_NATIVE_PNG
PNG_CFLAGS	= @PNG_CFLAGS@
PNG_LIBS	= @PNG_LIBS@
PNG_REQUIRES	=
else
PNG_CFLAGS	= -I$(DIST)/public/png
PNG_LIBS	= $(DIST)/lib/libpng.a
PNG_REQUIRES	= png
endif

NSPR_CFLAGS	= @NSPR_CFLAGS@
NSPR_LIBS	= @NSPR_LIBS@

ifndef NO_SHARED_LIB
BUILD_UNIX_PLUGINS      = 1
DSO_CFLAGS              = @DSO_CFLAGS@
MKSHLIB			= @MKSHLIB@
DSO_LDOPTS		= @DSO_LDOPTS@
DLL_SUFFIX		= @DLL_SUFFIX@
endif

GTK_CONFIG	= @GTK_CONFIG@
TK_MOTIF_CFLAGS	= @TK_MOTIF_CFLAGS@
TK_MOTIF_LIBS	= @TK_MOTIF_LIBS@
TK_GTK_CFLAGS	= @TK_GTK_CFLAGS@
TK_GTK_LIBS	= @TK_GTK_LIBS@

MOZ_NATIVE_MAKEDEPEND	= @SYSTEM_MAKEDEPEND@

# XXX - these need to be cleaned up and have real checks added -cls
NGLAYOUT_PLUGINS=1 
CM_BLDTYPE=dbg 
AWT_11=1 
MODULAR_NETLIB=1 
MOZ_BITS=32 
MOZ_GOLD=1 
OS_TARGET=@OS_TARGET@
STANDALONE_IMAGE_LIB=1 

