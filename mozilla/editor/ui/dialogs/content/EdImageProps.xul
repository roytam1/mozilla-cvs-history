<?xml version="1.0"?>
<!--
   - The contents of this file are subject to the Netscape Public
   - License Version 1.1 (the "License"); you may not use this file
   - except in compliance with the License. You may obtain a copy of
   - the License at http://www.mozilla.org/NPL/
   -  
   - Software distributed under the License is distributed on an "AS
   - IS" basis, WITHOUT WARRANTY OF ANY KIND, either express or
   - implied. See the License for the specific language governing
   - rights and limitations under the License.
   -  
   - The Original Code is Mozilla Communicator client code, released
   - March 31, 1998.
   - 
   - The Initial Developer of the Original Code is Netscape
   - Communications Corporation. Portions created by Netscape are
   - Copyright (C) 1998-2000 Netscape Communications Corporation. All
   - Rights Reserved.
   - 
   - Contributor(s): 
   -   Pete Collins
   -   Brian King
  -->

<?xml-stylesheet href="chrome://editor/skin/" type="text/css"?>
<?xml-stylesheet href="chrome://editor/skin/EditorDialog.css" type="text/css"?>

<?xul-overlay href="chrome://global/content/dialogOverlay.xul"?> 
<?xul-overlay href="chrome://editor/content/EdDialogOverlay.xul"?> 

<!DOCTYPE window SYSTEM "chrome://editor/locale/EditorImageProperties.dtd">


<!-- dialog containing a control requiring initial setup -->
<window class="dialog" title="&windowTitle.label;"
    xmlns ="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
    xmlns:html="http://www.w3.org/TR/REC-html40"
    onload = "Startup()"
    align="vertical"
    id="imagedialog"
    persist="screenX screenY"
    >
  
  <script language="JavaScript" src="chrome://editor/content/EdDialogCommon.js"/>
  <script language="JavaScript" src="chrome://editor/content/EdImageProps.js"/>
  <script language="JavaScript" src="chrome://global/content/dialogOverlay.js"/>

  <broadcaster id="args" value=""/>
  <keyset id="keyset"/>

<titledbox orient="vertical">
  <title
    class = "dialog"
    align = "left">
    <text value="&locationBox.label;"/>
  </title>

  <box align="horizontal">

    <!--/////// Src URL and ALT Text //////-->
    <box align="vertical">
      <box align="horizontal">
        <text class = "label" 
          for   = "srcInput"
          value = "&locationEditField.label;"
          align = "right" />
      </box>
      <box align="horizontal">
        <text class = "label"
          id    = "altTextLabel" 
          for   = "altTextInput"
          value = "&altTextEditField.label;" />
      </box>
    </box>
    
    <spring flex="100%"/>
    
    <box align="vertical">
      <box align="horizontal">
        <textfield 
          id         = "srcInput" 
          style      = "min-width:150px; max-width:200px"
          onkeyup    = "doOverallEnabling()"
          onmouseup  = "doOverallEnabling()"
          onchange   = "doOverallEnabling()" />
        <spring flex="100%"/>
        <!-- from EdDialogOverlay.xul - TEMP Style hack - use boxes -->
        <titledbutton id="ChooseFile" style="margin-left:5px"
               class = "push dialog"
               onclick = "chooseImageFile()" />
      </box>

      <spring flex="100%"/>

      <box align="horizontal">  
        <textfield
          id       ="altTextInput"
          style    = "min-width:100px; max-width:200px"
          onchange = "doOverallEnabling()"/>
      </box>  
    </box> 
  </box>
</titledbox>

<box align="horizontal">
  <titledbutton 
    class   = "push dialog" 
    id      = "MoreFewerButton" 
    align   = "left" 
    onclick = "onMoreFewerImage()" 
    persist = "more"/>
  <spring flex="100%"/>
  <!-- From EdDialogOverlay.xul -->
  <titledbutton id="AdvancedEditButton2"/>
</box>
<!-- Area that shows and hides via MoreFewerButton --> 
<box id="MoreSection" align="vertical" flex="100%">
  <box align="horizontal" flex="100%">
    <box align="vertical">
    <!-- //////// Image Dimensions //////// -->
    <titledbox orient="vertical" flex="100%">
      <title
        class="dialog"
        id="dimensionsLabel">
        <text value="&dimensionsBox.label;"/>
      </title>
      
      <!-- THESE NEED TO BE onchange RATHER THAN onclick -->
      <radiogroup orient="vertical">
        <radio
          id      = "originalsizeRadio" 
          value   = "&originalSizeRadio.label;"
         onclick = "doDimensionEnabling( false );"/>
        <radio
          id      = "customsizeRadio" 
          value   = "&customSizeRadio.label;"
          onclick = "doDimensionEnabling( true );" />
      </radiogroup>

	  <!-- preferred width and height added to increase performance in boxes (otherwise buttons will jump!!) -evaughan -->
      <spring flex="100%"/>
      
        <!--//////  IMAGE WIDTH  //////-->
      <box align="horizontal">
        <text class = "label" 
          id    = "widthLabel"
          for   = "widthInput"
          value = "&widthEditField.label;" />
        <spring flex="100%"/>
        <textfield
          id       = "widthInput" 
          style    = "min-width:30px; max-width:30px" 
          length   = "4"
          maxlength = "4" 
          onfocus  = "oldSourceInt = this.value;"
          onkeyup  = "constrainProportions(this.id, 'heightInput')" 
          onchange = "doOverallEnabling()" />
        <spring flex="100%"/>
        <html:select 
          id      = "widthUnitsSelect" 
          size    = "1"
          style   = "width: 100px; min-width: 100px; max-width: 100px;"
          onclick = "doOverallEnabling()"/>
        <!-- option elements are appended by JS -->
      </box>

        <!--////// IMAGE HEIGHT //////-->
      <box align="horizontal">
        <text class = "label" 
          id    = "heightLabel"
          for   = "heightInput"
          value = "&heightEditField.label;" />
        <spring flex="100%"/>
        <textfield 
          id       = "heightInput" 
          style    = "min-width:30px; max-width:30px" 
          length   = "4" 
          maxlength = "4" 
          onfocus  = "oldSourceInt = this.value;"
          onkeyup  = "constrainProportions(this.id, 'widthInput')"
          onchange = "doOverallEnabling()" />
        <spring flex="100%"/>
        <html:select 
          id      = "heightUnitsSelect" 
          size    = "1" 
          style   = "width: 100px; min-width: 100px; max-width: 100px;"
          onclick = "doOverallEnabling()"/>
          <!-- option elements are appended by JS -->
      </box>

      <!--////// CONSTRAIN DIMENSIONS //////-->
	  <box align="horizontal">
      <checkbox id="constrainCheckbox" value="&constrainCheckbox.label;"/>
	  </box>
    </titledbox>

    <titledbox orient="horizontal" flex="100%">
      <title
        class="dialog"
        id="imagemapLabel">
        <text value="&imagemapBox.label;"/>
      </title>
      <titledbutton
        class   = "push dialog"
        id      = "editImageMap"
        onclick = "editImageMap()"
        value   = "&editImageMapButton.label;"/>
      <titledbutton
        class   = "push dialog"
        id      = "removeImageMap"
        onclick = "removeImageMap()"
        value   = "&removeImageMapButton.label;"/>
    </titledbox>

    </box>

    <box align="vertical" flex="100%">
      <!-- Bottom Right Region -->
      <!--//////// Alignment ////////-->
      <titledbox flex="100%" orient="vertical">
        <title
          class = "dialog" 
          id    = "alignLabel"
          for   = "alignTypeSelect">
          <text value="&alignment.label;"/>
        </title>

      <menulist id = "alignTypeSelect" onchange = "doOverallEnabling()" >
        <menupopup>
          <menuitem value = "&topPopup.value;" 
             src          = "resource:/chrome/editor/skin/default/images/img-align-top.gif"
          />
          <menuitem value = "&centerPopup.value;"
             src          = "resource:/chrome/editor/skin/default/images/img-align-middle.gif" 
          />
          <menuitem value = "&bottomPopup.value;"
             src          = "resource:/chrome/editor/skin/default/images/img-align-bottom.gif" 
          />
          <menuitem value = "&wrapLeftPopup.value;"
             src          = "resource:/chrome/editor/skin/default/images/img-align-right.gif" 
          />
          <menuitem value = "&wrapRightPopup.value;"
             src          = "resource:/chrome/editor/skin/default/images/img-align-left.gif" 
          />
        </menupopup>
      </menulist>
      </titledbox>

      <!--//////// Borders and Spacing ////////-->
      <titledbox orient="horizontal" flex="100%">
        <title
          class = "dialog"
          id    = "spacingLabel"> 
          <text value="&spacingBox.label;"/>
        </title>

        <box align="vertical">
          <text class = "label" 
            id    = "leftrightLabel"
            for   = "imageleftrightInput"
            value = "&leftRightEditField.label;"
            style = "align:right" />
          <spring flex="100%"/>
          <text class = "label" 
            id    = "topbottomLabel"
            for   = "imagetopbottomInput"
            value = "&topBottomEditField.label;"
            style = "align:right" />
          <spring flex="100%"/>
          <text class = "label" 
            id    = "borderLabel"
            for   = "border"
            value = "&borderEditField.label;"
            style = "align:right" />
        </box>
        
        <box align="vertical">
          <textfield 
            id        = "imageleftrightInput" 
            style     = "min-width:30px; max-width:30px" 
            length    = "4" 
            maxlength = "4" 
            onkeyup   = "forceInteger(this.id)" 
            onchange  = "doOverallEnabling()"/>
          <spring flex="100%"/>
          <textfield 
            id        = "imagetopbottomInput" 
            style     = "min-width:30px; max-width:30px" 
            length    = "4" 
            maxlength = "4" 
            onkeyup   = "forceInteger(this.id)"
            onchange  = "doOverallEnabling()"/>
          <spring flex="100%"/>
          <textfield
            id        = "border" 
            style     = "min-width:30px; max-width:30px" 
            length    = "4" 
            maxlength = "4"
            onkeyup   = "forceInteger(this.id)"
            onchange  = "doOverallEnabling()" />
        </box>
        
        <box align="vertical">
          <text class = "label" 
            id    = "leftrighttypeLabel"
            for   = "imageleftrightInput"
            value = "&pixelsPopup.value;" />
          <spring flex="100%"/>
          <text class = "label" 
            id    = "topbottomtypeLabel"
            for   = "imagetopbottomInput"
            value = "&pixelsPopup.value;" />
          <spring flex="100%"/>
          <text class = "label" 
            id    = "bordertypeLabel"
            for   = "border"
            value = "&pixelsPopup.value;" />
        </box>

      </titledbox>
    </box> <!-- Bottom Right region -->
  </box> <!-- The horizontal box -->
  
  <!-- buttons along bottom -->
  <box align="horizontal">
    <spring flex="100%"/>
    <!-- From EdDialogOverlay -->
    <titledbutton id="AdvancedEditButton3"/>
  </box>
</box> <!-- END OF MORE/FEWER SECTION -->

<separator/>

<!-- from global dialogOverlay -->
<box id="okCancelButtons"/> 

</window>
